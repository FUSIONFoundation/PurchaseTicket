(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{281:function(e,t,a){e.exports=a.p+"static/media/explorer-logo.516c3873.svg"},302:function(e,t,a){e.exports=a(692)},307:function(e,t,a){},345:function(e,t){},347:function(e,t){},372:function(e,t){},417:function(e,t){},529:function(e,t){},625:function(e,t,a){e.exports=a.p+"static/media/radioOn.0ef10e99.svg"},626:function(e,t,a){e.exports=a.p+"static/media/radioOff.53ea8205.svg"},639:function(e,t,a){e.exports=a.p+"static/media/checkboxOn.70a8f228.svg"},64:function(e,t,a){},640:function(e,t,a){e.exports=a.p+"static/media/check_off.f24d3320.svg"},682:function(e,t,a){e.exports=a.p+"static/media/lineGraph.392623ce.svg"},683:function(e,t,a){e.exports=a.p+"static/media/times.a3c0a79b.svg"},684:function(e,t,a){e.exports=a.p+"static/media/9Boxes.ad2520b5.svg"},685:function(e,t,a){e.exports=a.p+"static/media/wallet.e8f2226e.svg"},686:function(e,t,a){e.exports=a.p+"static/media/asset.90f16579.svg"},687:function(e,t,a){e.exports=a.p+"static/media/autobuy.9cef8488.svg"},688:function(e,t,a){e.exports=a.p+"static/media/block.7cca8210.svg"},689:function(e,t,a){e.exports=a.p+"static/media/network.3b85bc05.svg"},690:function(e,t,a){e.exports=a.p+"static/media/swap.8ebdea22.svg"},692:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(43),l=a.n(i),s=(a(307),a(5)),c=a(6),u=a(15),d=a(16),f=a(17),m=a(132),h=(a(64),a(282)),y=a.n(h)()(),g=a(700),k=a(701),p=a(704),b=a(707),w=a(42),x=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"textBlue",get:function(){return"#062144"}},{key:"primaryBlue",get:function(){return"#2a65b0"}},{key:"backgroundGrey",get:function(){return"#f5f7fa"}},{key:"white",get:function(){return"#ffffff"}},{key:"grey",get:function(){return"#e4e9f0"}},{key:"disabledBlue",get:function(){return"#94b2d7"}},{key:"disabledGrey",get:function(){return"#a6a9ad"}},{key:"coolGrey",get:function(){return"#a6a9ad"}},{key:"orderGrey",get:function(){return"#bec5cf"}},{key:"linkBlue",get:function(){return"#2b99ff"}},{key:"textGreen",get:function(){return"#5fa11a"}},{key:"successGreen",get:function(){return"#7ed321"}},{key:"lightSuccessGreen",get:function(){return"#e5f6d3"}},{key:"errorRed",get:function(){return"#d0021b"}},{key:"labelGrey",get:function(){return"#6a6f75"}},{key:"tagGrey",get:function(){return"#e4e9f0"}},{key:"textGrey",get:function(){return"#4a4a4a"}},{key:"sexyPurple",get:function(){return"#462ab0;"}},{key:"tagPurple",get:function(){return"#dad4ef"}}]),e}(),T=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"boldFont",get:function(){return"700"}},{key:"mediumFont",get:function(){return"500"}},{key:"regularFont",get:function(){return"400"}},{key:"fontFamily",get:function(){return"Roboto, san-serif"}}]),e}(),E=a(81),v=a.n(E),B=a(84),S=a.n(B),F=a(77),C=a.n(F),D=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"displayNumber2",value:function(e){var t=e;if(e>=1e3){for(var a=Math.floor((""+e).length/3),n="",r=2;r>=1;r--){if(((n=parseFloat((0!==a?e/Math.pow(1e3,a):e).toPrecision(r)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}n%1!==0&&(n=n.toFixed(2)),t=n+["","K","M","B","T"][a]}return t}},{key:"insert",value:function(e,t,a){return e.substr(0,t)+a+e.substr(t)}},{key:"formatWei",value:function(t){"object"===typeof t&&(t=t.toString());var a=t.length;return a<18&&(t="0".repeat(18-a)+t,a=18),t=18===a?"."+t:e.insert(t,t.length-18,"."),"."===(t=e.removeZeros(t,!0,!0,!0)).charAt(0)?"0"+t:0===t.length?0:t}},{key:"removeZeros",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r="",o="";return r=e,o=a?r.replace(/^[0]+/,""):r,t&&o.indexOf(".")>-1&&(o=o.replace(/[0]+$/,"")),n&&(o=o.replace(/[.]$/,"")),o}},{key:"displayNumber",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=" K M G T P E Z Y".split(" ");if(t<0)return"-"+e.displayNumber(Math.abs(t));if(t<1)return t+r[0];var o=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),r.length-1),i=""+(t/Math.pow(1e3,o)).toFixed(a);return n&&(i=e.removeZeros(i)),i+r[o]}},{key:"displayPercent",value:function(e){return(e*=100).toFixed(2)}},{key:"midHashDisplay",value:function(e){return e.substr(0,9)+"..."+e.substr(e.length-10,9)}},{key:"toAscii",value:function(e){var t="",a=0,n=e.length;for("0x"===e.substring(0,2)&&(a=2);a<n;a+=2){var r=parseInt(e.substr(a,2),16);t+=String.fromCharCode(r)}return t}}]),e}(),N=a(491),L=a(493),O=new(function(){function e(){Object(s.a)(this,e),this.eventEmitter=new C.a,this._web3=null,this.provider=null,this.connectedOnce=!1,this.lastNodeAddress="",this.attempForMonitor=0,this.lastBlock={},this._walletAddress="",this.setupMonitor=this.setupMonitor.bind(this),this.monitoringBlocks={}}return Object(c.a)(e,[{key:"setDataStore",value:function(e){n=e}},{key:"setNodeAddress",value:function(e){var t,a,n=this;if(console.log("Attempting connect"),this.connectedOnce&&e!==this.lastNodeAddress&&(this.connectedOnce=!1),this.lastNodeAddress=e,this.nextMonitorCall&&(clearTimeout(this.nextMonitorCall),this.nextMonitorCall=null),this.subscriptionFSNCallAddress&&(this.subscriptionFSNCallAddress.unsubscribe(function(e){}),this.subscriptionFSNCallAddress=null),0===e.indexOf("ws")){var r=function(){console.log("blockchain connected"),n.connectedOnce=!0,a.__connected=!0,n.emit("connectstatus",["connected"],null),n.mustGetOneBalance=!0,n.setupMonitor()};r=r.bind(this);try{a=new S.a.providers.WebsocketProvider(e,{timeout:1e4})}catch(f){return void setTimeout(function(){n.emit("connectstatus",["error"],f)},1)}t=!1,a.on("connect",r)}else a=new S.a.providers.HttpProvider(e),t=!0;if(t){var o=new S.a(a),i=N.extend(o);return this._web3=i,this._web3.eth.getBlockNumber().then(function(e){n.emit("connectstatus",["connected",e],null),n.setupMonitor()}).catch(function(e){console.log("error web3api connect ",e),n.emit("connectstatus",["error"],e)}),a.__connected=!0,void(this.provider=a)}var l={},s=function(t){a&&!a.__ignoreNotifications&&(console.error("Blockchain WS Error",t),n.emit("connectstatus",["error"],t),l.resetConnection||(n._web3=null,l.resetConnection=!0,n.provider.disconnect(),n.provider=null,a.__connected=!1,setTimeout(function(){n.emit("connectstatus",["disconnected"],null),!0===n.connectedOnce&&n.setNodeAddress(e)},500)))};s=s.bind(this),a.on("error",s);var c=function(){a&&!a.__ignoreNotifications&&(console.log("Blockchain disconnected will try to reconnect"),n.emit("connectstatus",["error"],new Error("disconnected")),l.resetConnection||(a.disconnect(),n._web3=null,n.provider=null,a.__connected=!1,l.resetConnection=!0,setTimeout(function(){n.emit("connectstatus",["disconnected"],null),!0===n.connectedOnce&&n.setNodeAddress(e)},500)))};if(c=c.bind(this),a.on("end",c),this.provider){if(this.previousProvider){this.previousProvider.__ignoreNotifications=!0;try{this.previousProvider.disconnect()}catch(f){}}this.previousProvider=this.provider}this.provider=a;var u=new S.a(a),d=N.extend(u);this._web3=d}},{key:"getBlock",value:function(e,t,a){var n=this,r=this.monitoringBlocks[t],o=!!r&&Object.keys(r).length>1;e?this.on("block"+t,a):this.removeEventListener("block"+t,a),o?a(r):(this.monitoringBlocks[r]={getting:!0},this._web3.eth.getBlock(t).then(function(e){n.monitoringBlocks[t]=e,n.emit("block"+t,e)}).catch(function(e){n.monitoringBlocks[t]={error:!0,errObject:e},n.emit("block"+t,n.monitoringBlocks[t])}))}},{key:"startFilterEngine",value:function(){}},{key:"checkConnection",value:function(){if(!this._web3||!this.provider||!this.provider.__connected)throw this.emit("connectstatus",["error"],new Error("no connection")),new Error("disconnected")}},{key:"setupMonitor",value:function(){var e=this;if(!this._web3||!this.provider||!this.provider.__connected)return this.emit("connectstatus",["error"],new Error("no connection")),void setTimeout(function(){e.setupMonitor()},4e3);this.subscriptionFSNCallAddress||this.startFilterEngine();var t=this._walletAddress;this.attempForMonitor+=1;var a=this.attempForMonitor;console.log("checking connection "),this._web3.eth.getBlock("latest").then(function(a){if(!a)throw new Error("no block");if(e.emit("connectstatus",["stillgood"],!1),e.checkConnection(),e.lastBlock.number!==a.number||e.mustGetOneBalance)return e.mustGetOneBalance=!1,e.lastBlock=a,e.emit("latestBlock",a),!t||t!==e._walletAddress||(e.checkConnection(),e._web3.fsn.getAllBalances(t).then(function(e){return e}).then(function(a){return e.checkConnection(),e._web3.fsn.getAllTimeLockBalances(e._walletAddress).then(function(r){var o=new n.BN(0),i=r[e._web3.fsn.consts.FSNToken];if(i&&i.Items){var l=i.Items,s=!0,c=!1,u=void 0;try{for(var d,f=l[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var m=d.value,h=(new Date).getTime()/1e3,y=(new Date).getTime()/1e3+2592e3;(m.EndTime>=y||m.EndTime===e._web3.fsn.consts.TimeForever)&&m.StartTime<h&&(o=o.add(new n.BN(m.Value)))}}catch(g){c=!0,u=g}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}}return e.checkConnection(),e._web3.fsn.allTicketsByAddress(t).then(function(e){return console.log("c5"),{allBalances:a,allTickets:e,timelockUsableBalance:o}})})}).then(function(t){return e.checkConnection(),e._web3.fsn.ticketPrice().then(function(e){return Object.assign(t,{ticketPrice:e})})}).then(function(t){return e.checkConnection(),e._web3.eth.getGasPrice().then(function(e){return Object.assign(t,{gasPrice:e})})}).then(function(t){return e.checkConnection(),e._web3.fsn.totalNumberOfTickets().then(function(e){return Object.assign(t,{totalTickets:e,latestBlock:a})})}).then(function(t){var a={method:"GET",uri:"https://api.fusionnetwork.io/balances/"+e._walletAddress,qs:{},headers:{},json:!0,gzip:!0};return L(a).then(function(e){return Array.isArray(e)&&e.length>0?Object.assign(t,{rewardEarn:e[0].rewardEarn}):t}).catch(function(e){return t})}).then(function(t){e.emit("balanceInfo",t,!1)}))}).then(function(t){setTimeout(function(){e.setupMonitor()},4e3)}).catch(function(t){e.attempForMonitor===a&&(e.emit("connectstatus",["error"],t),setTimeout(function(){e.setupMonitor()},7e3))})}},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:"emit",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.eventEmitter.emit(e,t,a)}},{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"stopTicketPurchase",value:function(){n.data.ticketPurchasing.activeTicketPurchase=!1,this.lastTicketCheckTimer&&(clearTimeout(this.lastTicketCheckTimer),n.data.lastStatus="Completed",n.data.lastCall="purchaseCompleted",this.emit("purchaseCompleted",n))}},{key:"buyTickets",value:function(e){var t,a=this,r=Object.assign(e,{original:!0});n.data.ticketPurchasing=e,e.purchaseStarted=!0,e.activeTicketPurchase=!0,e.ticketsPurchased=0,e.startBlock=this.lastBlock.number,e.lastStatus="",this.lastTicketCheckTimer&&(clearTimeout(this.lastTicketCheckTimer),this.lastTicketCheckTimer=null);var o=function(){if((a.lastTicketCheckTimer=null,e.autoBuyStopDate)&&e.date.getTime()<(new Date).getTime())return e.lastStatus="Completed",e.lastCall="purchaseCompleted",e.activeTicketPurchase=!1,void a.emit("purchaseCompleted",e);e.autoBuyTickets&&e.ticketQuantity<n.data.numberOfTickets?(e.lastStatus="Waiting for ticket level to drop...",e.lastCall="purchaseWaitForNewBlock",a.emit("purchaseWaitForNewBlock",e),a.lastTicketCheckTimer=setTimeout(o,1e3)):e.startBlock<a.lastBlock.number?a.purchaseOneTicket(e,t):(e.lastStatus="Waiting for new block...",e.lastCall="purchaseWaitForNewBlock",a.emit("purchaseWaitForNewBlock",e),a.lastTicketCheckTimer=setTimeout(o,1e3))};o=o.bind(this),t=(t=function(t,n){setTimeout(function(){if(t||(e.ticketsPurchased+=1),e.lastStatus=n,e.activeTicketPurchase&&e.ticketsPurchased<e.ticketQuantity)t||(e.lastStatus="Purchase next ticket"),e.lastCall="purchaseAgain",a.emit("purchaseAgain",e),a.lastTicketCheckTimer=setTimeout(o,1e3);else{if(e.activeTicketPurchase&&e.autoBuyTickets)return void a.buyTickets(r);e.lastStatus="Completed",e.lastCall="purchaseCompleted",e.activeTicketPurchase=!1,a.emit("purchaseCompleted",e)}},10)}).bind(this);var i=function(r){e.autoBuyTickets&&e.ticketQuantity<n.data.numberOfTickets?(e.lastStatus="Waiting for ticket level to drop...",e.lastCall="purchaseWaitForNewBlock",a.emit("purchaseWaitForNewBlock",e),a.lastTicketCheckTimer=setTimeout(o,1e3)):a.purchaseOneTicket(e,t)};i=i.bind(this),this.freeTicketTimeLockbalances(e,i),e.lastCall="purchaseStarted",this.emit("purchaseStarted",e)}},{key:"unlockNextTimeLock",value:function(e,t,a,r){var o=this;if(e.length===t||r&&!r.activeTicketPurchase)return!0;var i=e[t],l={from:this._walletAddress,to:this._walletAddress,start:"0x"+i.StartTime.toString(16),end:this._web3.fsn.consts.TimeForeverStr,value:i.Value,asset:this._web3.fsn.consts.FSNToken};return this._web3.fsntx.buildTimeLockToAssetTx(l).then(function(e){return o._web3.fsn.signAndTransmit(e,n.data.signInfo.signTransaction)}).then(function(n){return console.log("Unlock request sent for 200 Ticket -> ",n),o.unlockNextTimeLock(e,t+1,a,r)}).catch(function(n){return console.log(l),console.log(n),o.unlockNextTimeLock(e,t+1,a,r)})}},{key:"freeTicketTimeLockbalances",value:function(e,t){return t(null,e)}},{key:"purchaseOneTicket",value:function(e,t){var a=this;if(this._web3&&this.provider&&this.provider.__connected){var r=e.daysQuantity;(isNaN(r)||r<21||r>100)&&(r=30);var o=Math.floor((new Date).getTime()/1e3),i="0x"+(o+=86400*r).toString(16);this._web3.fsntx.buildBuyTicketTx({from:this._walletAddress,end:i}).then(function(e){if(console.log(e),a._web3&&a.provider&&a.provider.__connected)return a._web3.fsn.signAndTransmit(e,n.data.signInfo.signTransaction);t(new Error("reconnecting"),"reconnecting")}).then(function(n){return console.log("buy ticket tx -> ",n),e.activeTicketPurchase?(e.lastStatus="Pending Tx:"+D.midHashDisplay(n),e.lastCall="purchaseSubmitTicket",a.emit("purchaseSubmitTicket",e),a.checkConnection(),a.waitForTransactionToComplete(n,e,(new Date).getTime()+12e4).then(function(e){e.status?t(null,"Ticket bought"):t(new Error("failed to buy"),"Failed to buy ticket will retry")}).catch(function(e){t(e,"Error waiting for ticket to complete")})):(t(null,"asked to leave"),!0)}).catch(function(e){console.log(e),t(e,"unknown err")})}else t(new Error("reconnecting"),"reconnecting")}},{key:"waitForTransactionToComplete",value:function(e,t,a){var n=this;if(!this._web3||!this.provider||!this.provider.__connected)throw new Error("reconnecting");if(!t.activeTicketPurchase)return!0;var r=(new Date).getTime();if(a<r)throw new Error("Error waiting for ticket to complete, timed out");return this._web3.eth.getTransactionReceipt(e).then(function(r){if(!r){if(!t.activeTicketPurchase)throw Error("asked to stop purchasing");return n.waitForTransactionToComplete(e,t,a)}return r}).catch(function(e){throw e})}},{key:"web3",get:function(){return this._web3||(this._web3=N.extend(new S.a)),this._web3}},{key:"walletAddress",set:function(e){e!==this._walletAddress&&(this._walletAddress=e,this.mustGetOneBalance=!0,n.data.ticketPurchasing={},n.data.rewardsToDate="-")},get:function(){return this._walletAddress}}]),e}()),W=O.web3.utils.BN,A={web3api:O,BN:W,latestBlock:{},accountUnlocked:!1,autoBuyOn:!1,balanceOfFSN:0,numberOfTicketsToPurchase:0,numberOfTickets:0,autoBuy:!1,autoReinvestReward:!1,totalTickets:0,rewardsToDate:new W("0"+"0".repeat(18)),lastUpdateTime:new Date,signInfo:{address:"0x4A5a7Aa4130e407d3708dE56db9000F059200C62"},gasPrice:new W("0"),ticketPrice:new W("200"+"0".repeat(18)),walletBalance:new W("0"),timelockUsableBalance:new W("0"),autoBuyStopTime:v()("20190214","YYYYMMDD"),lastTicketExpires:v()("20190101","YYYYMMDD")},P=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"setBalanceInfo",value:function(e){A.lastUpdateTime=new Date,e.ticketPrice&&(A.ticketPrice=new W(e.ticketPrice)),e.allBalances&&(A.walletBalance=new W(e.allBalances["0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"])),e.timelockUsableBalance&&(A.timelockUsableBalance=e.timelockUsableBalance),e.gasPrice&&(A.gasPrice=new W(e.gasPrice)),e.totalTickets&&(A.totalTickets=e.totalTickets),e.allTickets&&(A.numberOfTickets=Object.keys(e.allTickets).length,A.allTickets=e.allTickets),e.latestBlock&&(A.latestBlock=e.latestBlock),e.rewardEarn&&(A.rewardsToDate=e.rewardEarn)}},{key:"BN",get:function(){return W}},{key:"web3api",get:function(){return O}},{key:"data",get:function(){return A}}]),e}();O.setDataStore(P);var R,G,j,z=a(283),I=a.n(z),_=(a(126),P.web3api),M=a(625),U=a(626),V=I()("selectFiles")(function(e){var t,a=e.selectFiles;return j=a,"Wallet File Valid"===G&&(t=o.a.createElement("i",{key:"c11",className:"fa fa-check-circle",style:{color:x.successGreen,marginRight:4}})),o.a.createElement(g.a,{key:G,style:R.selectWalletFileText},t,G)}),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={accessViaPrivateKey:!1,secureEntry:!0,password:""},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.accessViaPrivateKey,a=R.unlockWalletButtonDisabled,n=!1;return t&&this.state.privateKeyOK?(a=R.unlockWalletButton,n=!0):!t&&this.state.keyData&&this.state.privateKeyOK&&(a=R.unlockWalletButton,n=!0),o.a.createElement(m.a,{style:R.container},o.a.createElement(m.a,{style:R.innerContainer},o.a.createElement(g.a,{style:R.title},"Access Your Wallet")),o.a.createElement(m.a,{style:R.accessBox},o.a.createElement(g.a,{style:R.textHowToAccess},"How would you like to access your wallet?"),o.a.createElement(m.a,{style:{flexDirection:"row"}},o.a.createElement(k.a,{onPress:function(){e.setState({unlockError:!1,keyData:null,privateKeyOK:!1,password:null,accessViaPrivateKey:!t})}},o.a.createElement(m.a,{style:{flexDirection:"row"}},o.a.createElement(p.a,{source:t?U:M,resizeMode:"contain",style:{width:14,height:14}}),o.a.createElement(g.a,{style:R.radioSelectionText},"Keystore / JSON File"))),o.a.createElement(k.a,{onPress:function(){e.setState({unlockError:!1,keyData:null,privateKeyOK:!1,password:null,accessViaPrivateKey:!t})}},o.a.createElement(m.a,{style:{flexDirection:"row"}},o.a.createElement(p.a,{source:t?M:U,resizeMode:"contain",style:{width:14,height:14}}),o.a.createElement(g.a,{style:R.radioSelectionText},"Private Key")))),o.a.createElement(m.a,{style:R.selectionBox},t?this.privateKeyRender():this.keyStoreRender()),o.a.createElement(k.a,{disabled:!n,onPress:function(){if(e.state.accessViaPrivateKey){var t=e.state.password;t.startsWith("0x")||(t="0x"+t),P.data.accountUnlocked=!0,P.data.signInfo=_.web3.eth.accounts.privateKeyToAccount(t),_.walletAddress=P.data.signInfo.address}else try{var a=e.state.keyData,n=a.Crypto||a.crypto;P.data.accountUnlocked=!0,P.data.signInfo=_.web3.eth.accounts.decrypt({crypto:n,version:a.version},e.state.password),_.walletAddress=P.data.signInfo.address}catch(r){return void e.setState({unlockError:!0})}y.push("/Status")}},o.a.createElement(m.a,null,o.a.createElement(g.a,{style:a},"Unlock Wallet")))))}},{key:"keyStoreRender",value:function(){var e=this,t=x.white,a=this.state.unlockError?x.errorRed:x.orderGrey;return G=this.state.keyData?"Wallet File Valid":"Select a Wallet File...",o.a.createElement(m.a,{key:"accek"},o.a.createElement(g.a,{style:R.textHowToAccess},"Select your wallet file and enter your password. Please ensure that the above URL is correct before loading wallets or entering passwords."),o.a.createElement(k.a,{onPress:function(){j({multiple:!1}).then(function(t){if(1===t.length){var a=new FileReader;a.onload=function(t){var a=t.target.result;a||e.setState({error:"Unable to read file",keyData:null});try{var n=JSON.parse(a);n.address?e.setState({error:null,keyData:n}):e.setState({error:"Invalid key store file ",keyData:null})}catch(r){e.setState({error:"Unable to read file",keyData:null})}},a.onerror=function(t){e.setState({error:"Unable to read file",keyData:null})},a.readAsText(t[0])}})}},o.a.createElement(m.a,{style:[R.selectWalletBox,{backgroundColor:t}]},o.a.createElement(V,null))),this.state.error&&o.a.createElement(g.a,{style:R.errorText},this.state.error),o.a.createElement(g.a,{style:R.labelText},"Enter Your Password"),o.a.createElement(m.a,{style:[R.passwordInputBox,{borderColor:a}]},o.a.createElement(b.a,{style:R.passwordInput,placeholder:"Password",autoCorrect:!1,autoComplete:"current-password",secureTextEntry:this.state.secureEntry,placeholderTextColor:x.orderGrey,maxLength:128,value:this.state.password,onChangeText:function(t){e.setState({unlockError:!1,password:t,privateKeyOK:t&&t.length})}}),o.a.createElement(m.a,{style:{width:1,height:36,backgroundColor:x.orderGrey}}),o.a.createElement(k.a,{onPress:function(){e.setState({secureEntry:!e.state.secureEntry})}},o.a.createElement(m.a,{style:{backgroundColor:x.backgroundGrey,width:32,flex:1,justifyContent:"center",alignItems:"center"}},this.state.secureEntry?o.a.createElement("i",{className:"fa fa-eye"}):o.a.createElement("i",{className:"fa fa-eye-slash"})))),this.state.unlockError&&o.a.createElement(m.a,null,o.a.createElement(m.a,{style:{height:4,width:3}}),o.a.createElement(g.a,{style:R.errorText},"The password provided is invalid.")))}},{key:"privateKeyRender",value:function(){var e=this;return o.a.createElement(m.a,{key:"prik"},o.a.createElement(g.a,{style:R.textHowToAccess},"Enter your private keys. Please ensure that the above URL is correct before loading wallets or entering passwords."),o.a.createElement(m.a,{style:{height:8,width:1}}),o.a.createElement(g.a,{style:R.labelText},"Enter Your Private Key"),o.a.createElement(m.a,{style:R.passwordInputBox},o.a.createElement(b.a,{style:R.passwordInput,placeholder:"Private Key",autoCorrect:!1,autoComplete:"current-password",secureTextEntry:this.state.secureEntry,placeholderTextColor:x.orderGrey,maxLength:66,value:this.state.password,onChangeText:function(t){t.startsWith("0x")&&t.length<66||!t.startsWith("0x")&&t.length<64?e.setState({privateKeyOK:!1,password:t}):e.setState({privateKeyOK:_.web3.utils.isHexStrict(t.startsWith("0x")?t:"0x"+t),password:t})}}),o.a.createElement(m.a,{style:{width:1,height:36,backgroundColor:x.orderGrey}}),o.a.createElement(k.a,{onPress:function(){e.setState({secureEntry:!e.state.secureEntry})}},o.a.createElement(m.a,{style:{backgroundColor:x.backgroundGrey,width:32,flex:1,justifyContent:"center",alignItems:"center"}},this.state.secureEntry?o.a.createElement("i",{class:"fa fa-eye"}):o.a.createElement("i",{class:"fa fa-eye-slash"})))),o.a.createElement(m.a,{style:{height:32,width:1}}))}}]),t}(r.Component);R=w.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",width:"100%"},innerContainer:{width:620,flexGrow:1,flex:1,flexShrink:0,justifyContent:"center",alignItems:"flex-start"},title:{fontSize:24,fontFamily:T.fontFamily,fontWeight:T.boldFont,color:x.textBlue,marginTop:35,alignSelf:"flex-start",marginBottom:16},textHowToAccess:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.textBlue,alignSelf:"flex-start",marginBottom:16},radioSelectionText:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.textBlue,marginRight:16,marginLeft:8},accessBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,alignItems:"flex-start",width:620,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)",paddingTop:24,paddingBottom:24,paddingLeft:32,paddingRight:32},selectWalletBox:{borderColor:x.orderGrey,borderRadius:4,backgroundColor:"white",borderWidth:1,width:516,height:48,overflow:"visible",flex:1,flexBasis:"100%",justifyContent:"center",alignItems:"center",marginBottom:16},passwordInputBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",justifyContent:"flex-end",height:36,width:512,marginTop:4},passwordInput:{fontSize:13,color:x.textBlue,fontFamily:T.fontFamily,fontWeight:T.regularFont,width:482,paddingLeft:6},selectionBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:x.backgroundGrey,borderWidth:1,width:556,alignItems:"flex-start",paddingTop:16,paddingBottom:16,paddingLeft:20,paddingRight:20,marginTop:20},labelText:{fontSize:12,color:x.labelGrey,fontFamily:T.fontFamily,fontWeight:T.regularFont},selectWalletFileText:{fontSize:16,color:x.textBlue,fontFamily:T.fontFamily,fontWeight:T.mediumFont,textAlign:"center"},errorText:{fontSize:12,color:x.errorRed,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginBottom:8},unlockWalletButtonDisabled:{fontSize:16,width:556,borderRadius:3,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.white,backgroundColor:x.disabledBlue,textAlign:"center",padding:12,marginTop:20},unlockWalletButton:{fontSize:16,width:556,borderRadius:3,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.white,backgroundColor:x.linkBlue,textAlign:"center",padding:12,marginTop:20}});var H,Q=a(9),Y=a(702),q=a(639),Z=a(640),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={textWidth:a.props.textWidth||620},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(m.a,{style:[H.container,{width:this.state.textWidth,opacity:this.props.disabled?.4:1}]},o.a.createElement(m.a,{style:H.containerInner},o.a.createElement(k.a,{disabled:this.props.disabled,onPress:function(){e.props.onPress(!e.props.on)}},o.a.createElement(p.a,{source:this.props.on?q:Z,style:H.checkOn})),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:H.questionText},this.props.text),this.props.subText&&o.a.createElement(g.a,{style:[H.questionSubText,{width:this.state.textWidth}]},this.props.subText),this.props.children)))}}]),t}(r.Component);H=w.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginTop:10},containerInner:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent"},checkOn:{marginRight:15,width:20,height:20},questionText:{fontSize:14,color:x.textBlue,fontFamily:T.fontFamily,fontWeight:T.mediumFont,marginBottom:6},questionSubText:{fontSize:14,color:x.labelGrey,fontFamily:T.fontFamily,fontWeight:T.mediumFont,marginBottom:16}});var $,X=a(301),ee=(a(680),P.data.BN),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this))).state={ticketQuantity:void 0,daysQuantity:"30",totalCost:0,daysError:!1,totalCostString:"0",autoBuyTickets:!1,reinvestReward:!1,autoBuyStopDate:!1,totalPrice:new ee(0),error:!1,repaintKey:0,date:new Date((new Date).getTime()+864e5)},a.onChangeDate=a.onChangeDate.bind(Object(Q.a)(Object(Q.a)(a))),a.balanceListener=a.balanceListener.bind(Object(Q.a)(Object(Q.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"totalStake",value:function(e){return e.numberOfTickets*e.ticketPrice}},{key:"balanceListener",value:function(e){P.setBalanceInfo(e),this.calcDisplay(P.data,this.state.ticketQuantity),this.setState({repaintKey:this.state.repaintKey+1})}},{key:"componentDidMount",value:function(){P.web3api.on("balanceInfo",this.balanceListener)}},{key:"componentWillUnmount",value:function(){P.web3api.removeEventListener("balanceInfo",this.balanceListener)}},{key:"render",value:function(){var e,t,a=this,n=P.data,r=$.purchaseTicketButtonDisabled,i=!1,l="Purchase Tickets";n.accountUnlocked&&(n.web3api.walletAddress=n.signInfo.address),this.state.ticketQuantity>0&&(r=$.purchaseTicketButton,i=!0,l=1===this.state.ticketQuantity?"Purchase 1 Ticket":"Purchase ".concat(this.state.ticketQuantity," Tickets")),this.state.error?(i=!1,r=$.purchaseTicketButtonDisabled,e=x.errorRed):e=x.textBlue,this.state.daysError?(i=!1,r=$.purchaseTicketButtonDisabled,t=x.errorRed):t=x.textBlue;var s=n.totalTickets>0?D.displayPercent(n.numberOfTickets/n.totalTickets):"0.00";if("0.00"===s&&n.numberOfTickets>0&&(s="< 0.01"),!n.accountUnlocked)return o.a.createElement(m.a,{style:{padding:15}},o.a.createElement(g.a,{style:$.Auto_Buy_Stake_Monit},"Your Account Must be unlocked to use this screen."),o.a.createElement(k.a,{style:{width:100},onPress:function(){y.push("/UnlockAccount")}},o.a.createElement(g.a,{style:$.activeButton},"Select An Account")));var c=this.state.error?x.errorRed:x.orderGrey;return o.a.createElement(m.a,{style:{marginLeft:30,backgroundColor:x.backgroundGrey}},o.a.createElement(m.a,{style:$.container},o.a.createElement(g.a,{style:$.Auto_Buy_Stake_Monit},"Purchase Staking Tickets"),o.a.createElement(m.a,{style:$.walletBox},o.a.createElement(g.a,{style:$.walletLabel},"Wallet Address"),o.a.createElement(k.a,{onPress:function(){Y.a.setString(n.signInfo.address)}},o.a.createElement(g.a,{style:$.walletLabelAddress},n.signInfo.address,o.a.createElement("i",{style:{marginLeft:4},className:"fa fa-copy"})))),o.a.createElement(m.a,{style:$.stakeDetailBox},o.a.createElement(g.a,{style:$.infoText},"Earn rewards by purchasing staking tickets. You will earn a reward of 2.5 FSN per selected ticket. If your ticket is not selected, your FSN will be returned when the ticket expires (the days selected after purchase). NOTE: Only one ticket at a time can be purchased per block for an address. ALSO when there are not enough time locked tokens, buy ticket will automatically time lock 200 FSN to purchase a ticket. After the ticket expires the purchase ticket program will try to remove the time lock from the 200 FSN. This will use gas from your account to send the unlock request.",o.a.createElement(k.a,{onPress:function(){window.open("https://fusion.org")}},o.a.createElement(g.a,{style:[$.infoTextLink,{marginLeft:4}]},"Learn More"))),o.a.createElement(m.a,{style:{height:20}}),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:[$.fundsDetailRow,{backgroundColor:x.backgroundGrey}]},o.a.createElement(g.a,{style:$.labelLineText},"Funds Available (FSN+Timelocked FSN)"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.statText},D.formatWei(n.timelockUsableBalance.add(n.walletBalance)),o.a.createElement(g.a,{style:$.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:$.stakeDetailRow},o.a.createElement(g.a,{style:$.labelLineText},"Ticket Price"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.valText},D.formatWei(n.ticketPrice),o.a.createElement(g.a,{style:$.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:$.stakeDetailRow},o.a.createElement(g.a,{style:$.labelLineText},"Gas Price"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.valText},D.formatWei(n.gasPrice),o.a.createElement(g.a,{style:$.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:[$.stakeDetailRow,{height:78}]},o.a.createElement(g.a,{style:$.labelLineText},"Ticket Quantity"),o.a.createElement(m.a,null,o.a.createElement(m.a,{style:{flex:1,flexDirection:"row"}},this.state.error&&o.a.createElement(m.a,{style:$.errorForFundsBox},o.a.createElement(g.a,{style:$.errorForFunds},"You don't have enough FSN"),o.a.createElement("i",{style:{position:"relative",left:-1,color:x.errorRed},className:"fa fa-caret-right"})),o.a.createElement(b.a,{style:[$.ticketQuantityInput,{borderColor:c}],placeholder:"0",autoCorrect:!1,placeholderTextColor:x.orderGrey,maxLength:10,value:""+(this.state.ticketQuantity||""),onChangeText:function(e){a.calcDisplay(n,e)}})),o.a.createElement(k.a,{onPress:function(){var e=new ee(n.gasPrice),t=new ee(n.ticketPrice);t=t.add(e);var r=n.timelockUsableBalance.add(n.walletBalance).div(t);a.calcDisplay(n,r.toNumber())}},o.a.createElement(g.a,{style:$.maxIt},"Max Quantity")))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:[$.stakeDetailRow,{height:78}]},o.a.createElement(g.a,{style:$.labelLineText},"Ticket Days"),o.a.createElement(m.a,null,o.a.createElement(m.a,{style:{flex:1,flexDirection:"row"}},o.a.createElement(b.a,{style:[$.ticketQuantityInput,{color:t,borderColor:this.state.daysError?x.errorRed:x.orderGrey}],placeholder:"30",autoCorrect:!1,placeholderTextColor:x.orderGrey,maxLength:10,value:""+(this.state.daysQuantity||""),onChangeText:function(e){var t=parseInt(e);isNaN(t)||t<21||t>100?a.setState({daysQuantity:e,daysError:!0}):a.setState({daysQuantity:t,daysError:!1})}})),o.a.createElement(g.a,{style:[$.maxIt,{color:x.orderGrey}]},"(21-100)"))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:{height:16,width:1}}),o.a.createElement(m.a,{style:[$.stakeDetailRow,{height:30}]},o.a.createElement(g.a,{style:$.labelLineText},"Total Cost"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.costCalcLineText},"Ticket Cost ",this.state.ticketQuantity||"0"," x"," ",D.formatWei(n.ticketPrice)," FSN"))),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.costCalcLineText},"Gas Cost ",this.state.ticketQuantity||"0"," x"," ",D.formatWei(n.gasPrice)," FSN"),o.a.createElement(m.a,{style:{height:16,width:1}}),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:[$.stakeTextVal,{color:e}]},this.state.totalCostString,o.a.createElement(g.a,{style:$.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:{height:20,width:1}}),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:{height:16,width:1}}),o.a.createElement(J,{textWidth:512,onPress:function(){var e={autoBuyTickets:!a.state.autoBuyTickets};e.autoBuyTickets||(e.autoBuyStopDate=!1),a.setState(e)},on:this.state.autoBuyTickets,text:"Auto Buy Tickets",subText:"Tickets will be repurchased when they expire or when they win rewards"}),o.a.createElement(J,{textWidth:512,disabled:!this.state.autoBuyTickets,onPress:function(){a.setState({autoBuyStopDate:!a.state.autoBuyStopDate})},on:this.state.autoBuyStopDate,text:"Auto Buy Stop Date",subText:"Auto Buy will stop on desired date"},this.state.autoBuyStopDate&&o.a.createElement(X.a,{onChange:this.onChangeDate,selected:this.state.date,minDate:new Date((new Date).getTime()+864e5),showTimeSelect:!0,dateFormat:"Pp"})),o.a.createElement(k.a,{disabled:!i,onPress:function(){a.purchaseTicket()}},o.a.createElement(m.a,null,o.a.createElement(g.a,{style:r},l))),o.a.createElement(m.a,{style:{height:16,width:1}}),o.a.createElement(g.a,{style:$.footerText},"Funds used to purchase tickets will be sent back after tickets have expired. Tickets expire 30 days after date of purchase. Your browser window must remain open to continue autobuy."))))}},{key:"purchaseTicket",value:function(){P.web3api.buyTickets(this.state),this.setState({purchasingTicket:!0}),y.push("/Status")}},{key:"onChangeDate",value:function(e){var t=new Date((new Date).getTime()+864e5);e.getTime()<t.getTime()&&(e=t),this.setState({date:e})}},{key:"calcDisplay",value:function(e,t){var a=parseInt(t);!a&&(0!==a||a<0)&&(a=0);var n=new ee(a);n=n.mul(e.gasPrice);var r=new ee(a);r=r.mul(e.ticketPrice),n=n.add(r);var o=D.formatWei(n.toString());this.setState({ticketQuantity:a,totalPrice:n,totalCostString:o,error:n.gt(e.timelockUsableBalance.add(e.walletBalance))})}}]),t}(r.Component);$=w.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",marginTop:15,marginLeft:15,backgroundColor:x.backgroundGrey},sectionTitle:{fontSize:24,lineHeight:32,fontFamily:"Roboto, san-serif",fontWeight:T.boldFont,color:x.textBlue},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"},Auto_Buy_Stake_Monit:{fontSize:24,lineHeight:32,fontFamily:T.fontFamily,fontWeight:T.boldFont,color:x.textBlue,marginBottom:4},lastUpdated:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.labelGrey},labelLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.labelGrey},simpleLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.textBlue},activeButton:{color:x.textGreen,fontSize:14,backgroundColor:x.lightSuccessGreen,fontFamily:T.fontFamily,padding:8,fontWeight:T.regularFont},stopAutoBuyButton:{padding:8,fontSize:14,color:x.errorRed,fontWeight:T.regularFont},startAutoBuyButton:{color:x.textBlue,padding:8,fontSize:14,fontWeight:T.regularFont},inActiveButton:{color:x.textBlue,fontSize:14,backgroundColor:x.backgroundGrey,fontFamily:T.fontFamily,padding:8,fontWeight:T.regularFont},stakingMonitorActive:{fontSize:32,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.boldFont,marginTop:8,marginBottom:4},stakingMonitorActivePercent:{fontSize:32,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.boldFont,marginTop:4,marginBottom:4,marginLeft:1},largeMetricBox:{flex:1,flexBasis:"100%",flexDirection:"row",justifyContent:"space-between",marginTop:20,width:620},stakeTextFSN:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,marginLeft:4},viewTicketDetails:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,color:x.linkBlue},maxIt:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.mediumFont,color:x.linkBlue,alignSelf:"flex-end"},stakeTextVal:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont,color:x.textBlue,alignSelf:"flex-end"},valText:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:x.textBlue,alignSelf:"flex-end"},dateValue:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.textBlue},statText:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:x.textBlue},infoText:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:x.textGrey,lineHeight:"1.71"},infoTextLink:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:x.linkBlue},orderBorder:{backgroundColor:x.orderGrey,height:1,width:556},rewardsGivenBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:200,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rewardHolderView:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:388,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rwcTextViewbox:{marginBottom:16},rewardHolderViewText:{width:227,marginLeft:32,flex:1,flexBasis:"100%",justifyContent:"center"},rewardHolderViewGradient:{backgroundImage:"linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0))",width:40,marginLeft:32,position:"absolute",height:130,left:138},rewardGivenBoxTextHolder:{marginLeft:32,paddingTop:8},textNumberOfRewardsGivenType:{fontSize:12,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.regularFont,marginBottom:10,marginLeft:4},textNumberOfRewardsGivenTypeSmaller:{fontSize:12,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.regularFont,marginBottom:6,marginLeft:4},textNumberOfRewardsGiven:{fontSize:48,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.boldFont,marginTop:8},textNumberOfRewardsGivenSmaller:{fontSize:36,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.boldFont,marginTop:8},rewardsGivenBoxRewardCount:{flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",marginTop:-2},lineGraph:{width:216,height:126,position:"absolute",left:170,overflow:"visible"},walletBox:{backgroundColor:x.tagGrey,borderRadius:3,width:620,height:48,marginTop:20,flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},walletLabel:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginLeft:32,color:x.labelGrey},walletLabelAddress:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginRight:32,color:x.textBlue},stakeDetailText:{color:x.textBlue,fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont},stakesPurchaseTicketButtton:{borderRadius:3,padding:8,backgroundColor:x.primaryBlue,color:x.white,fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont},stakesStopAutoBuy:{borderColor:x.backgroundGrey,borderWidth:1,borderRadius:3,padding:8,backgroundColor:x.white},stakesStopAutoBuyText:{backgroundColor:x.white,color:x.errorRed,fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont},stakeDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:56},fundsDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:44},errorForFunds:{fontSize:12,fontWeight:T.mediumFont,fontFamily:T.fontFamily,color:x.white,backgroundColor:x.errorRed,paddingTop:6,paddingBottom:6,paddingLeft:8,paddingRight:8,borderRadius:3,height:24,alignSelf:"center"},errorForFundsBox:{flex:1,flexDirection:"row",marginRight:6,alignItems:"center"},ticketQuantityInput:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,fontSize:14,fontFamily:T.mediumFont,color:x.labelGrey,height:36,width:110,marginTop:6,marginBottom:6,alignSelf:"flex-end",textAlign:"right",paddingRight:4,paddingLeft:4,outline:"none"},costCalcLineText:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.mediumFont,color:x.labelGrey,alignSelf:"flex-end"},purchaseTicketButtonDisabled:{fontSize:16,width:556,borderRadius:3,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.white,backgroundColor:x.disabledBlue,textAlign:"center",padding:12,marginTop:20},purchaseTicketButton:{fontSize:16,width:556,borderRadius:3,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.white,backgroundColor:x.linkBlue,textAlign:"center",padding:12,marginTop:20},footerText:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:x.disabledGrey}});var ae,ne=te,re=P.web3api,oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).lastestBlockListener=a.lastestBlockListener.bind(Object(Q.a)(Object(Q.a)(a))),a.state={},a.state.block=null,a.state.expand=!1,a.state.displayLeftRight=e.displayLeftRight,a.props.match&&a.props.match.params&&a.props.match.params.blockNumber&&(a.state.blockNumberToDisplay=a.props.match.params.blockNumber,a.state.expand=!0,a.state.displayLeftRight=!0),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.block||this.state.block;if(!t)return o.a.createElement(g.a,null,"Lastest Block Will Display Here");if(this.state.expand){var a=[];if(t.transactions&&t.transactions.length>0){var n=!0,r=!1,i=void 0;try{for(var l,s=t.transactions[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=l.value;a.push(o.a.createElement(m.a,{key:c},o.a.createElement(g.a,null,c)))}}catch(u){r=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}return o.a.createElement(m.a,{style:ie.stakeDetailBox},o.a.createElement(m.a,{style:{flex:1,flexDirection:"row"}},o.a.createElement(k.a,{onPress:function(){e.setState({expand:!1})}},o.a.createElement(g.a,null,"Latest Block Number = ",t.number,o.a.createElement("i",{style:{color:x.textBlue,marginLeft:4},className:"fa fa-caret-up"}))),this.state.displayLeftRight&&o.a.createElement(m.a,{style:{flex:1,flexDirection:"row"}},o.a.createElement(k.a,{onPress:function(){e.cleanupBlock(),e.setupBlock(t.number-1)}},o.a.createElement("i",{style:{color:x.textBlue,marginLeft:4,marginRight:8,fontSize:16},className:"fa fa-caret-left"})),o.a.createElement(k.a,{onPress:function(){e.setState({expand:!1})}},o.a.createElement("i",{style:{color:x.textBlue,marginLeft:4,fontSize:16},className:"fa fa-caret-right"})))),o.a.createElement(m.a,{style:{height:8,width:1}}),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Time Stamp"),o.a.createElement(g.a,{style:ie.stakeTextFSN},"(",t.timestamp,") ",new Date(1e3*t.timestamp).toString())),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Hash"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.hash)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Parent Hash"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.parentHash)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Miner"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.miner)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Nonce"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.nonce)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Size"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.size)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Gas Used:"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.gasUsed)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Gas Limit:"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.gasLimit)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Transactions #:"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.transactions.length)),a,o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Total Difficulty:"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.totalDifficulty)),o.a.createElement(m.a,{style:ie.orderBorder}))}return o.a.createElement(k.a,{onPress:function(){e.setState({expand:!0})}},o.a.createElement(m.a,{style:ie.stakeDetailSmall},o.a.createElement(g.a,null,"Latest Block Number = ",t.number,o.a.createElement("i",{style:{color:x.textBlue,marginLeft:4},className:"fa fa-caret-down"}))))}},{key:"lastestBlockListener",value:function(e){this.setState({block:e})}},{key:"setupBlock",value:function(e){var t=e||this.state.blockNumberToDisplay;this.props.block||(t?re.getBlock(!0,t,this.lastestBlockListener):re.on("latestBlock",this.lastestBlockListener)),void 0!==e&&this.setState({blockNumberToDisplay:e})}},{key:"cleanupBlock",value:function(){this.props.block||(this.state.blockNumberToDisplay?re.getBlock(!1,this.state.blockNumberToDisplay,this.lastestBlockListener):re.removeEventListener("latestBlock",this.lastestBlockListener))}},{key:"componentDidMount",value:function(){this.setupBlock()}},{key:"componentWillUnmount",value:function(){this.cleanupBlock()}}]),t}(r.Component),ie=w.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"flex-start",marginTop:15,marginLeft:15,backgroundColor:x.backgroundGrey},stakeDetailBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,paddingRight:32,paddingTop:12,paddingBottom:12,paddingLeft:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailSmall:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:12,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},labelLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.labelGrey},stakeTextFSN:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,marginLeft:4},stakeTextVal:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont,alignSelf:"flex-end",color:x.textBlue},blockDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:44},orderBorder:{backgroundColor:x.orderGrey,height:1,width:556}}),le=P.BN,se=a(682),ce=a(683),ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this))).state={paintKey:0,ticketDisplayOn:!1,lastTicketStatus:"",ticketStop:!1},a.balanceListener=a.balanceListener.bind(Object(Q.a)(Object(Q.a)(a))),a.purchaseTikStatus=a.purchaseTikStatus.bind(Object(Q.a)(Object(Q.a)(a))),a.leavePage=a.leavePage.bind(Object(Q.a)(Object(Q.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"totalStake",value:function(e){return e.ticketPrice.mul(new le(e.numberOfTickets))}},{key:"balanceListener",value:function(e){P.setBalanceInfo(e),this.setState({paintKey:this.state.paintKey+1})}},{key:"purchaseTikStatus",value:function(e){var t=P.data.ticketPurchasing;void 0===t&&(t={activeTicketPurchase:!1}),t.activeTicketPurchase&&!this.setUnload?(this.setUnload=!0,window.addEventListener("beforeunload",this.leavePage)):!t.activeTicketPurchase&&this.setUnload&&(this.setUnload=!1,window.removeEventListener("beforeunload",this.leavePage)),this.setState({autoBuyOn:e.autoBuyTickets,lastTicketStatus:e.lastCall,ticketStop:!1})}},{key:"componentDidMount",value:function(){P.web3api.on("balanceInfo",this.balanceListener),P.web3api.on("purchaseAgain",this.purchaseTikStatus),P.web3api.on("purchaseCompleted",this.purchaseTikStatus),P.web3api.on("purchaseStarted",this.purchaseTikStatus),P.web3api.on("purchaseWaitForNewBlock",this.purchaseTikStatus),P.web3api.on("purchaseSubmitTicket",this.purchaseTikStatus)}},{key:"leavePage",value:function(e){var t="Tickets are being bought, are you sure you want to leave this page?";return e.returnValue=t,t}},{key:"componentWillUnmount",value:function(){this.setUnload&&(this.setUnload=!1,window.removeEventListener("beforeunload",this.leavePage)),P.web3api.removeEventListener("balanceInfo",this.balanceListener),P.web3api.removeEventListener("purchaseAgain",this.purchaseTikStatus),P.web3api.removeEventListener("purchaseCompleted",this.purchaseTikStatus),P.web3api.removeEventListener("purchaseStarted",this.purchaseTikStatus),P.web3api.removeEventListener("purchaseWaitForNewBlock",this.purchaseTikStatus),P.web3api.removeEventListener("purchaseSubmitTicket",this.purchaseTikStatus)}},{key:"tickRate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.totalTickets||1;0===a&&(a=1);var n=365*(1/a*5760*(t?.625:2.5)/200)*100;return n.toFixed(n>99?0:1)+"%"}},{key:"render",value:function(){var e=this,t=P.data;le||(le=P.BN),t.accountUnlocked&&(t.web3api.walletAddress=t.signInfo.address);var a,n,r=t.rewardsToDate,i=1===t.totalTickets?"Ticket":"Tickets";r.length<4?(a=ae.textNumberOfRewardsGiven,n=ae.textNumberOfRewardsGivenType):(n=ae.textNumberOfRewardsGivenTypeSmaller,a=ae.textNumberOfRewardsGivenSmaller);var l=t.totalTickets>0?D.displayPercent(t.numberOfTickets/t.totalTickets):"0.00";"0.00"===l&&t.numberOfTickets>0&&(l="< 0.01");var s,c=new v.a(t.lastUpdateTime),u=P.data.ticketPurchasing;void 0===u&&(u={activeTicketPurchase:!1});var d=u.lastStatus;if(u.activeTicketPurchase){var f=parseInt(224*u.ticketsPurchased/u.ticketQuantity);s=o.a.createElement(m.a,{key:"ticketPurchaseView",style:{width:224,height:24,alignItems:"flex-start",justifyContent:"flex-start"}},o.a.createElement(m.a,{style:{width:200,height:20}},o.a.createElement(m.a,{style:{width:224,height:20,backgroundColor:"transparent",position:"absolute",top:0,left:0,borderWidth:1,borderColor:x.orderGrey,borderRadius:3}}),o.a.createElement(m.a,{style:{width:f,height:20,backgroundColor:x.successGreen,position:"absolute",top:0,left:0,borderWidth:1,borderColor:"transparent",borderRadius:3}}),o.a.createElement(g.a,{style:[ae.labelLineText,{width:224,height:20,position:"absolute",textAlign:"center",top:4,left:0}]},"".concat(u.ticketsPurchased+1," of ").concat(u.ticketQuantity))),o.a.createElement(g.a,{style:[ae.labelLineText,{width:224,marginTop:4}]},d))}var h=c.toString();if(!t.accountUnlocked)return o.a.createElement(m.a,{style:{padding:15}},o.a.createElement(g.a,{style:ae.Auto_Buy_Stake_Monit},"Your Account Must be unlocked to use this screen."),o.a.createElement(k.a,{style:{width:100},onPress:function(){y.push("/UnlockAccount")}},o.a.createElement(g.a,{style:[ae.stakesPurchaseTicketButtton,{textAlign:"center",width:200}]},"Select An Account")));if(this.state.ticketDisplayOn){for(var b=Object.keys(t.allTickets?t.allTickets:{}),w=[],T=0;T<b.length;T++){var E=b[T],B=t.allTickets[E],S=v()(new Date(1e3*B.ExpireTime)).format("L LT z");w.push(o.a.createElement(m.a,{key:""+B.ExpireTime},o.a.createElement(m.a,{style:ae.ticketDetailRow},o.a.createElement(g.a,{style:[ae.labelLineText,{width:120}]},S),o.a.createElement(g.a,{style:[ae.labelLineText,{textAlign:"center",width:60}]},D.formatWei(t.ticketPrice)),o.a.createElement(g.a,{style:[ae.labelLineText,{textAlign:"right",width:366,fontSize:10}]},B.ID)),o.a.createElement(m.a,{style:ae.orderBorder})))}return o.a.createElement(m.a,{style:ae.container},o.a.createElement(m.a,null,o.a.createElement(m.a,{style:ae.stakeDetailBox},o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.stakeDetailText},"Ticket Details",o.a.createElement(g.a,{style:ae.dateValue},"  "+t.numberOfTickets+(1===t.numberOfTickets?" Ticket":" Tickets")))),o.a.createElement(m.a,{style:ae.ticketDetailRow},o.a.createElement(g.a,{style:[ae.labelLineText,{width:120}]},"Expiration Time"),o.a.createElement(g.a,{style:[ae.labelLineText,{width:80}]},"Ticket Price"),o.a.createElement(g.a,{style:[ae.labelLineText,{textAlign:"right",width:340}]},"Ticket Hash"),o.a.createElement(m.a,null)),o.a.createElement(m.a,{style:ae.orderBorder}),w),o.a.createElement(k.a,{onPress:function(){e.setState({ticketDisplayOn:!1})},style:ae.closeButton},o.a.createElement(p.a,{resizeMode:"contain",source:ce,style:{width:14,height:14}}))))}return o.a.createElement(m.a,{style:{marginLeft:30,backgroundColor:x.backgroundGrey}},o.a.createElement(m.a,{style:ae.container},o.a.createElement(m.a,{style:ae.titleBox},o.a.createElement(g.a,{style:ae.Auto_Buy_Stake_Monit},"Auto Buy Stake Monitor"),o.a.createElement(k.a,null,o.a.createElement(g.a,{style:ae.lastUpdated},"Last Updated: ".concat(h)))),o.a.createElement(m.a,{style:ae.walletBox},o.a.createElement(g.a,{style:ae.walletLabel},"Wallet Address"),o.a.createElement(k.a,{onPress:function(){Y.a.setString(t.signInfo.address)}},o.a.createElement(g.a,{style:ae.walletLabelAddress},t.signInfo.address,o.a.createElement("i",{style:{marginLeft:4},className:"fa fa-copy"})))),o.a.createElement(m.a,{style:{height:10,width:1}}),o.a.createElement(oe,{block:t.latestBlock}),o.a.createElement(m.a,{style:{height:10,width:1}}),o.a.createElement(m.a,{style:ae.largeMetricBox},o.a.createElement(m.a,{style:ae.rewardHolderView},o.a.createElement(p.a,{resizeMode:"contain",source:se,style:ae.lineGraph}),o.a.createElement(m.a,{style:ae.rewardHolderViewGradient}),o.a.createElement(m.a,{style:ae.rewardHolderViewText},o.a.createElement(m.a,{style:ae.rwcTextViewbox},o.a.createElement(g.a,{style:ae.labelLineText},"Current Reward Probablity"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakingMonitorActive},l,o.a.createElement(g.a,{style:ae.stakingMonitorActivePercent},"%"))),o.a.createElement(g.a,{style:ae.simpleLineText},"".concat(t.numberOfTickets," of ").concat(D.displayNumber(t.totalTickets,t.totalTickets<1e3?0:2)," ").concat(i))))),o.a.createElement(m.a,{style:ae.rewardsGivenBox},o.a.createElement(m.a,{style:ae.rwcTextViewbox},o.a.createElement(m.a,{style:ae.rewardGivenBoxTextHolder},o.a.createElement(g.a,{style:ae.labelLineText},"Rewards to Date"),o.a.createElement(m.a,{style:ae.rewardsGivenBoxRewardCount},o.a.createElement(g.a,{style:a},r),o.a.createElement(g.a,{style:n},"FSN")),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.simpleLineText},"Ticket Yearly Reward Rate"),o.a.createElement(g.a,{style:[ae.simpleLineText,{marginTop:4}]},o.a.createElement(g.a,null,"ERC20FSN")," "+this.tickRate(t,!0)+" "),o.a.createElement(g.a,{style:[ae.simpleLineText,{marginTop:4}]},o.a.createElement(g.a,null,"PFSN")," "+this.tickRate(t,!1)+" ")))))),o.a.createElement(m.a,{style:ae.stakeDetailBox},o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.stakeDetailText},"Stake Details"),o.a.createElement(k.a,{disabled:this.state.ticketStop,onPress:function(){u.activeTicketPurchase?window.confirm("Are you sure you want to stop purchasing?")&&(e.setState({ticketStop:!0}),P.web3api.stopTicketPurchase()):y.push("/PurchaseTicket")}},this.handleStakeButtons(t,u))),o.a.createElement(m.a,{style:{height:20}}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Staking Status"),s,u.activeTicketPurchase?o.a.createElement(g.a,{key:"ab1",style:ae.activeButton},"Active"):o.a.createElement(g.a,{key:"ab1",style:ae.inActiveButton},"Inactive")),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Active Tickets"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},t.numberOfTickets,o.a.createElement(g.a,{style:ae.stakeTextFSN},"Tickets")),t.numberOfTickets>0&&o.a.createElement(k.a,{onPress:function(){e.setState({ticketDisplayOn:!0})}},o.a.createElement(g.a,{style:ae.viewTicketDetails},"View Ticket Details")))),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Rewards to Date"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},t.rewardsToDate,o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"FSN Staked"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},D.formatWei(this.totalStake(t)),o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"FSN Available"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},D.formatWei(t.walletBalance),o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Timelocked FSN Available"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},D.formatWei(t.timelockUsableBalance),o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Total FSN"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},D.formatWei(t.timelockUsableBalance.add(t.walletBalance.add(this.totalStake(t)))),o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:ae.orderBorder}),this.state.autoBuyOn&&o.a.createElement(m.a,{key:"aaa"},o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Auto Buy Tickets"),o.a.createElement(g.a,{key:"ab1",style:ae.activeButton},"On")),o.a.createElement(m.a,{style:ae.orderBorder})))))}},{key:"handleStakeButtons",value:function(e,t){return t.activeTicketPurchase?t.activeTicketPurchase?o.a.createElement(m.a,{style:{borderRadius:3,borderWidth:1,borderColor:this.state.ticketStop?x.errorRed:x.orderGrey}},o.a.createElement(g.a,{key:"ab1",style:ae.stopAutoBuyButton},this.state.ticketStop?"Stopping Purchasing":this.state.autoBuyOn?"Stop AutoBuy":"Stop Purchasing")):o.a.createElement(m.a,{style:{borderRadius:3,borderWidth:1,borderColor:x.orderGrey}},o.a.createElement(g.a,{key:"ab1",style:ae.startAutoBuyButton},"Start Auto Buy")):o.a.createElement(g.a,{key:"ab1",style:ae.stakesPurchaseTicketButtton},"Purchase Staking Tickets")}}]),t}(r.Component);ae=w.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",marginTop:15,marginLeft:15,backgroundColor:x.backgroundGrey},sectionTitle:{fontSize:24,lineHeight:32,fontFamily:"Roboto, san-serif",fontWeight:T.boldFont,color:x.textBlue},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"},Auto_Buy_Stake_Monit:{fontSize:24,lineHeight:32,fontFamily:T.fontFamily,fontWeight:T.boldFont,color:x.textBlue,marginBottom:4,alignSelf:"flex-start"},lastUpdated:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.labelGrey,alignSelf:"flex-start"},labelLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.labelGrey},simpleLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.textBlue},activeButton:{color:x.textGreen,fontSize:14,backgroundColor:x.lightSuccessGreen,fontFamily:T.fontFamily,padding:8,fontWeight:T.regularFont},stopAutoBuyButton:{padding:8,fontSize:14,color:x.errorRed,fontWeight:T.regularFont},startAutoBuyButton:{color:x.textBlue,padding:8,fontSize:14,fontWeight:T.regularFont},inActiveButton:{color:x.textBlue,fontSize:14,backgroundColor:x.backgroundGrey,fontFamily:T.fontFamily,padding:8,fontWeight:T.regularFont},stakingMonitorActive:{fontSize:32,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.boldFont,marginTop:8,marginBottom:4},stakingMonitorActivePercent:{fontSize:32,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.boldFont,marginTop:4,marginBottom:4,marginLeft:1},largeMetricBox:{flex:1,flexBasis:"100%",flexDirection:"row",justifyContent:"space-between",marginTop:20,width:620},stakeTextFSN:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,marginLeft:4},viewTicketDetails:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,color:x.linkBlue},stakeTextVal:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont,alignSelf:"flex-end",color:x.textBlue},dateValue:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.textBlue},orderBorder:{backgroundColor:x.orderGrey,height:1,width:556},rewardsGivenBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:200,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rewardHolderView:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:388,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rwcTextViewbox:{marginBottom:16},rewardHolderViewText:{width:227,marginLeft:32,flex:1,flexBasis:"100%",justifyContent:"center"},rewardHolderViewGradient:{backgroundImage:"linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0))",width:40,marginLeft:32,position:"absolute",height:130,left:138},rewardGivenBoxTextHolder:{marginLeft:32,paddingTop:24},textNumberOfRewardsGivenType:{fontSize:12,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.regularFont,marginBottom:10,marginLeft:4},textNumberOfRewardsGivenTypeSmaller:{fontSize:12,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.regularFont,marginBottom:6,marginLeft:4},textNumberOfRewardsGiven:{fontSize:48,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.boldFont,marginTop:8},textNumberOfRewardsGivenSmaller:{fontSize:36,fontFamily:T.fontFamily,color:x.textBlue,fontWeight:T.boldFont,marginTop:8},rewardsGivenBoxRewardCount:{flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",marginTop:-2},lineGraph:{width:216,height:126,position:"absolute",left:170,overflow:"visible"},titleBox:{width:620},walletBox:{backgroundColor:x.tagGrey,borderRadius:3,width:620,height:48,marginTop:20,flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},walletLabel:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginLeft:32,color:x.labelGrey},walletLabelAddress:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginRight:32,color:x.textBlue},stakeDetailText:{color:x.textBlue,fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont},stakesPurchaseTicketButtton:{borderRadius:3,padding:8,backgroundColor:x.primaryBlue,color:x.white,fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont},stakesStopAutoBuy:{borderColor:x.backgroundGrey,borderWidth:1,borderRadius:3,padding:8,backgroundColor:x.white},stakesStopAutoBuyText:{backgroundColor:x.white,color:x.errorRed,fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont},stakeDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:56},ticketDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:44,width:620},closeButton:{width:14,height:14,position:"absolute",right:18,top:24,padding:8}});var de,fe=ue,me=a(703),he=P.web3api,ye=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={initedNode:!1,currentNodeAddress:null,newNodeAddress:"",error:null,testing:!1},a.connectionListener=a.connectionListener.bind(Object(Q.a)(Object(Q.a)(a)));var n=window.localStorage.getItem("addressPSN2");return a.didOneUpdate?(n||(n="wss://gatewaypsn2.fusionnetwork.io:10001"),a.setState({newNodeAddress:n,currentNodeAddress:n,initedNode:!0})):(n||(n="wss://gatewaypsn2.fusionnetwork.io:10001"),a.state.currentNodeAddress=n,a.state.newNodeAddress=n,a.state.initedNode=!0),Object(u.a)(a)}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.didOneUpdate=!0}},{key:"connectionListener",value:function(e,t){this.state.testing?("error"===e[0]&&(alert("Unable to connect to "+this.state.newNodeAddress),this.setState({testing:!1})),"connected"===e[0]&&(this.setState({connectionError:!1,testing:!1,currentNodeAddress:this.state.newNodeAddress}),window.localStorage.setItem("addressPSN2",this.state.newNodeAddress))):"error"===e[0]?this.setState({connectionError:!0}):"stillgood"===e[0]&&this.state.connectionError&&this.setState({connectionError:!1})}},{key:"setNodeAddress",value:function(e){he.setNodeAddress(e)}},{key:"componentDidMount",value:function(){he.on("connectstatus",this.connectionListener),this.state.newNodeAddress&&!this.state.testing&&he.setNodeAddress(this.state.newNodeAddress)}},{key:"componentWillUnmount",value:function(){he.removeEventListener("connectstatus",this.connectionListener)}},{key:"render",value:function(){var e=this;if(this.state.testing){var t=this.state.newNodeAddress;return t.length>18&&(t=t.substr(0,15)+"..."),o.a.createElement(m.a,{style:de.testingBackground},o.a.createElement(m.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(g.a,{style:[de.testingNode,{marginRight:4}]},t),o.a.createElement(me.a,{animating:!0})))}if(this.state.error)return o.a.createElement(k.a,{onPress:function(){e.setState({error:void 0})}},o.a.createElement(m.a,{style:de.errorBackground},o.a.createElement(g.a,{adjustsFontSizeToFit:!0,style:de.errorText},this.state.error)));if(this.state.inputNodeMode)return o.a.createElement(m.a,{style:de.inputBackground},o.a.createElement(b.a,{style:de.nodeInput,placeholder:"http(s):// or ws(s):// address:port",autoCorrect:!1,placeholderTextColor:x.orderGrey,maxLength:128,value:this.state.newNodeAddress,clearButtonMode:"always",onChangeText:function(t){e.setState({newNodeAddress:t})},autoFocus:!0,onBlur:function(){e.setState({inputNodeMode:!1})},onKeyPress:function(t){13===t.charCode&&(e.state.newNodeAddress?(e.setState({testing:!0,connectionError:!1}),e.setNodeAddress(e.state.newNodeAddress)):e.setState({inputNodeMode:!1}))}}));if(!this.state.currentNodeAddress)return o.a.createElement(k.a,{onPress:function(){e.setState({inputNodeMode:!0})}},o.a.createElement(m.a,{style:de.inputBackground},o.a.createElement(g.a,{style:de.selectNode},"Select Node")));var a=this.state.currentNodeAddress;return a.length>26&&(a=a.substr(0,23)+"..."),o.a.createElement(k.a,{onPress:function(){e.setState({inputNodeMode:!0})}},o.a.createElement(m.a,{style:this.state.connectionError?de.errorBackground:de.standardBackground},o.a.createElement(m.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},!this.state.connectionError&&o.a.createElement("i",{key:"c11",className:"fa fa-check-circle",style:{color:x.successGreen,marginRight:4}}),o.a.createElement(g.a,{style:[de.standardNode,{marginRight:4}]},a))))}}]),t}(r.Component);de=w.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",width:"100%"},errorBackground:{width:180,height:44,borderRadius:3,backgroundColor:x.errorRed,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center"},errorText:{fontSize:12,fontFamily:T.mediumFont,color:x.white},nodeInput:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,fontSize:12,fontFamily:T.mediumFont,color:x.labelGrey,width:148,height:32,outline:"none",paddingLeft:2,paddingRight:2,paddingTop:4,paddingBottom:4},standardNode:{color:x.textBlue,fontSize:12,fontWeight:T.regularFont,fontFamily:T.fontFamily},standardBackground:{width:180,height:44,borderRadius:3,borderWidth:1,borderColor:x.orderGrey,backgroundColor:x.white,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center",overflow:"hidden"},inputBackground:{width:180,height:44,borderRadius:3,backgroundColor:x.linkBlue,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center",overflow:"hidden"},testingNode:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.black,textAlign:"center"},testingBackground:{width:180,height:44,borderRadius:3,backgroundColor:x.lightSuccessGreen,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",alignItems:"center",justifyContent:"center",overflow:"hidden"},selectNode:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:x.white,backgroundColor:x.linkBlue,textAlign:"center"}});var ge,ke,pe=a(281),be=a(684),we=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e)),ke=Object(Q.a)(Object(Q.a)(a)),a.state={appSelectOpen:!1},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.titleWidth||150,a=this.state.appSelectOpen?x.backgroundGrey:x.white;return o.a.createElement(m.a,{style:xe.container},o.a.createElement(m.a,{style:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(p.a,{source:pe,resizeMode:"contain",style:{marginLeft:80,width:129,height:29}}),o.a.createElement(k.a,{onPress:function(){ge.setState({appSelectOpen:!e.state.appSelectOpen}),e.setState({appSelectOpen:!e.state.appSelectOpen})}},o.a.createElement(m.a,{style:[xe.appSelect,{backgroundColor:a,width:t}]},o.a.createElement(p.a,{source:be,resizeMode:"contain",style:{marginLeft:8,width:18,height:18}}),o.a.createElement(g.a,{style:xe.titleAutoBuy},this.props.title))),o.a.createElement(g.a,{style:xe.programVersion},this.props.version)),this.props.nodeSelect&&o.a.createElement(m.a,{style:xe.nodeSelectBox},o.a.createElement(ye,null)))}}],[{key:"setAppDisplay",value:function(e){ge=e}},{key:"hideAppDisplay",value:function(){ge.setState({appSelectOpen:!1}),ke.setState({appSelectOpen:!1})}}]),t}(r.Component),xe=w.a.create({container:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:72,width:"100%",backgroundColor:x.white,overflow:"visible",boxShadow:"inset 0 -1px 0 0 #bdc4ce"},appSelect:{height:40,flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:16,overflow:"visible",boxShadow:"inset 0 -1px 0 0 #bdc4ce",borderWidth:1,borderRadius:3,borderColor:x.orderGrey},popupMenuBox:{backgroundColor:x.primaryBlue,width:224,boxShadow:"0 8px 16px 0 rgba(0, 15, 33, 0.16), 0 0 8px 0 rgba(0, 15, 33, 0.08);",borderWidth:1,borderRadius:3,borderColor:x.orderGrey,position:"absolute",top:64,left:224,padding:16},borderTitle:{width:.9,backgroundColor:x.grey,height:19,marginLeft:14,marginRight:14},titleAutoBuy:{fontFamily:T.fontFamily,fontSize:16,fontWeight:T.boldFont,marginLeft:8,color:x.textBlue},programVersion:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,color:x.textBlue,padding:2,marginLeft:16,backgroundColor:x.grey},nodeSelectBox:{alignSelf:"center",marginRight:32,marginLeft:32}}),Te=a(637),Ee=(a(281),a(685)),ve=a(686),Be=a(687),Se=a(688),Fe=a(689),Ce=a(690),De=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={hover:!1},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.hover?x.backgroundGrey:x.white;return o.a.createElement(k.a,{onPress:function(){window.open(e.props.link),we.hideAppDisplay()}},o.a.createElement(m.a,{onMouseEnter:function(){e.setState({hover:!0})},onMouseLeave:function(){e.setState({hover:!1})},style:{flex:1,flexDirection:"row",alignItems:"center",marginBottom:16,justifyContent:"flex-start",backgroundColor:t}},o.a.createElement(p.a,{source:this.props.image,resizeMode:"contain",style:{marginRight:16,width:14,height:14}}),o.a.createElement(g.a,{style:Le.selectItemText},this.props.text)))}}]),t}(r.Component),Ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={appSelectOpen:!1},we.setAppDisplay(Object(Q.a)(Object(Q.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.appSelectOpen?o.a.createElement(Te.a,{onPress:function(){we.hideAppDisplay()}},o.a.createElement(m.a,{style:Le.modalBackground},o.a.createElement(m.a,{style:Le.popupMenuBox},o.a.createElement(g.a,{style:Le.appsText},"Apps"),o.a.createElement(De,{image:Ee,text:"My Wallet",link:"https://www.myfusionwallet.com"}),o.a.createElement(De,{image:ve,text:"Asset Gateway",link:"https://assetgateway.fusionnetwork.io"}),o.a.createElement(De,{image:Be,text:"Auto Buy Stake",link:"https://tickets.fusionnetwork.io"}),o.a.createElement(De,{image:Se,text:"Block Explorer",link:"https://blocks.fusionnetwork.io"}),o.a.createElement(De,{image:Fe,text:"Network Monitor",link:"http://node.fusionnetwork.io"}),o.a.createElement(De,{image:Ce,text:"Quantum Swap",link:"https://swap.fusionnetwork.io"})))):o.a.createElement(m.a,null)}}]),t}(r.Component),Le=w.a.create({modalBackground:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0)"},popupMenuBox:{backgroundColor:x.white,width:224,boxShadow:"0 8px 16px 0 rgba(0, 15, 33, 0.16), 0 0 8px 0 rgba(0, 15, 33, 0.08);",borderWidth:1,borderRadius:3,borderColor:x.orderGrey,position:"absolute",top:64,left:224,padding:16},selectItemText:{fontFamily:T.fontFamily,fontSize:14,fontWeight:T.boldFont,color:x.textBlue},appsText:{fontFamily:T.fontFamily,fontSize:14,fontWeight:T.regularFont,color:x.labelGrey,marginBottom:16},borderTitle:{width:.9,backgroundColor:x.grey,height:19,marginLeft:14,marginRight:14},titleAutoBuy:{fontFamily:T.fontFamily,fontSize:16,fontWeight:T.boldFont,marginLeft:8,color:x.textBlue},programVersion:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,color:x.textBlue,padding:2,marginLeft:16,backgroundColor:x.grey},nodeSelectBox:{alignSelf:"center",marginRight:32,marginLeft:32}}),Oe=a(706),We=a(705),Ae=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(m.a,null,o.a.createElement(we,{title:"Auto Buy Stake",titleWidth:150,version:"1.00.00",nodeSelect:!0}),o.a.createElement(Oe.a,{history:y},o.a.createElement("div",null,o.a.createElement(We.a,{exact:!0,path:"/",component:K}),o.a.createElement(We.a,{path:"/Status",component:fe})," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",o.a.createElement(We.a,{path:"/UnlockAccount",component:K}),o.a.createElement(We.a,{path:"/PurchaseTicket",component:ne}),o.a.createElement(We.a,{path:"/Block/:blockNumber",component:oe}))),o.a.createElement(Ne,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[302,2,1]]]);
//# sourceMappingURL=main.f7a13f34.chunk.js.map