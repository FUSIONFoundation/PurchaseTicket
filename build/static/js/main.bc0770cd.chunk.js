(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{242:function(e,t,a){e.exports=a.p+"static/media/explorer-logo.516c3873.svg"},266:function(e,t,a){e.exports=a(626)},271:function(e,t,a){},309:function(e,t){},311:function(e,t){},336:function(e,t){},381:function(e,t){},492:function(e,t){},50:function(e,t,a){},588:function(e,t,a){e.exports=a.p+"static/media/radioOn.0ef10e99.svg"},589:function(e,t,a){e.exports=a.p+"static/media/radioOff.53ea8205.svg"},603:function(e,t,a){e.exports=a.p+"static/media/checkboxOn.70a8f228.svg"},604:function(e,t,a){e.exports=a.p+"static/media/check_off.f24d3320.svg"},611:function(e,t,a){e.exports=a.p+"static/media/lineGraph.392623ce.svg"},612:function(e,t,a){e.exports=a.p+"static/media/times.a3c0a79b.svg"},613:function(e,t,a){e.exports=a.p+"static/media/9Boxes.ad2520b5.svg"},614:function(e,t,a){e.exports=a.p+"static/media/wallet.e8f2226e.svg"},615:function(e,t,a){e.exports=a.p+"static/media/asset.90f16579.svg"},616:function(e,t,a){e.exports=a.p+"static/media/autobuy.9cef8488.svg"},617:function(e,t,a){e.exports=a.p+"static/media/block.7cca8210.svg"},618:function(e,t,a){e.exports=a.p+"static/media/network.3b85bc05.svg"},619:function(e,t,a){e.exports=a.p+"static/media/swap.8ebdea22.svg"},622:function(e,t,a){e.exports=a.p+"static/media/Bronze.d6414c72.svg"},623:function(e,t,a){e.exports=a.p+"static/media/Gold.48ea5fe5.svg"},624:function(e,t,a){e.exports=a.p+"static/media/Silver.f1d03c33.svg"},626:function(e,t,a){"use strict";a.r(t);var n,o=a(0),r=a.n(o),i=a(47),l=a.n(i),s=(a(271),a(6)),c=a(7),u=a(10),d=a(11),f=a(12),h=a(115),m=(a(50),a(243)),g=a.n(m)()(),y=a(634),p=a(635),k=a(639),b=a(641),x=a(35),w=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"textBlue",get:function(){return"#062144"}},{key:"primaryBlue",get:function(){return"#2a65b0"}},{key:"backgroundGrey",get:function(){return"#f5f7fa"}},{key:"white",get:function(){return"#ffffff"}},{key:"grey",get:function(){return"#e4e9f0"}},{key:"disabledBlue",get:function(){return"#94b2d7"}},{key:"disabledGrey",get:function(){return"#a6a9ad"}},{key:"coolGrey",get:function(){return"#a6a9ad"}},{key:"orderGrey",get:function(){return"#bec5cf"}},{key:"linkBlue",get:function(){return"#2b99ff"}},{key:"textGreen",get:function(){return"#5fa11a"}},{key:"successGreen",get:function(){return"#7ed321"}},{key:"lightSuccessGreen",get:function(){return"#e5f6d3"}},{key:"errorRed",get:function(){return"#d0021b"}},{key:"labelGrey",get:function(){return"#6a6f75"}},{key:"tagGrey",get:function(){return"#e4e9f0"}},{key:"textGrey",get:function(){return"#4a4a4a"}},{key:"sexyPurple",get:function(){return"#462ab0;"}},{key:"tagPurple",get:function(){return"#dad4ef"}}]),e}(),T=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"boldFont",get:function(){return"700"}},{key:"mediumFont",get:function(){return"500"}},{key:"regularFont",get:function(){return"400"}},{key:"fontFamily",get:function(){return"Roboto, san-serif"}}]),e}(),v=a(72),E=a.n(v),S=a(75),F=a.n(S),B=a(53),C=a.n(B),L=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"displayNumber2",value:function(e){var t=e;if(e>=1e3){for(var a=Math.floor((""+e).length/3),n="",o=2;o>=1;o--){if(((n=parseFloat((0!==a?e/Math.pow(1e3,a):e).toPrecision(o)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}n%1!==0&&(n=n.toFixed(2)),t=n+["","K","M","B","T"][a]}return t}},{key:"insert",value:function(e,t,a){return e.substr(0,t)+a+e.substr(t)}},{key:"formatWei",value:function(t){"object"===typeof t&&(t=t.toString());var a=t.length;return a<18&&(t="0".repeat(18-a)+t,a=18),t=18===a?"."+t:e.insert(t,t.length-18,"."),"."===(t=e.removeZeros(t,!0,!0,!0)).charAt(0)?"0"+t:0===t.length?0:t}},{key:"removeZeros",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o="",r="";return o=e,r=a?o.replace(/^[0]+/,""):o,t&&r.indexOf(".")>-1&&(r=r.replace(/[0]+$/,"")),n&&(r=r.replace(/[.]$/,"")),r}},{key:"displayNumber",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=" K M G T P E Z Y".split(" ");if(t<0)return"-"+e.displayNumber(Math.abs(t));if(t<1)return t+o[0];var r=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),o.length-1),i=""+(t/Math.pow(1e3,r)).toFixed(a);return n&&(i=e.removeZeros(i)),i+o[r]}},{key:"displayPercent",value:function(e){return(e*=100).toFixed(2)}},{key:"midHashDisplay",value:function(e){return e.substr(0,9)+"..."+e.substr(e.length-10,9)}},{key:"toAscii",value:function(e){var t="",a=0,n=e.length;for("0x"===e.substring(0,2)&&(a=2);a<n;a+=2){var o=parseInt(e.substr(a,2),16);t+=String.fromCharCode(o)}return t}},{key:"formatPercent",value:function(e){return"string"===typeof e?"-":(e=e>99?e.toFixed(0):e.toFixed(2))+"%"}},{key:"getServer",value:function(){return window.location.href.indexOf("useServer2")>0?"https://api2.fusionnetwork.io":"https://api.fusionnetwork.io"}}]),e}(),A=a(455),O=a(136),D=new(function(){function e(){Object(s.a)(this,e),this.eventEmitter=new C.a,this._web3=null,this.provider=null,this.connectedOnce=!1,this.lastNodeAddress="",this.attempForMonitor=0,this.lastBlock={},this._walletAddress="",this.setupMonitor=this.setupMonitor.bind(this),this.monitoringBlocks={}}return Object(c.a)(e,[{key:"setDataStore",value:function(e){n=e}},{key:"setNodeAddress",value:function(e){var t,a,n=this;if(console.log("Attempting connect"),this.connectedOnce&&e!==this.lastNodeAddress&&(this.connectedOnce=!1),this.lastNodeAddress=e,this.nextMonitorCall&&(clearTimeout(this.nextMonitorCall),this.nextMonitorCall=null),this.subscriptionFSNCallAddress&&(this.subscriptionFSNCallAddress.unsubscribe(function(e){}),this.subscriptionFSNCallAddress=null),0===e.indexOf("ws")){var o=function(){console.log("blockchain connected"),n.connectedOnce=!0,a.__connected=!0,n.emit("connectstatus",["connected"],null),n.mustGetOneBalance=!0,n.setupMonitor()};o=o.bind(this);try{a=new F.a.providers.WebsocketProvider(e,{timeout:1e4})}catch(f){return void setTimeout(function(){n.emit("connectstatus",["error"],f)},1)}t=!1,a.on("connect",o)}else a=new F.a.providers.HttpProvider(e),t=!0;if(t){var r=new F.a(a),i=A.extend(r);return this._web3=i,this._web3.eth.getBlockNumber().then(function(e){n.emit("connectstatus",["connected",e],null),n.setupMonitor()}).catch(function(e){console.log("error web3api connect ",e),n.emit("connectstatus",["error"],e)}),a.__connected=!0,void(this.provider=a)}var l={},s=function(t){a&&!a.__ignoreNotifications&&(console.error("Blockchain WS Error",t),n.emit("connectstatus",["error"],t),l.resetConnection||(n._web3=null,l.resetConnection=!0,n.provider.disconnect(),n.provider=null,a.__connected=!1,setTimeout(function(){n.emit("connectstatus",["disconnected"],null),!0===n.connectedOnce&&n.setNodeAddress(e)},500)))};s=s.bind(this),a.on("error",s);var c=function(){a&&!a.__ignoreNotifications&&(console.log("Blockchain disconnected will try to reconnect"),n.emit("connectstatus",["error"],new Error("disconnected")),l.resetConnection||(a.disconnect(),n._web3=null,n.provider=null,a.__connected=!1,l.resetConnection=!0,setTimeout(function(){n.emit("connectstatus",["disconnected"],null),!0===n.connectedOnce&&n.setNodeAddress(e)},500)))};if(c=c.bind(this),a.on("end",c),this.provider){if(this.previousProvider){this.previousProvider.__ignoreNotifications=!0;try{this.previousProvider.disconnect()}catch(f){}}this.previousProvider=this.provider}this.provider=a;var u=new F.a(a),d=A.extend(u);this._web3=d}},{key:"getBlock",value:function(e,t,a){var n=this,o=this.monitoringBlocks[t],r=!!o&&Object.keys(o).length>1;e?this.on("block"+t,a):this.removeEventListener("block"+t,a),r?a(o):(this.monitoringBlocks[o]={getting:!0},this._web3.eth.getBlock(t).then(function(e){n.monitoringBlocks[t]=e,n.emit("block"+t,e)}).catch(function(e){n.monitoringBlocks[t]={error:!0,errObject:e},n.emit("block"+t,n.monitoringBlocks[t])}))}},{key:"startFilterEngine",value:function(){}},{key:"checkConnection",value:function(){if(!this._web3||!this.provider||!this.provider.__connected)throw this.emit("connectstatus",["error"],new Error("no connection")),new Error("disconnected")}},{key:"setupMonitor",value:function(){var e=this;if(!this._web3||!this.provider||!this.provider.__connected)return this.emit("connectstatus",["error"],new Error("no connection")),void setTimeout(function(){e.setupMonitor()},4e3);this.subscriptionFSNCallAddress||this.startFilterEngine();var t=this._walletAddress;this.attempForMonitor+=1;var a=this.attempForMonitor;console.log("checking connection "),this._web3.eth.getBlock("latest").then(function(a){if(!a)throw new Error("no block");if(e.emit("connectstatus",["stillgood"],!1),e.checkConnection(),e.lastBlock.number!==a.number||e.mustGetOneBalance)return e.mustGetOneBalance=!1,e.lastBlock=a,e.emit("latestBlock",a),!t||t!==e._walletAddress||(e.checkConnection(),e._web3.fsn.getAllBalances(t).then(function(e){return e}).then(function(a){return e.checkConnection(),e._web3.fsn.getAllTimeLockBalances(e._walletAddress).then(function(o){var r=new n.BN(0),i=o[e._web3.fsn.consts.FSNToken];if(i&&i.Items){var l=i.Items,s=!0,c=!1,u=void 0;try{for(var d,f=l[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value,m=(new Date).getTime()/1e3,g=(new Date).getTime()/1e3+2592e3;(h.EndTime>=g||h.EndTime===e._web3.fsn.consts.TimeForever)&&h.StartTime<m&&(r=r.add(new n.BN(h.Value)))}}catch(y){c=!0,u=y}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}}return e.checkConnection(),e._web3.fsn.allTicketsByAddress(t).then(function(e){return{allBalances:a,allTickets:e,timelockUsableBalance:r}})})}).then(function(t){return e.checkConnection(),e._web3.fsn.ticketPrice("latest").then(function(e){return Object.assign(t,{ticketPrice:e})}).catch(function(e){throw console.log("error getting ticket price",e),e})}).then(function(t){return e.checkConnection(),e._web3.eth.getGasPrice().then(function(e){return Object.assign(t,{gasPrice:e})})}).then(function(t){return e.checkConnection(),e._web3.fsn.totalNumberOfTickets().then(function(e){return Object.assign(t,{totalTickets:e,latestBlock:a})})}).then(function(t){var a={method:"GET",uri:"https://api.fusionnetwork.io/balances/"+e._walletAddress,qs:{},headers:{},json:!0,gzip:!0};return O(a).then(function(e){return Array.isArray(e)&&e.length>0?Object.assign(t,{rewardEarn:e[0].rewardEarn}):t}).catch(function(e){return t})}).then(function(t){e.emit("balanceInfo",t,!1)}))}).then(function(t){setTimeout(function(){e.setupMonitor()},4e3)}).catch(function(t){e.attempForMonitor===a&&(e.emit("connectstatus",["error"],t),setTimeout(function(){e.setupMonitor()},7e3))})}},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:"emit",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.eventEmitter.emit(e,t,a)}},{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"stopTicketPurchase",value:function(){n.data.ticketPurchasing.activeTicketPurchase=!1,this.lastTicketCheckTimer&&(clearTimeout(this.lastTicketCheckTimer),n.data.lastStatus="Completed",n.data.lastCall="purchaseCompleted",this.emit("purchaseCompleted",n))}},{key:"buyTickets",value:function(e){var t,a=this,o=Object.assign(e,{original:!0});n.data.ticketPurchasing=e,e.purchaseStarted=!0,e.activeTicketPurchase=!0,e.ticketsPurchased=0,e.startBlock=this.lastBlock.number,e.lastStatus="",this.lastTicketCheckTimer&&(clearTimeout(this.lastTicketCheckTimer),this.lastTicketCheckTimer=null);var r=function(){if((a.lastTicketCheckTimer=null,e.autoBuyStopDate)&&e.date.getTime()<(new Date).getTime())return e.lastStatus="Completed",e.lastCall="purchaseCompleted",e.activeTicketPurchase=!1,void a.emit("purchaseCompleted",e);e.autoBuyTickets&&e.ticketQuantity<n.data.numberOfTickets?(e.lastStatus="Waiting for ticket level to drop...",e.lastCall="purchaseWaitForNewBlock",a.emit("purchaseWaitForNewBlock",e),a.lastTicketCheckTimer=setTimeout(r,1e3)):e.startBlock<a.lastBlock.number?a.purchaseOneTicket(e,t):(e.lastStatus="Waiting for new block...",e.lastCall="purchaseWaitForNewBlock",a.emit("purchaseWaitForNewBlock",e),a.lastTicketCheckTimer=setTimeout(r,1e3))};r=r.bind(this),t=(t=function(t,n){setTimeout(function(){if(t||(e.ticketsPurchased+=1),e.lastStatus=n,e.activeTicketPurchase&&e.ticketsPurchased<e.ticketQuantity)t||(e.lastStatus="Purchase next ticket"),e.lastCall="purchaseAgain",a.emit("purchaseAgain",e),a.lastTicketCheckTimer=setTimeout(r,1e3);else{if(e.activeTicketPurchase&&e.autoBuyTickets)return void a.buyTickets(o);e.lastStatus="Completed",e.lastCall="purchaseCompleted",e.activeTicketPurchase=!1,a.emit("purchaseCompleted",e)}},10)}).bind(this);var i=function(o){e.autoBuyTickets&&e.ticketQuantity<n.data.numberOfTickets?(e.lastStatus="Waiting for ticket level to drop...",e.lastCall="purchaseWaitForNewBlock",a.emit("purchaseWaitForNewBlock",e),a.lastTicketCheckTimer=setTimeout(r,1e3)):a.purchaseOneTicket(e,t)};i=i.bind(this),this.freeTicketTimeLockbalances(e,i),e.lastCall="purchaseStarted",this.emit("purchaseStarted",e)}},{key:"unlockNextTimeLock",value:function(e,t,a,o){var r=this;if(e.length===t||o&&!o.activeTicketPurchase)return!0;var i=e[t],l={from:this._walletAddress,to:this._walletAddress,start:"0x"+i.StartTime.toString(16),end:this._web3.fsn.consts.TimeForeverStr,value:i.Value,asset:this._web3.fsn.consts.FSNToken};return this._web3.fsntx.buildTimeLockToAssetTx(l).then(function(e){return r._web3.fsn.signAndTransmit(e,n.data.signInfo.signTransaction)}).then(function(n){return console.log("Unlock request sent for 200 Ticket -> ",n),r.unlockNextTimeLock(e,t+1,a,o)}).catch(function(n){return console.log(l),console.log(n),r.unlockNextTimeLock(e,t+1,a,o)})}},{key:"freeTicketTimeLockbalances",value:function(e,t){return t(null,e)}},{key:"purchaseOneTicket",value:function(e,t){var a=this;if(this._web3&&this.provider&&this.provider.__connected){var o=e.daysQuantity;(isNaN(o)||o<21||o>100)&&(o=30);var r=Math.floor((new Date).getTime()/1e3),i="0x"+(r+=86400*o).toString(16);this._web3.fsntx.buildBuyTicketTx({from:this._walletAddress,end:i}).then(function(e){if(console.log(e),a._web3&&a.provider&&a.provider.__connected)return a._web3.fsn.signAndTransmit(e,n.data.signInfo.signTransaction);t(new Error("reconnecting"),"reconnecting")}).then(function(n){return console.log("buy ticket tx -> ",n),e.activeTicketPurchase?(e.lastStatus="Pending Tx:"+L.midHashDisplay(n),e.lastCall="purchaseSubmitTicket",a.emit("purchaseSubmitTicket",e),a.checkConnection(),a.waitForTransactionToComplete(n,e,(new Date).getTime()+12e4).then(function(e){e.status?t(null,"Ticket bought"):t(new Error("failed to buy"),"Failed to buy ticket will retry")}).catch(function(e){t(e,"Error waiting for ticket to complete")})):(t(null,"asked to leave"),!0)}).catch(function(e){console.log(e),t(e,"unknown err")})}else t(new Error("reconnecting"),"reconnecting")}},{key:"waitForTransactionToComplete",value:function(e,t,a){var n=this;if(!this._web3||!this.provider||!this.provider.__connected)throw new Error("reconnecting");if(!t.activeTicketPurchase)return!0;var o=(new Date).getTime();if(a<o)throw new Error("Error waiting for ticket to complete, timed out");return this._web3.eth.getTransactionReceipt(e).then(function(o){if(!o){if(!t.activeTicketPurchase)throw Error("asked to stop purchasing");return n.waitForTransactionToComplete(e,t,a)}return o}).catch(function(e){throw e})}},{key:"web3",get:function(){return this._web3||(this._web3=A.extend(new F.a)),this._web3}},{key:"walletAddress",set:function(e){e!==this._walletAddress&&(this._walletAddress=e,this.mustGetOneBalance=!0,n.data.ticketPurchasing={},n.data.rewardsToDate="-")},get:function(){return this._walletAddress}}]),e}()),P=D.web3.utils.BN,N={web3api:D,BN:P,latestBlock:{},accountUnlocked:!1,autoBuyOn:!1,balanceOfFSN:0,numberOfTicketsToPurchase:0,numberOfTickets:0,autoBuy:!1,autoReinvestReward:!1,totalTickets:0,rewardsToDate:new P("0"+"0".repeat(18)),lastUpdateTime:new Date,signInfo:{address:"0x4A5a7Aa4130e407d3708dE56db9000F059200C62"},gasPrice:new P("0"),ticketPrice:new P("5000"+"0".repeat(18)),walletBalance:new P("0"),timelockUsableBalance:new P("0"),autoBuyStopTime:E()("20190214","YYYYMMDD"),lastTicketExpires:E()("20190101","YYYYMMDD")},j=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"setBalanceInfo",value:function(e){N.lastUpdateTime=new Date,e.ticketPrice&&(N.ticketPrice=new P(e.ticketPrice)),e.allBalances&&(N.walletBalance=new P(e.allBalances["0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"])),e.timelockUsableBalance&&(N.timelockUsableBalance=e.timelockUsableBalance),e.gasPrice&&(N.gasPrice=new P(e.gasPrice)),e.totalTickets&&(N.totalTickets=e.totalTickets),e.allTickets&&(N.numberOfTickets=Object.keys(e.allTickets).length,N.allTickets=e.allTickets),e.latestBlock&&(N.latestBlock=e.latestBlock),e.rewardEarn&&(N.rewardsToDate=e.rewardEarn)}},{key:"BN",get:function(){return P}},{key:"web3api",get:function(){return D}},{key:"data",get:function(){return N}}]),e}();D.setDataStore(j);var R,W,z,G=a(244),I=a.n(G),_=(a(114),j.web3api),M=a(588),U=a(589),V=I()("selectFiles")(function(e){var t,a=e.selectFiles;return z=a,"Wallet File Valid"===W&&(t=r.a.createElement("i",{key:"c11",className:"fa fa-check-circle",style:{color:w.successGreen,marginRight:4}})),r.a.createElement(y.a,{key:W,style:R.selectWalletFileText},t,W)}),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={accessViaPrivateKey:!1,secureEntry:!0,password:""},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.accessViaPrivateKey,a=R.unlockWalletButtonDisabled,n=!1;return t&&this.state.privateKeyOK?(a=R.unlockWalletButton,n=!0):!t&&this.state.keyData&&this.state.privateKeyOK&&(a=R.unlockWalletButton,n=!0),r.a.createElement(h.a,{style:R.container},r.a.createElement(h.a,{style:R.innerContainer},r.a.createElement(y.a,{style:R.title},"Access Your Wallet")),r.a.createElement(h.a,{style:R.accessBox},r.a.createElement(y.a,{style:R.textHowToAccess},"How would you like to access your wallet?"),r.a.createElement(h.a,{style:{flexDirection:"row"}},r.a.createElement(p.a,{onPress:function(){e.setState({unlockError:!1,keyData:null,privateKeyOK:!1,password:null,accessViaPrivateKey:!t})}},r.a.createElement(h.a,{style:{flexDirection:"row"}},r.a.createElement(k.a,{source:t?U:M,resizeMode:"contain",style:{width:14,height:14}}),r.a.createElement(y.a,{style:R.radioSelectionText},"Keystore / JSON File"))),r.a.createElement(p.a,{onPress:function(){e.setState({unlockError:!1,keyData:null,privateKeyOK:!1,password:null,accessViaPrivateKey:!t})}},r.a.createElement(h.a,{style:{flexDirection:"row"}},r.a.createElement(k.a,{source:t?M:U,resizeMode:"contain",style:{width:14,height:14}}),r.a.createElement(y.a,{style:R.radioSelectionText},"Private Key")))),r.a.createElement(h.a,{style:R.selectionBox},t?this.privateKeyRender():this.keyStoreRender()),r.a.createElement(p.a,{disabled:!n,onPress:function(){if(e.state.accessViaPrivateKey){var t=e.state.password;t.startsWith("0x")||(t="0x"+t),j.data.accountUnlocked=!0,j.data.signInfo=_.web3.eth.accounts.privateKeyToAccount(t),_.walletAddress=j.data.signInfo.address}else try{var a=e.state.keyData,n=a.Crypto||a.crypto;j.data.accountUnlocked=!0,j.data.signInfo=_.web3.eth.accounts.decrypt({crypto:n,version:a.version},e.state.password),_.walletAddress=j.data.signInfo.address}catch(o){return void e.setState({unlockError:!0})}g.push("/Status")}},r.a.createElement(h.a,null,r.a.createElement(y.a,{style:a},"Unlock Wallet")))))}},{key:"keyStoreRender",value:function(){var e=this,t=w.white,a=this.state.unlockError?w.errorRed:w.orderGrey;return W=this.state.keyData?"Wallet File Valid":"Select a Wallet File...",r.a.createElement(h.a,{key:"accek"},r.a.createElement(y.a,{style:R.textHowToAccess},"Select your wallet file and enter your password. Please ensure that the above URL is correct before loading wallets or entering passwords."),r.a.createElement(p.a,{onPress:function(){z({multiple:!1}).then(function(t){if(1===t.length){var a=new FileReader;a.onload=function(t){var a=t.target.result;a||e.setState({error:"Unable to read file",keyData:null});try{var n=JSON.parse(a);n.address?e.setState({error:null,keyData:n}):e.setState({error:"Invalid key store file ",keyData:null})}catch(o){e.setState({error:"Unable to read file",keyData:null})}},a.onerror=function(t){e.setState({error:"Unable to read file",keyData:null})},a.readAsText(t[0])}})}},r.a.createElement(h.a,{style:[R.selectWalletBox,{backgroundColor:t}]},r.a.createElement(V,null))),this.state.error&&r.a.createElement(y.a,{style:R.errorText},this.state.error),r.a.createElement(y.a,{style:R.labelText},"Enter Your Password"),r.a.createElement(h.a,{style:[R.passwordInputBox,{borderColor:a}]},r.a.createElement(b.a,{style:R.passwordInput,placeholder:"Password",autoCorrect:!1,autoComplete:"current-password",secureTextEntry:this.state.secureEntry,placeholderTextColor:w.orderGrey,maxLength:128,value:this.state.password,onChangeText:function(t){e.setState({unlockError:!1,password:t,privateKeyOK:t&&t.length})}}),r.a.createElement(h.a,{style:{width:1,height:36,backgroundColor:w.orderGrey}}),r.a.createElement(p.a,{onPress:function(){e.setState({secureEntry:!e.state.secureEntry})}},r.a.createElement(h.a,{style:{backgroundColor:w.backgroundGrey,width:32,flex:1,justifyContent:"center",alignItems:"center"}},this.state.secureEntry?r.a.createElement("i",{className:"fa fa-eye"}):r.a.createElement("i",{className:"fa fa-eye-slash"})))),this.state.unlockError&&r.a.createElement(h.a,null,r.a.createElement(h.a,{style:{height:4,width:3}}),r.a.createElement(y.a,{style:R.errorText},"The password provided is invalid.")))}},{key:"privateKeyRender",value:function(){var e=this;return r.a.createElement(h.a,{key:"prik"},r.a.createElement(y.a,{style:R.textHowToAccess},"Enter your private keys. Please ensure that the above URL is correct before loading wallets or entering passwords."),r.a.createElement(h.a,{style:{height:8,width:1}}),r.a.createElement(y.a,{style:R.labelText},"Enter Your Private Key"),r.a.createElement(h.a,{style:R.passwordInputBox},r.a.createElement(b.a,{style:R.passwordInput,placeholder:"Private Key",autoCorrect:!1,autoComplete:"current-password",secureTextEntry:this.state.secureEntry,placeholderTextColor:w.orderGrey,maxLength:66,value:this.state.password,onChangeText:function(t){t.startsWith("0x")&&t.length<66||!t.startsWith("0x")&&t.length<64?e.setState({privateKeyOK:!1,password:t}):e.setState({privateKeyOK:_.web3.utils.isHexStrict(t.startsWith("0x")?t:"0x"+t),password:t})}}),r.a.createElement(h.a,{style:{width:1,height:36,backgroundColor:w.orderGrey}}),r.a.createElement(p.a,{onPress:function(){e.setState({secureEntry:!e.state.secureEntry})}},r.a.createElement(h.a,{style:{backgroundColor:w.backgroundGrey,width:32,flex:1,justifyContent:"center",alignItems:"center"}},this.state.secureEntry?r.a.createElement("i",{class:"fa fa-eye"}):r.a.createElement("i",{class:"fa fa-eye-slash"})))),r.a.createElement(h.a,{style:{height:32,width:1}}))}}]),t}(o.Component);R=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",width:"100%"},innerContainer:{width:620,flexGrow:1,flex:1,flexShrink:0,justifyContent:"center",alignItems:"flex-start"},title:{fontSize:24,fontFamily:T.fontFamily,fontWeight:T.boldFont,color:w.textBlue,marginTop:35,alignSelf:"flex-start",marginBottom:16},textHowToAccess:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.textBlue,alignSelf:"flex-start",marginBottom:16},radioSelectionText:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.textBlue,marginRight:16,marginLeft:8},accessBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,alignItems:"flex-start",width:620,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)",paddingTop:24,paddingBottom:24,paddingLeft:32,paddingRight:32},selectWalletBox:{flexBasis:"auto",borderColor:w.orderGrey,borderRadius:4,backgroundColor:"white",borderWidth:1,width:516,height:48,overflow:"visible",flex:1,justifyContent:"center",alignItems:"center",marginBottom:16},passwordInputBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",justifyContent:"flex-end",height:36,width:512,marginTop:4},passwordInput:{fontSize:13,color:w.textBlue,fontFamily:T.fontFamily,fontWeight:T.regularFont,width:482,paddingLeft:6},selectionBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:w.backgroundGrey,borderWidth:1,width:556,alignItems:"flex-start",paddingTop:16,paddingBottom:16,paddingLeft:20,paddingRight:20,marginTop:20},labelText:{fontSize:12,color:w.labelGrey,fontFamily:T.fontFamily,fontWeight:T.regularFont},selectWalletFileText:{fontSize:16,color:w.textBlue,fontFamily:T.fontFamily,fontWeight:T.mediumFont,textAlign:"center"},errorText:{fontSize:12,color:w.errorRed,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginBottom:8},unlockWalletButtonDisabled:{fontSize:16,width:556,borderRadius:3,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.white,backgroundColor:w.disabledBlue,textAlign:"center",padding:12,marginTop:20},unlockWalletButton:{fontSize:16,width:556,borderRadius:3,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.white,backgroundColor:w.linkBlue,textAlign:"center",padding:12,marginTop:20}});var H,Y=a(5),Q=a(636),q=a(603),J=a(604),X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={textWidth:a.props.textWidth||620},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{style:[H.container,{width:this.state.textWidth,opacity:this.props.disabled?.4:1}]},r.a.createElement(h.a,{style:H.containerInner},r.a.createElement(p.a,{disabled:this.props.disabled,onPress:function(){e.props.onPress(!e.props.on)}},r.a.createElement(k.a,{source:this.props.on?q:J,style:H.checkOn})),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:H.questionText},this.props.text),this.props.subText&&r.a.createElement(y.a,{style:[H.questionSubText,{width:this.state.textWidth}]},this.props.subText),this.props.children)))}}]),t}(o.Component);H=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginTop:10},containerInner:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent"},checkOn:{marginRight:15,width:20,height:20},questionText:{fontSize:14,color:w.textBlue,fontFamily:T.fontFamily,fontWeight:T.mediumFont,marginBottom:6},questionSubText:{fontSize:14,color:w.labelGrey,fontFamily:T.fontFamily,fontWeight:T.mediumFont,marginBottom:16}});var Z,$=a(265),ee=(a(609),j.data.BN),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this))).state={ticketQuantity:void 0,daysQuantity:"30",totalCost:0,daysError:!1,totalCostString:"0",autoBuyTickets:!1,reinvestReward:!1,autoBuyStopDate:!1,totalPrice:new ee(0),error:!1,repaintKey:0,date:new Date((new Date).getTime()+864e5)},a.onChangeDate=a.onChangeDate.bind(Object(Y.a)(Object(Y.a)(a))),a.balanceListener=a.balanceListener.bind(Object(Y.a)(Object(Y.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"totalStake",value:function(e){return e.numberOfTickets*e.ticketPrice}},{key:"balanceListener",value:function(e){j.setBalanceInfo(e),this.calcDisplay(j.data,this.state.ticketQuantity),this.setState({repaintKey:this.state.repaintKey+1})}},{key:"componentDidMount",value:function(){j.web3api.on("balanceInfo",this.balanceListener)}},{key:"componentWillUnmount",value:function(){j.web3api.removeEventListener("balanceInfo",this.balanceListener)}},{key:"render",value:function(){var e,t,a=this,n=j.data,o=Z.purchaseTicketButtonDisabled,i=!1,l="Purchase Tickets";n.accountUnlocked&&(n.web3api.walletAddress=n.signInfo.address),this.state.ticketQuantity>0&&(o=Z.purchaseTicketButton,i=!0,l=1===this.state.ticketQuantity?"Purchase 1 Ticket":"Purchase ".concat(this.state.ticketQuantity," Tickets")),this.state.error?(i=!1,o=Z.purchaseTicketButtonDisabled,e=w.errorRed):e=w.textBlue,this.state.daysError?(i=!1,o=Z.purchaseTicketButtonDisabled,t=w.errorRed):t=w.textBlue;var s=n.totalTickets>0?L.displayPercent(n.numberOfTickets/n.totalTickets):"0.00";if("0.00"===s&&n.numberOfTickets>0&&(s="< 0.01"),!n.accountUnlocked)return r.a.createElement(h.a,{style:{padding:15}},r.a.createElement(y.a,{style:Z.Auto_Buy_Stake_Monit},"Your Account Must be unlocked to use this screen."),r.a.createElement(p.a,{style:{width:100},onPress:function(){g.push("/UnlockAccount")}},r.a.createElement(y.a,{style:Z.activeButton},"Select An Account")));var c=this.state.error?w.errorRed:w.orderGrey;return r.a.createElement(h.a,{style:{marginLeft:30,backgroundColor:w.backgroundGrey}},r.a.createElement(h.a,{style:Z.container},r.a.createElement(y.a,{style:Z.Auto_Buy_Stake_Monit},"Purchase Staking Tickets"),r.a.createElement(h.a,{style:Z.walletBox},r.a.createElement(y.a,{style:Z.walletLabel},"Wallet Address"),r.a.createElement(p.a,{onPress:function(){Q.a.setString(n.signInfo.address)}},r.a.createElement(y.a,{style:Z.walletLabelAddress},n.signInfo.address,r.a.createElement("i",{style:{marginLeft:4},className:"fa fa-copy"})))),r.a.createElement(h.a,{style:Z.stakeDetailBox},r.a.createElement(y.a,{style:Z.infoText},"Earn rewards by purchasing staking tickets. You will earn a reward of 2.5 FSN per selected ticket. If your ticket is not selected, your FSN will be returned when the ticket expires (the days selected after purchase). NOTE: Only one ticket at a time can be purchased per block for an address. ALSO when there are not enough time locked tokens, buy ticket will automatically time lock 200 FSN to purchase a ticket. After the ticket expires the purchase ticket program will try to remove the time lock from the 200 FSN. This will use gas from your account to send the unlock request.",r.a.createElement(p.a,{onPress:function(){window.open("https://fusion.org")}},r.a.createElement(y.a,{style:[Z.infoTextLink,{marginLeft:4}]},"Learn More"))),r.a.createElement(h.a,{style:{height:20}}),r.a.createElement(h.a,{style:Z.orderBorder}),r.a.createElement(h.a,{style:[Z.fundsDetailRow,{backgroundColor:w.backgroundGrey}]},r.a.createElement(y.a,{style:Z.labelLineText},"Funds Available (FSN+Timelocked FSN)"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:Z.statText},L.formatWei(n.timelockUsableBalance.add(n.walletBalance)),r.a.createElement(y.a,{style:Z.stakeTextFSN},"FSN")))),r.a.createElement(h.a,{style:Z.orderBorder}),r.a.createElement(h.a,{style:Z.stakeDetailRow},r.a.createElement(y.a,{style:Z.labelLineText},"Ticket Price"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:Z.valText},L.formatWei(n.ticketPrice),r.a.createElement(y.a,{style:Z.stakeTextFSN},"FSN")))),r.a.createElement(h.a,{style:Z.orderBorder}),r.a.createElement(h.a,{style:Z.stakeDetailRow},r.a.createElement(y.a,{style:Z.labelLineText},"Gas Price"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:Z.valText},L.formatWei(n.gasPrice),r.a.createElement(y.a,{style:Z.stakeTextFSN},"FSN")))),r.a.createElement(h.a,{style:Z.orderBorder}),r.a.createElement(h.a,{style:[Z.stakeDetailRow,{height:78}]},r.a.createElement(y.a,{style:Z.labelLineText},"Ticket Quantity"),r.a.createElement(h.a,null,r.a.createElement(h.a,{style:{flex:1,flexDirection:"row"}},this.state.error&&r.a.createElement(h.a,{style:Z.errorForFundsBox},r.a.createElement(y.a,{style:Z.errorForFunds},"You don't have enough FSN"),r.a.createElement("i",{style:{position:"relative",left:-1,color:w.errorRed},className:"fa fa-caret-right"})),r.a.createElement(b.a,{style:[Z.ticketQuantityInput,{borderColor:c}],placeholder:"0",autoCorrect:!1,placeholderTextColor:w.orderGrey,maxLength:10,value:""+(this.state.ticketQuantity||""),onChangeText:function(e){a.calcDisplay(n,e)}})),r.a.createElement(p.a,{onPress:function(){var e=new ee(n.gasPrice),t=new ee(n.ticketPrice);t=t.add(e);var o=n.timelockUsableBalance.add(n.walletBalance).div(t);a.calcDisplay(n,o.toNumber())}},r.a.createElement(y.a,{style:Z.maxIt},"Max Quantity")))),r.a.createElement(h.a,{style:Z.orderBorder}),r.a.createElement(h.a,{style:[Z.stakeDetailRow,{height:78}]},r.a.createElement(y.a,{style:Z.labelLineText},"Ticket Days"),r.a.createElement(h.a,null,r.a.createElement(h.a,{style:{flex:1,flexDirection:"row"}},r.a.createElement(b.a,{style:[Z.ticketQuantityInput,{color:t,borderColor:this.state.daysError?w.errorRed:w.orderGrey}],placeholder:"30",autoCorrect:!1,placeholderTextColor:w.orderGrey,maxLength:10,value:""+(this.state.daysQuantity||""),onChangeText:function(e){var t=parseInt(e);isNaN(t)||t<21||t>100?a.setState({daysQuantity:e,daysError:!0}):a.setState({daysQuantity:t,daysError:!1})}})),r.a.createElement(y.a,{style:[Z.maxIt,{color:w.orderGrey}]},"(21-100)"))),r.a.createElement(h.a,{style:Z.orderBorder}),r.a.createElement(h.a,{style:{height:16,width:1}}),r.a.createElement(h.a,{style:[Z.stakeDetailRow,{height:30}]},r.a.createElement(y.a,{style:Z.labelLineText},"Total Cost"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:Z.costCalcLineText},"Ticket Cost ",this.state.ticketQuantity||"0"," x"," ",L.formatWei(n.ticketPrice)," FSN"))),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:Z.costCalcLineText},"Gas Cost ",this.state.ticketQuantity||"0"," x"," ",L.formatWei(n.gasPrice)," FSN"),r.a.createElement(h.a,{style:{height:16,width:1}}),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:[Z.stakeTextVal,{color:e}]},this.state.totalCostString,r.a.createElement(y.a,{style:Z.stakeTextFSN},"FSN")))),r.a.createElement(h.a,{style:{height:20,width:1}}),r.a.createElement(h.a,{style:Z.orderBorder}),r.a.createElement(h.a,{style:{height:16,width:1}}),r.a.createElement(X,{textWidth:512,onPress:function(){var e={autoBuyTickets:!a.state.autoBuyTickets};e.autoBuyTickets||(e.autoBuyStopDate=!1),a.setState(e)},on:this.state.autoBuyTickets,text:"Auto Buy Tickets",subText:"Tickets will be repurchased when they expire or when they win rewards"}),r.a.createElement(X,{textWidth:512,disabled:!this.state.autoBuyTickets,onPress:function(){a.setState({autoBuyStopDate:!a.state.autoBuyStopDate})},on:this.state.autoBuyStopDate,text:"Auto Buy Stop Date",subText:"Auto Buy will stop on desired date"},this.state.autoBuyStopDate&&r.a.createElement($.a,{onChange:this.onChangeDate,selected:this.state.date,minDate:new Date((new Date).getTime()+864e5),showTimeSelect:!0,dateFormat:"Pp"})),r.a.createElement(p.a,{disabled:!i,onPress:function(){a.purchaseTicket()}},r.a.createElement(h.a,null,r.a.createElement(y.a,{style:o},l))),r.a.createElement(h.a,{style:{height:16,width:1}}),r.a.createElement(y.a,{style:Z.footerText},"Funds used to purchase tickets will be sent back after tickets have expired. Tickets expire 30 days after date of purchase. Your browser window must remain open to continue autobuy."))))}},{key:"purchaseTicket",value:function(){j.web3api.buyTickets(this.state),this.setState({purchasingTicket:!0}),g.push("/Status")}},{key:"onChangeDate",value:function(e){var t=new Date((new Date).getTime()+864e5);e.getTime()<t.getTime()&&(e=t),this.setState({date:e})}},{key:"calcDisplay",value:function(e,t){var a=parseInt(t);!a&&(0!==a||a<0)&&(a=0);var n=new ee(a);n=n.mul(e.gasPrice);var o=new ee(a);o=o.mul(e.ticketPrice),n=n.add(o);var r=L.formatWei(n.toString());this.setState({ticketQuantity:a,totalPrice:n,totalCostString:r,error:n.gt(e.timelockUsableBalance.add(e.walletBalance))})}}]),t}(o.Component);Z=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",marginTop:15,marginLeft:15,backgroundColor:w.backgroundGrey},sectionTitle:{fontSize:24,lineHeight:32,fontFamily:"Roboto, san-serif",fontWeight:T.boldFont,color:w.textBlue},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"},Auto_Buy_Stake_Monit:{fontSize:24,lineHeight:32,fontFamily:T.fontFamily,fontWeight:T.boldFont,color:w.textBlue,marginBottom:4},lastUpdated:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.labelGrey},labelLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.labelGrey},simpleLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.textBlue},activeButton:{color:w.textGreen,fontSize:14,backgroundColor:w.lightSuccessGreen,fontFamily:T.fontFamily,padding:8,fontWeight:T.regularFont},stopAutoBuyButton:{padding:8,fontSize:14,color:w.errorRed,fontWeight:T.regularFont},startAutoBuyButton:{color:w.textBlue,padding:8,fontSize:14,fontWeight:T.regularFont},inActiveButton:{color:w.textBlue,fontSize:14,backgroundColor:w.backgroundGrey,fontFamily:T.fontFamily,padding:8,fontWeight:T.regularFont},stakingMonitorActive:{fontSize:32,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.boldFont,marginTop:8,marginBottom:4},stakingMonitorActivePercent:{fontSize:32,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.boldFont,marginTop:4,marginBottom:4,marginLeft:1},largeMetricBox:{flex:1,flexBasis:"100%",flexDirection:"row",justifyContent:"space-between",marginTop:20,width:620},stakeTextFSN:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,marginLeft:4},viewTicketDetails:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,color:w.linkBlue},maxIt:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.mediumFont,color:w.linkBlue,alignSelf:"flex-end"},stakeTextVal:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont,color:w.textBlue,alignSelf:"flex-end"},valText:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:w.textBlue,alignSelf:"flex-end"},dateValue:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.textBlue},statText:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:w.textBlue},infoText:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:w.textGrey,lineHeight:"1.71"},infoTextLink:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:w.linkBlue},orderBorder:{backgroundColor:w.orderGrey,height:1,width:556},rewardsGivenBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:200,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rewardHolderView:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:388,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rwcTextViewbox:{marginBottom:16},rewardHolderViewText:{width:227,marginLeft:32,flex:1,flexBasis:"100%",justifyContent:"center"},rewardHolderViewGradient:{backgroundImage:"linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0))",width:40,marginLeft:32,position:"absolute",height:130,left:138},rewardGivenBoxTextHolder:{marginLeft:32,paddingTop:8},textNumberOfRewardsGivenType:{fontSize:12,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.regularFont,marginBottom:10,marginLeft:4},textNumberOfRewardsGivenTypeSmaller:{fontSize:12,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.regularFont,marginBottom:6,marginLeft:4},textNumberOfRewardsGiven:{fontSize:48,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.boldFont,marginTop:8},textNumberOfRewardsGivenSmaller:{fontSize:36,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.boldFont,marginTop:8},rewardsGivenBoxRewardCount:{flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",marginTop:-2},lineGraph:{width:216,height:126,position:"absolute",left:170,overflow:"visible"},walletBox:{backgroundColor:w.tagGrey,borderRadius:3,width:620,height:48,marginTop:20,flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},walletLabel:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginLeft:32,color:w.labelGrey},walletLabelAddress:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginRight:32,color:w.textBlue},stakeDetailText:{color:w.textBlue,fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont},stakesPurchaseTicketButtton:{borderRadius:3,padding:8,backgroundColor:w.primaryBlue,color:w.white,fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont},stakesStopAutoBuy:{borderColor:w.backgroundGrey,borderWidth:1,borderRadius:3,padding:8,backgroundColor:w.white},stakesStopAutoBuyText:{backgroundColor:w.white,color:w.errorRed,fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont},stakeDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:56},fundsDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:44},errorForFunds:{fontSize:12,fontWeight:T.mediumFont,fontFamily:T.fontFamily,color:w.white,backgroundColor:w.errorRed,paddingTop:6,paddingBottom:6,paddingLeft:8,paddingRight:8,borderRadius:3,height:24,alignSelf:"center"},errorForFundsBox:{flex:1,flexDirection:"row",marginRight:6,alignItems:"center"},ticketQuantityInput:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,fontSize:14,fontFamily:T.mediumFont,color:w.labelGrey,height:36,width:110,marginTop:6,marginBottom:6,alignSelf:"flex-end",textAlign:"right",paddingRight:4,paddingLeft:4,outline:"none"},costCalcLineText:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.mediumFont,color:w.labelGrey,alignSelf:"flex-end"},purchaseTicketButtonDisabled:{fontSize:16,width:556,borderRadius:3,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.white,backgroundColor:w.disabledBlue,textAlign:"center",padding:12,marginTop:20},purchaseTicketButton:{fontSize:16,width:556,borderRadius:3,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.white,backgroundColor:w.linkBlue,textAlign:"center",padding:12,marginTop:20},footerText:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont,color:w.disabledGrey}});var ae,ne=te,oe=j.web3api,re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).lastestBlockListener=a.lastestBlockListener.bind(Object(Y.a)(Object(Y.a)(a))),a.state={},a.state.block=null,a.state.expand=!1,a.state.displayLeftRight=e.displayLeftRight,a.props.match&&a.props.match.params&&a.props.match.params.blockNumber&&(a.state.blockNumberToDisplay=a.props.match.params.blockNumber,a.state.expand=!0,a.state.displayLeftRight=!0),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.block||this.state.block;if(!t)return r.a.createElement(y.a,null,"Lastest Block Will Display Here");if(this.state.expand){var a=[];if(t.transactions&&t.transactions.length>0){var n=!0,o=!1,i=void 0;try{for(var l,s=t.transactions[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=l.value;a.push(r.a.createElement(h.a,{key:c},r.a.createElement(y.a,null,c)))}}catch(u){o=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}return r.a.createElement(h.a,{style:ie.stakeDetailBox},r.a.createElement(h.a,{style:{flex:1,flexDirection:"row"}},r.a.createElement(p.a,{onPress:function(){e.setState({expand:!1})}},r.a.createElement(y.a,null,"Latest Block Number = ",t.number,r.a.createElement("i",{style:{color:w.textBlue,marginLeft:4},className:"fa fa-caret-up"}))),this.state.displayLeftRight&&r.a.createElement(h.a,{style:{flex:1,flexDirection:"row"}},r.a.createElement(p.a,{onPress:function(){e.cleanupBlock(),e.setupBlock(t.number-1)}},r.a.createElement("i",{style:{color:w.textBlue,marginLeft:4,marginRight:8,fontSize:16},className:"fa fa-caret-left"})),r.a.createElement(p.a,{onPress:function(){e.setState({expand:!1})}},r.a.createElement("i",{style:{color:w.textBlue,marginLeft:4,fontSize:16},className:"fa fa-caret-right"})))),r.a.createElement(h.a,{style:{height:8,width:1}}),r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Time Stamp"),r.a.createElement(y.a,{style:ie.stakeTextFSN},"(",t.timestamp,") ",new Date(1e3*t.timestamp).toString())),r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Hash"),r.a.createElement(y.a,{style:ie.stakeTextFSN},t.hash)),r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Parent Hash"),r.a.createElement(y.a,{style:ie.stakeTextFSN},t.parentHash)),r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Miner"),r.a.createElement(y.a,{style:ie.stakeTextFSN},t.miner)),r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Nonce"),r.a.createElement(y.a,{style:ie.stakeTextFSN},t.nonce)),r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Size"),r.a.createElement(y.a,{style:ie.stakeTextFSN},t.size)),r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Gas Used:"),r.a.createElement(y.a,{style:ie.stakeTextFSN},t.gasUsed)),r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Gas Limit:"),r.a.createElement(y.a,{style:ie.stakeTextFSN},t.gasLimit)),r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Transactions #:"),r.a.createElement(y.a,{style:ie.stakeTextFSN},t.transactions.length)),a,r.a.createElement(h.a,{style:ie.orderBorder}),r.a.createElement(h.a,{style:ie.blockDetailRow},r.a.createElement(y.a,{style:ie.labelLineText},"Total Difficulty:"),r.a.createElement(y.a,{style:ie.stakeTextFSN},t.totalDifficulty)),r.a.createElement(h.a,{style:ie.orderBorder}))}return r.a.createElement(p.a,{onPress:function(){e.setState({expand:!0})}},r.a.createElement(h.a,{style:ie.stakeDetailSmall},r.a.createElement(y.a,null,"Latest Block Number = ",t.number,r.a.createElement("i",{style:{color:w.textBlue,marginLeft:4},className:"fa fa-caret-down"}))))}},{key:"lastestBlockListener",value:function(e){this.setState({block:e})}},{key:"setupBlock",value:function(e){var t=e||this.state.blockNumberToDisplay;this.props.block||(t?oe.getBlock(!0,t,this.lastestBlockListener):oe.on("latestBlock",this.lastestBlockListener)),void 0!==e&&this.setState({blockNumberToDisplay:e})}},{key:"cleanupBlock",value:function(){this.props.block||(this.state.blockNumberToDisplay?oe.getBlock(!1,this.state.blockNumberToDisplay,this.lastestBlockListener):oe.removeEventListener("latestBlock",this.lastestBlockListener))}},{key:"componentDidMount",value:function(){this.setupBlock()}},{key:"componentWillUnmount",value:function(){this.cleanupBlock()}}]),t}(o.Component),ie=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"flex-start",marginTop:15,marginLeft:15,backgroundColor:w.backgroundGrey},stakeDetailBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,paddingRight:32,paddingTop:12,paddingBottom:12,paddingLeft:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailSmall:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:12,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},labelLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.labelGrey},stakeTextFSN:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,marginLeft:4},stakeTextVal:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont,alignSelf:"flex-end",color:w.textBlue},blockDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:44},orderBorder:{backgroundColor:w.orderGrey,height:1,width:556}}),le=j.BN,se=a(611),ce=a(612),ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this))).state={paintKey:0,ticketDisplayOn:!1,lastTicketStatus:"",ticketStop:!1},a.balanceListener=a.balanceListener.bind(Object(Y.a)(Object(Y.a)(a))),a.purchaseTikStatus=a.purchaseTikStatus.bind(Object(Y.a)(Object(Y.a)(a))),a.leavePage=a.leavePage.bind(Object(Y.a)(Object(Y.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"totalStake",value:function(e){return e.ticketPrice.mul(new le(e.numberOfTickets))}},{key:"balanceListener",value:function(e){j.setBalanceInfo(e),this.setState({paintKey:this.state.paintKey+1})}},{key:"purchaseTikStatus",value:function(e){var t=j.data.ticketPurchasing;void 0===t&&(t={activeTicketPurchase:!1}),t.activeTicketPurchase&&!this.setUnload?(this.setUnload=!0,window.addEventListener("beforeunload",this.leavePage)):!t.activeTicketPurchase&&this.setUnload&&(this.setUnload=!1,window.removeEventListener("beforeunload",this.leavePage)),this.setState({autoBuyOn:e.autoBuyTickets,lastTicketStatus:e.lastCall,ticketStop:!1})}},{key:"componentDidMount",value:function(){j.web3api.on("balanceInfo",this.balanceListener),j.web3api.on("purchaseAgain",this.purchaseTikStatus),j.web3api.on("purchaseCompleted",this.purchaseTikStatus),j.web3api.on("purchaseStarted",this.purchaseTikStatus),j.web3api.on("purchaseWaitForNewBlock",this.purchaseTikStatus),j.web3api.on("purchaseSubmitTicket",this.purchaseTikStatus)}},{key:"leavePage",value:function(e){var t="Tickets are being bought, are you sure you want to leave this page?";return e.returnValue=t,t}},{key:"componentWillUnmount",value:function(){this.setUnload&&(this.setUnload=!1,window.removeEventListener("beforeunload",this.leavePage)),j.web3api.removeEventListener("balanceInfo",this.balanceListener),j.web3api.removeEventListener("purchaseAgain",this.purchaseTikStatus),j.web3api.removeEventListener("purchaseCompleted",this.purchaseTikStatus),j.web3api.removeEventListener("purchaseStarted",this.purchaseTikStatus),j.web3api.removeEventListener("purchaseWaitForNewBlock",this.purchaseTikStatus),j.web3api.removeEventListener("purchaseSubmitTicket",this.purchaseTikStatus)}},{key:"tickRate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.totalTickets||1;0===a&&(a=1);var n=365*(1/a*5760*(t?.625:2.5)/5e3)*100;return n.toFixed(n>99?0:1)+"%"}},{key:"render",value:function(){var e=this,t=j.data;le||(le=j.BN),t.accountUnlocked&&(t.web3api.walletAddress=t.signInfo.address);var a,n,o=t.rewardsToDate,i=1===t.totalTickets?"Ticket":"Tickets";o.length<4?(a=ae.textNumberOfRewardsGiven,n=ae.textNumberOfRewardsGivenType):(n=ae.textNumberOfRewardsGivenTypeSmaller,a=ae.textNumberOfRewardsGivenSmaller);var l=t.totalTickets>0?L.displayPercent(t.numberOfTickets/t.totalTickets):"0.00";"0.00"===l&&t.numberOfTickets>0&&(l="< 0.01");var s,c=new E.a(t.lastUpdateTime),u=j.data.ticketPurchasing;void 0===u&&(u={activeTicketPurchase:!1});var d=u.lastStatus;if(u.activeTicketPurchase){var f=parseInt(224*u.ticketsPurchased/u.ticketQuantity);s=r.a.createElement(h.a,{key:"ticketPurchaseView",style:{width:224,height:24,alignItems:"flex-start",justifyContent:"flex-start"}},r.a.createElement(h.a,{style:{width:200,height:20}},r.a.createElement(h.a,{style:{width:224,height:20,backgroundColor:"transparent",position:"absolute",top:0,left:0,borderWidth:1,borderColor:w.orderGrey,borderRadius:3}}),r.a.createElement(h.a,{style:{width:f,height:20,backgroundColor:w.successGreen,position:"absolute",top:0,left:0,borderWidth:1,borderColor:"transparent",borderRadius:3}}),r.a.createElement(y.a,{style:[ae.labelLineText,{width:224,height:20,position:"absolute",textAlign:"center",top:4,left:0}]},"".concat(u.ticketsPurchased+1," of ").concat(u.ticketQuantity))),r.a.createElement(y.a,{style:[ae.labelLineText,{width:224,marginTop:4}]},d))}var m=c.toString();if(!t.accountUnlocked)return r.a.createElement(h.a,{style:{padding:15}},r.a.createElement(y.a,{style:ae.Auto_Buy_Stake_Monit},"Your Account Must be unlocked to use this screen."),r.a.createElement(p.a,{style:{width:100},onPress:function(){g.push("/UnlockAccount")}},r.a.createElement(y.a,{style:[ae.stakesPurchaseTicketButtton,{textAlign:"center",width:200}]},"Select An Account")));if(this.state.ticketDisplayOn){for(var b=Object.keys(t.allTickets?t.allTickets:{}),x=[],T=0;T<b.length;T++){var v=b[T],S=t.allTickets[v],F=E()(new Date(1e3*S.ExpireTime)).format("L LT z");x.push(r.a.createElement(h.a,{key:""+S.ExpireTime},r.a.createElement(h.a,{style:ae.ticketDetailRow},r.a.createElement(y.a,{style:[ae.labelLineText,{width:120}]},F),r.a.createElement(y.a,{style:[ae.labelLineText,{textAlign:"center",width:60}]},L.formatWei(t.ticketPrice)),r.a.createElement(y.a,{style:[ae.labelLineText,{textAlign:"right",width:366,fontSize:10}]},S.ID)),r.a.createElement(h.a,{style:ae.orderBorder})))}return r.a.createElement(h.a,{style:ae.container},r.a.createElement(h.a,null,r.a.createElement(h.a,{style:ae.stakeDetailBox},r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.stakeDetailText},"Ticket Details",r.a.createElement(y.a,{style:ae.dateValue},"  "+t.numberOfTickets+(1===t.numberOfTickets?" Ticket":" Tickets")))),r.a.createElement(h.a,{style:ae.ticketDetailRow},r.a.createElement(y.a,{style:[ae.labelLineText,{width:120}]},"Expiration Time"),r.a.createElement(y.a,{style:[ae.labelLineText,{width:80}]},"Ticket Price"),r.a.createElement(y.a,{style:[ae.labelLineText,{textAlign:"right",width:340}]},"Ticket Hash"),r.a.createElement(h.a,null)),r.a.createElement(h.a,{style:ae.orderBorder}),x),r.a.createElement(p.a,{onPress:function(){e.setState({ticketDisplayOn:!1})},style:ae.closeButton},r.a.createElement(k.a,{resizeMode:"contain",source:ce,style:{width:14,height:14}}))))}return r.a.createElement(h.a,{style:{marginLeft:30,backgroundColor:w.backgroundGrey}},r.a.createElement(h.a,{style:ae.container},r.a.createElement(h.a,{style:ae.titleBox},r.a.createElement(y.a,{style:ae.Auto_Buy_Stake_Monit},"Auto Buy Stake Monitor"),r.a.createElement(p.a,null,r.a.createElement(y.a,{style:ae.lastUpdated},"Last Updated: ".concat(m)))),r.a.createElement(h.a,{style:ae.walletBox},r.a.createElement(y.a,{style:ae.walletLabel},"Wallet Address"),r.a.createElement(p.a,{onPress:function(){Q.a.setString(t.signInfo.address)}},r.a.createElement(y.a,{style:ae.walletLabelAddress},t.signInfo.address,r.a.createElement("i",{style:{marginLeft:4},className:"fa fa-copy"})))),r.a.createElement(h.a,{style:{height:10,width:1}}),r.a.createElement(re,{block:t.latestBlock}),r.a.createElement(h.a,{style:{height:10,width:1}}),r.a.createElement(h.a,{style:ae.largeMetricBox},r.a.createElement(h.a,{style:ae.rewardHolderView},r.a.createElement(k.a,{resizeMode:"contain",source:se,style:ae.lineGraph}),r.a.createElement(h.a,{style:ae.rewardHolderViewGradient}),r.a.createElement(h.a,{style:ae.rewardHolderViewText},r.a.createElement(h.a,{style:ae.rwcTextViewbox},r.a.createElement(y.a,{style:ae.labelLineText},"Current Reward Probablity"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:ae.stakingMonitorActive},l,r.a.createElement(y.a,{style:ae.stakingMonitorActivePercent},"%"))),r.a.createElement(y.a,{style:ae.simpleLineText},"".concat(t.numberOfTickets," of ").concat(L.displayNumber(t.totalTickets,t.totalTickets<1e3?0:2)," ").concat(i))))),r.a.createElement(h.a,{style:ae.rewardsGivenBox},r.a.createElement(h.a,{style:ae.rwcTextViewbox},r.a.createElement(h.a,{style:ae.rewardGivenBoxTextHolder},r.a.createElement(y.a,{style:ae.labelLineText},"Rewards to Date"),r.a.createElement(h.a,{style:ae.rewardsGivenBoxRewardCount},r.a.createElement(y.a,{style:a},o),r.a.createElement(y.a,{style:n},"FSN")),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:ae.simpleLineText},"Ticket Yearly Reward Rate"),r.a.createElement(y.a,{style:[ae.simpleLineText,{marginTop:4}]},r.a.createElement(y.a,null,"FSN")," "+this.tickRate(t,!1)+" ")))))),r.a.createElement(h.a,{style:ae.stakeDetailBox},r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.stakeDetailText},"Stake Details"),r.a.createElement(p.a,{disabled:this.state.ticketStop,onPress:function(){u.activeTicketPurchase?window.confirm("Are you sure you want to stop purchasing?")&&(e.setState({ticketStop:!0}),j.web3api.stopTicketPurchase()):g.push("/PurchaseTicket")}},this.handleStakeButtons(t,u))),r.a.createElement(h.a,{style:{height:20}}),r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.labelLineText},"Staking Status"),s,u.activeTicketPurchase?r.a.createElement(y.a,{key:"ab1",style:ae.activeButton},"Active"):r.a.createElement(y.a,{key:"ab1",style:ae.inActiveButton},"Inactive")),r.a.createElement(h.a,{style:ae.orderBorder}),r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.labelLineText},"Active Tickets"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:ae.stakeTextVal},t.numberOfTickets,r.a.createElement(y.a,{style:ae.stakeTextFSN},"Tickets")),t.numberOfTickets>0&&r.a.createElement(p.a,{onPress:function(){e.setState({ticketDisplayOn:!0})}},r.a.createElement(y.a,{style:ae.viewTicketDetails},"View Ticket Details")))),r.a.createElement(h.a,{style:ae.orderBorder}),r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.labelLineText},"Rewards to Date"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:ae.stakeTextVal},t.rewardsToDate,r.a.createElement(y.a,{style:ae.stakeTextFSN},"FSN")))),r.a.createElement(h.a,{style:ae.orderBorder}),r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.labelLineText},"FSN Staked"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:ae.stakeTextVal},L.formatWei(this.totalStake(t)),r.a.createElement(y.a,{style:ae.stakeTextFSN},"FSN")))),r.a.createElement(h.a,{style:ae.orderBorder}),r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.labelLineText},"FSN Available"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:ae.stakeTextVal},L.formatWei(t.walletBalance),r.a.createElement(y.a,{style:ae.stakeTextFSN},"FSN")))),r.a.createElement(h.a,{style:ae.orderBorder}),r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.labelLineText},"Timelocked FSN Available"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:ae.stakeTextVal},L.formatWei(t.timelockUsableBalance),r.a.createElement(y.a,{style:ae.stakeTextFSN},"FSN")))),r.a.createElement(h.a,{style:ae.orderBorder}),r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.labelLineText},"Total FSN"),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:ae.stakeTextVal},L.formatWei(t.timelockUsableBalance.add(t.walletBalance.add(this.totalStake(t)))),r.a.createElement(y.a,{style:ae.stakeTextFSN},"FSN")))),r.a.createElement(h.a,{style:ae.orderBorder}),this.state.autoBuyOn&&r.a.createElement(h.a,{key:"aaa"},r.a.createElement(h.a,{style:ae.stakeDetailRow},r.a.createElement(y.a,{style:ae.labelLineText},"Auto Buy Tickets"),r.a.createElement(y.a,{key:"ab1",style:ae.activeButton},"On")),r.a.createElement(h.a,{style:ae.orderBorder})))))}},{key:"handleStakeButtons",value:function(e,t){return t.activeTicketPurchase?t.activeTicketPurchase?r.a.createElement(h.a,{style:{borderRadius:3,borderWidth:1,borderColor:this.state.ticketStop?w.errorRed:w.orderGrey}},r.a.createElement(y.a,{key:"ab1",style:ae.stopAutoBuyButton},this.state.ticketStop?"Stopping Purchasing":this.state.autoBuyOn?"Stop AutoBuy":"Stop Purchasing")):r.a.createElement(h.a,{style:{borderRadius:3,borderWidth:1,borderColor:w.orderGrey}},r.a.createElement(y.a,{key:"ab1",style:ae.startAutoBuyButton},"Start Auto Buy")):r.a.createElement(y.a,{key:"ab1",style:ae.stakesPurchaseTicketButtton},"Purchase Staking Tickets")}}]),t}(o.Component);ae=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",marginTop:15,marginLeft:15,backgroundColor:w.backgroundGrey},sectionTitle:{fontSize:24,lineHeight:32,fontFamily:"Roboto, san-serif",fontWeight:T.boldFont,color:w.textBlue},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"},Auto_Buy_Stake_Monit:{fontSize:24,lineHeight:32,fontFamily:T.fontFamily,fontWeight:T.boldFont,color:w.textBlue,marginBottom:4,alignSelf:"flex-start"},lastUpdated:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.labelGrey,alignSelf:"flex-start"},labelLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.labelGrey},simpleLineText:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.textBlue},activeButton:{color:w.textGreen,fontSize:14,backgroundColor:w.lightSuccessGreen,fontFamily:T.fontFamily,padding:8,fontWeight:T.regularFont},stopAutoBuyButton:{padding:8,fontSize:14,color:w.errorRed,fontWeight:T.regularFont},startAutoBuyButton:{color:w.textBlue,padding:8,fontSize:14,fontWeight:T.regularFont},inActiveButton:{color:w.textBlue,fontSize:14,backgroundColor:w.backgroundGrey,fontFamily:T.fontFamily,padding:8,fontWeight:T.regularFont},stakingMonitorActive:{fontSize:32,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.boldFont,marginTop:8,marginBottom:4},stakingMonitorActivePercent:{fontSize:32,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.boldFont,marginTop:4,marginBottom:4,marginLeft:1},largeMetricBox:{flex:1,flexBasis:"100%",flexDirection:"row",justifyContent:"space-between",marginTop:20,width:620},stakeTextFSN:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,marginLeft:4},viewTicketDetails:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,color:w.linkBlue},stakeTextVal:{fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont,alignSelf:"flex-end",color:w.textBlue},dateValue:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.textBlue},orderBorder:{backgroundColor:w.orderGrey,height:1,width:556},rewardsGivenBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:200,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rewardHolderView:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:388,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rwcTextViewbox:{marginBottom:16},rewardHolderViewText:{width:227,marginLeft:32,flex:1,flexBasis:"100%",justifyContent:"center"},rewardHolderViewGradient:{backgroundImage:"linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0))",width:40,marginLeft:32,position:"absolute",height:130,left:138},rewardGivenBoxTextHolder:{marginLeft:32,paddingTop:24},textNumberOfRewardsGivenType:{fontSize:12,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.regularFont,marginBottom:10,marginLeft:4},textNumberOfRewardsGivenTypeSmaller:{fontSize:12,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.regularFont,marginBottom:6,marginLeft:4},textNumberOfRewardsGiven:{fontSize:48,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.boldFont,marginTop:8},textNumberOfRewardsGivenSmaller:{fontSize:36,fontFamily:T.fontFamily,color:w.textBlue,fontWeight:T.boldFont,marginTop:8},rewardsGivenBoxRewardCount:{flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",marginTop:-2},lineGraph:{width:216,height:126,position:"absolute",left:170,overflow:"visible"},titleBox:{width:620},walletBox:{backgroundColor:w.tagGrey,borderRadius:3,width:620,height:48,marginTop:20,flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},walletLabel:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginLeft:32,color:w.labelGrey},walletLabelAddress:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,marginRight:32,color:w.textBlue},stakeDetailText:{color:w.textBlue,fontSize:18,fontFamily:T.fontFamily,fontWeight:T.boldFont},stakesPurchaseTicketButtton:{borderRadius:3,padding:8,backgroundColor:w.primaryBlue,color:w.white,fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont},stakesStopAutoBuy:{borderColor:w.backgroundGrey,borderWidth:1,borderRadius:3,padding:8,backgroundColor:w.white},stakesStopAutoBuyText:{backgroundColor:w.white,color:w.errorRed,fontSize:14,fontFamily:T.fontFamily,fontWeight:T.mediumFont},stakeDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:56},ticketDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:44,width:620},closeButton:{width:14,height:14,position:"absolute",right:18,top:24,padding:8}});var de,fe=ue,he=a(637),me=j.web3api,ge=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={initedNode:!1,currentNodeAddress:null,newNodeAddress:"",error:null,testing:!1},a.connectionListener=a.connectionListener.bind(Object(Y.a)(Object(Y.a)(a)));var n=window.localStorage.getItem("addressMainnet");return a.didOneUpdate?(n||(n="wss://mainnetpublicgateway1.fusionnetwork.io:10001"),a.setState({newNodeAddress:n,currentNodeAddress:n,initedNode:!0})):(n||(n="wss://mainnetpublicgateway1.fusionnetwork.io:10001"),a.state.currentNodeAddress=n,a.state.newNodeAddress=n,a.state.initedNode=!0),Object(u.a)(a)}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.didOneUpdate=!0}},{key:"connectionListener",value:function(e,t){this.state.testing?("error"===e[0]&&(alert("Unable to connect to "+this.state.newNodeAddress),this.setState({testing:!1})),"connected"===e[0]&&(this.setState({connectionError:!1,testing:!1,currentNodeAddress:this.state.newNodeAddress}),window.localStorage.setItem("addressMainnet",this.state.newNodeAddress))):"error"===e[0]?this.setState({connectionError:!0}):"stillgood"===e[0]&&this.state.connectionError&&this.setState({connectionError:!1})}},{key:"setNodeAddress",value:function(e){me.setNodeAddress(e)}},{key:"componentDidMount",value:function(){me.on("connectstatus",this.connectionListener),this.state.newNodeAddress&&!this.state.testing&&me.setNodeAddress(this.state.newNodeAddress)}},{key:"componentWillUnmount",value:function(){me.removeEventListener("connectstatus",this.connectionListener)}},{key:"render",value:function(){var e=this;if(this.state.testing){var t=this.state.newNodeAddress;return t.length>18&&(t=t.substr(0,15)+"..."),r.a.createElement(h.a,{style:de.testingBackground},r.a.createElement(h.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(y.a,{style:[de.testingNode,{marginRight:4}]},t),r.a.createElement(he.a,{animating:!0})))}if(this.state.error)return r.a.createElement(p.a,{onPress:function(){e.setState({error:void 0})}},r.a.createElement(h.a,{style:de.errorBackground},r.a.createElement(y.a,{adjustsFontSizeToFit:!0,style:de.errorText},this.state.error)));if(this.state.inputNodeMode)return r.a.createElement(h.a,{style:de.inputBackground},r.a.createElement(b.a,{style:de.nodeInput,placeholder:"http(s):// or ws(s):// address:port",autoCorrect:!1,placeholderTextColor:w.orderGrey,maxLength:128,value:this.state.newNodeAddress,clearButtonMode:"always",onChangeText:function(t){e.setState({newNodeAddress:t})},autoFocus:!0,onBlur:function(){e.setState({inputNodeMode:!1})},onKeyPress:function(t){13===t.charCode&&(e.state.newNodeAddress?(e.setState({testing:!0,connectionError:!1}),e.setNodeAddress(e.state.newNodeAddress)):e.setState({inputNodeMode:!1}))}}));if(!this.state.currentNodeAddress)return r.a.createElement(p.a,{onPress:function(){e.setState({inputNodeMode:!0})}},r.a.createElement(h.a,{style:de.inputBackground},r.a.createElement(y.a,{style:de.selectNode},"Select Node")));var a=this.state.currentNodeAddress;return a.length>26&&(a=a.substr(0,23)+"..."),r.a.createElement(p.a,{onPress:function(){e.setState({inputNodeMode:!0})}},r.a.createElement(h.a,{style:this.state.connectionError?de.errorBackground:de.standardBackground},r.a.createElement(h.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},!this.state.connectionError&&r.a.createElement("i",{key:"c11",className:"fa fa-check-circle",style:{color:w.successGreen,marginRight:4}}),r.a.createElement(y.a,{style:[de.standardNode,{marginRight:4}]},a))))}}]),t}(o.Component);de=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",width:"100%"},errorBackground:{width:180,height:44,borderRadius:3,backgroundColor:w.errorRed,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center"},errorText:{fontSize:12,fontFamily:T.mediumFont,color:w.white},nodeInput:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,fontSize:12,fontFamily:T.mediumFont,color:w.labelGrey,width:148,height:32,outline:"none",paddingLeft:2,paddingRight:2,paddingTop:4,paddingBottom:4},standardNode:{color:w.textBlue,fontSize:12,fontWeight:T.regularFont,fontFamily:T.fontFamily},standardBackground:{width:180,height:44,borderRadius:3,borderWidth:1,borderColor:w.orderGrey,backgroundColor:w.white,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center",overflow:"hidden"},inputBackground:{width:180,height:44,borderRadius:3,backgroundColor:w.linkBlue,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center",overflow:"hidden"},testingNode:{fontSize:12,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.black,textAlign:"center"},testingBackground:{width:180,height:44,borderRadius:3,backgroundColor:w.lightSuccessGreen,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",alignItems:"center",justifyContent:"center",overflow:"hidden"},selectNode:{fontSize:14,fontFamily:T.fontFamily,fontWeight:T.regularFont,color:w.white,backgroundColor:w.linkBlue,textAlign:"center"}});var ye,pe,ke=a(242),be=a(613),xe=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e)),pe=Object(Y.a)(Object(Y.a)(a)),a.state={appSelectOpen:!1},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.titleWidth||150,a=this.state.appSelectOpen?w.backgroundGrey:w.white;return r.a.createElement(h.a,{style:we.container},r.a.createElement(h.a,{style:{flex:1,flexDirection:"row",flexBasis:"auto",justifyContent:"flex-start",alignItems:"center"}},r.a.createElement(k.a,{source:ke,resizeMode:"contain",style:{marginLeft:80,width:129,height:29}}),r.a.createElement(p.a,{onPress:function(){ye.setState({appSelectOpen:!e.state.appSelectOpen}),e.setState({appSelectOpen:!e.state.appSelectOpen})}},r.a.createElement(h.a,{style:[we.appSelect,{backgroundColor:a,width:t}]},r.a.createElement(k.a,{source:be,resizeMode:"contain",style:{marginLeft:8,width:18,height:18}}),r.a.createElement(y.a,{style:we.titleAutoBuy},this.props.title))),r.a.createElement(y.a,{style:we.programVersion},this.props.version)),this.props.nodeSelect&&r.a.createElement(h.a,{style:we.nodeSelectBox},r.a.createElement(ge,null)))}}],[{key:"setAppDisplay",value:function(e){ye=e}},{key:"hideAppDisplay",value:function(){ye.setState({appSelectOpen:!1}),pe.setState({appSelectOpen:!1})}}]),t}(o.Component),we=x.a.create({container:{flex:1,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:72,width:"100%",backgroundColor:w.white,overflow:"visible",boxShadow:"inset 0 -1px 0 0 #bdc4ce"},appSelect:{height:40,flex:1,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:16,overflow:"visible",boxShadow:"inset 0 -1px 0 0 #bdc4ce",borderWidth:1,borderRadius:3,borderColor:w.orderGrey},popupMenuBox:{backgroundColor:w.primaryBlue,width:224,boxShadow:"0 8px 16px 0 rgba(0, 15, 33, 0.16), 0 0 8px 0 rgba(0, 15, 33, 0.08);",borderWidth:1,borderRadius:3,borderColor:w.orderGrey,position:"absolute",top:64,left:224,padding:16},borderTitle:{width:.9,backgroundColor:w.grey,height:19,marginLeft:14,marginRight:14},titleAutoBuy:{fontFamily:T.fontFamily,fontSize:16,fontWeight:T.boldFont,marginLeft:8,color:w.textBlue},programVersion:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,color:w.textBlue,padding:2,marginLeft:16,backgroundColor:w.grey},nodeSelectBox:{alignSelf:"center",marginRight:32,marginLeft:32}}),Te=a(601),ve=(a(242),a(614)),Ee=a(615),Se=a(616),Fe=a(617),Be=a(618),Ce=(a(619),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={hover:!1},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.hover?w.backgroundGrey:w.white;return r.a.createElement(p.a,{onPress:function(){window.open(e.props.link),xe.hideAppDisplay()}},r.a.createElement(h.a,{onMouseEnter:function(){e.setState({hover:!0})},onMouseLeave:function(){e.setState({hover:!1})},style:{flex:1,flexDirection:"row",alignItems:"center",marginBottom:16,justifyContent:"flex-start",backgroundColor:t}},r.a.createElement(k.a,{source:this.props.image,resizeMode:"contain",style:{marginRight:16,width:14,height:14}}),r.a.createElement(y.a,{style:Ae.selectItemText},this.props.text)))}}]),t}(o.Component)),Le=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={appSelectOpen:!1},xe.setAppDisplay(Object(Y.a)(Object(Y.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.appSelectOpen?r.a.createElement(Te.a,{onPress:function(){xe.hideAppDisplay()}},r.a.createElement(h.a,{style:Ae.modalBackground},r.a.createElement(h.a,{style:Ae.popupMenuBox},r.a.createElement(y.a,{style:Ae.appsText},"Apps"),r.a.createElement(Ce,{image:ve,text:"My Wallet",link:"https://www.myfusionwallet.com"}),r.a.createElement(Ce,{image:Ee,text:"Asset Gateway",link:"https://assetgateway.fusionnetwork.io"}),r.a.createElement(Ce,{image:Se,text:"Auto Buy Stake",link:"https://tickets.fusionnetwork.io"}),r.a.createElement(Ce,{image:Fe,text:"Block Explorer",link:"https://blocks.fusionnetwork.io"}),r.a.createElement(Ce,{image:Be,text:"Network Monitor",link:"http://node.fusionnetwork.io"})))):r.a.createElement(h.a,null)}}]),t}(o.Component),Ae=x.a.create({modalBackground:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0)"},popupMenuBox:{backgroundColor:w.white,width:224,boxShadow:"0 8px 16px 0 rgba(0, 15, 33, 0.16), 0 0 8px 0 rgba(0, 15, 33, 0.08);",borderWidth:1,borderRadius:3,borderColor:w.orderGrey,position:"absolute",top:64,left:224,padding:16},selectItemText:{fontFamily:T.fontFamily,fontSize:14,fontWeight:T.boldFont,color:w.textBlue},appsText:{fontFamily:T.fontFamily,fontSize:14,fontWeight:T.regularFont,color:w.labelGrey,marginBottom:16},borderTitle:{width:.9,backgroundColor:w.grey,height:19,marginLeft:14,marginRight:14},titleAutoBuy:{fontFamily:T.fontFamily,fontSize:16,fontWeight:T.boldFont,marginLeft:8,color:w.textBlue},programVersion:{fontFamily:T.fontFamily,fontSize:12,fontWeight:T.regularFont,color:w.textBlue,padding:2,marginLeft:16,backgroundColor:w.grey},nodeSelectBox:{alignSelf:"center",marginRight:32,marginLeft:32}}),Oe=a(638),De=a(155),Pe=a.n(De),Ne=a(263),je=a(136),Re={priceInfo:{},transactions:{},blocks:{},ticketNumber:"-",totalTransactions:"-",lastUpdateTime:new Date,last5Blocks:[],last5Transactions:[],menuPath:"Dashboard",blockCache:{},pendingLoad:{},pendingTLoad:{},cacheTLoad:{},pendingALoad:{},cacheALoad:{},pendingAsLoad:{},cacheAsLoad:{},letPageTransactionCache:{},letPageTransactionCachePending:{},letPageBlockCache:{},letPageBlockCachePending:{},letPageAddressCache:{},letPageAddressCachePending:{},letPageAssetCache:{},letPageAssetCachePending:{},totalAddresses:0,totalAssets:0,maxBlock:0,address:{},asset:{}},We=new C.a,ze=L.getServer();function Ge(){setTimeout(function(){Ie()},7500)}function Ie(){je({method:"GET",uri:ze+"/fsnprice",qs:{sort:"desc"},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0}).then(function(e){if(e){var t=!1;console.log(e),Re.maxBlock!==e.maxBlock&&(t=!0,Re.maxBlock=e.maxBlock),Re.totalTransactions=e.totalTransactions,Re.priceInfo=e.priceInfo,Re.lastTwoBlocks=e.lastTwoBlocks,Re.totalAddresses=e.totalAddresses,Re.totalAssets=e.totalAssets,Re.lastUpdateTime=new Date,t&&_e(),Ve.emit("data",Re)}Ge()}).catch(function(e){console.log("API call error:",e.message),Ge()})}function _e(){je({method:"GET",uri:ze+"/blocks/all",qs:{sort:"desc",page:0,size:5},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0}).then(function(e){if(e){var t;console.log("555555"),console.log(e),Re.last5Blocks=e,Ve.emit("data",Re);var a=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var l=r.value;if(!t)try{t=JSON.parse(l.tickInfo).ticketNumber}catch(s){}Re.blockCache[l.hash]=l,Re.blockCache[l.height]=l}}catch(c){n=!0,o=c}finally{try{a||null==i.return||i.return()}finally{if(n)throw o}}return t&&Re.ticketNumber!==t&&(Re.ticketNumber=t,Ve.emit("ticketNumber",t)),Me()}return!0}).catch(function(e){console.log("Fetch next blocks API call error:",e.message),setTimeout(_e,1e3)})}function Me(){return je({method:"GET",uri:ze+"/transactions/all",qs:{sort:"desc",page:0,size:5},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0}).then(function(e){return e&&(Re.last5Transactions=e,Ve.emit("data",Re)),!0}).catch(function(e){console.log("Fetch next blocks API call error:",e.message),setTimeout(Me,1e3)})}Ie();var Ue,Ve=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"blockInfo",value:function(e){}},{key:"on",value:function(e,t){We.on(e,t),t("data",Re)}},{key:"removeEventListener",value:function(e,t){We.removeListener(e,t)}},{key:"emit",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];We.emit(e,t,a)}},{key:"getEventEmitter",value:function(){return We}},{key:"setMenuPath",value:function(e){Re.menuPath=e,We.emit("menuPathChanged",e,!1)}},{key:"getBlock",value:function(t){var a=Re.blockCache[t];if(a)return a.parsed||(a.parsed=JSON.parse(a.block)),a;if(Re.pendingLoad[t])return"loading";if(Re.pendingLoad[t]=!0,"string"===typeof t&&t.startsWith("0x"))return e.requestBlockRange(t,t),"loading";var n=t;return t<5&&(n-=5),e.requestBlockRange(n,t,t),"loading"}},{key:"requestBlockRange",value:function(t,a,n){var o=0,r=1,i=ze+"/blocks/"+t;return"string"===typeof t&&t.startsWith("0x")||(o=parseInt(parseInt(t)/10),r=10,i=ze+"/blocks/all"),je({method:"GET",uri:i,qs:{sort:"asc",page:o,size:r},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0}).then(function(e){if(e){var t=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var l=r.value;Re.blockCache[l.hash]=l,Re.blockCache[l.height]=l}}catch(s){n=!0,o=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}We.emit("blocksLoaded",Re,!1)}return delete Re.pendingLoad[a],!0}).catch(function(o){console.log("Fetch next blocks API call error:",o.message),delete Re.pendingLoad[a],setTimeout(function(){e.requestBlockRange(t,a,n)},1e3)})}},{key:"convertNumberToStringJSON",value:function(e,t){t='"'+t+'":';var a=e.indexOf(t);if(!(a<1)){for(var n=e.substr(a+t.length),o="",r=n.length,i=0;i<r;i++){var l=n.charAt(i);if(!(l>="0"&&l<="9"))break;o+=l}return o}}},{key:"getTransaction",value:function(t){t=t.toLowerCase();var a=Re.transactions[t];if(a){if(!a.parsed){a.transaction=JSON.parse(a.transaction);try{a.rawData=a.data,a.data=JSON.parse(a.data),a.data.Value&&(a.data.Value=e.convertNumberToStringJSON(a.rawData,"Value"))}catch(o){}a.receipt=JSON.parse(a.receipt),a.parsed=!0}return a}if(Re.pendingTLoad[t])return"loading";var n=0===Object.keys(Re.cacheTLoad).length;return Re.pendingTLoad[t]=!0,Re.cacheTLoad[t]=!0,n&&!Re.disableTLoader&&setTimeout(e.executeLoadOfTransactions,1),"loading"}},{key:"executeLoadOfTransactions",value:function(t){var a=ze+"/transactions/ts";if(!t){var n=Object.keys(Re.cacheTLoad);n.length>40&&(n=n.slice(0,20));var o=!0,r=!1,i=void 0;try{for(var l,s=n[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value;delete Re.cacheTLoad[c]}}catch(f){r=!0,i=f}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}t=n}var u=t;if(t||(Re.cacheTLoad={}),0!==u.length){Re.disableTLoader=!0;var d={method:"GET",uri:a,qs:{ts:u.join("-")},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0};return je(d).then(function(t){if(t){var a=!0,n=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var l=r.value;Re.transactions[l.hash]=l,delete Re.pendingTLoad[l.hash]}}catch(f){n=!0,o=f}finally{try{a||null==i.return||i.return()}finally{if(n)throw o}}Re.disableTLoader=!1,We.emit("transactionsLoaded",Re,!1),Object.keys(Re.cacheTLoad).length&&setTimeout(e.executeLoadOfTransactions,1)}return!0}).catch(function(t){console.log("Fetch next transaction API call error:",t),setTimeout(function(){e.executeLoadOfTransactions(u)},100)})}}},{key:"generateAddressList",value:function(e,t,a,n,o){var r=ze+"/balances/all",i={index:e,sortField:t,direction:a},l=JSON.stringify(i);return Re.letPageAddressCache[l]?Re.letPageAddressCache[l]:Re.letPageAddressCachePending[l]?"loading":(Re.letPageAddressCachePending[l]=!0,je({method:"GET",uri:r,qs:{index:e,size:n,sort:a,field:t},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0}).then(function(e){if(e){var t=[],a=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;Re.address[c._id]=c,t.push(c._id)}}catch(u){n=!0,r=u}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}Re.letPageAddressCache[l]=t,o(null,Re.letPageAddressCache[l])}return delete Re.letPageAddressCachePending[l],!0}).catch(function(e){delete Re.letPageAddressCachePending[l],o(e,null)}),"loading")}},{key:"generateTransactionListFromTime",value:function(e,t,a,n,o,r){var i=ze+"/transactions/all",l={index:e,sortField:t,direction:a},s=JSON.stringify(l);return Re.letPageTransactionCache[s]?Re.letPageTransactionCache[s]:Re.letPageTransactionCachePending[s]?"loading":(Re.letPageTransactionCachePending[s]=!0,je({method:"GET",uri:i,qs:{index:e,size:n,sort:a,field:t,address:r},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0}).then(function(e){if(e){var t=[],a=!0,n=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value;Re.transactions[c.hash]=c,t.push(c.hash)}}catch(u){n=!0,r=u}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}Re.letPageTransactionCache[s]=t,o(null,Re.letPageTransactionCache[s])}return delete Re.letPageTransactionCachePending[s],!0}).catch(function(e){delete Re.letPageTransactionCachePending[s],o(e,null)}),"loading")}},{key:"generateBlockList",value:function(e,t,a,n,o){var r=ze+"/blocks/all",i={index:e,sortField:t,direction:a},l=JSON.stringify(i);return Re.letPageBlockCache[l]?Re.letPageBlockCache[l]:Re.letPageBlockCachePending[l]?"loading":(Re.letPageBlockCachePending[l]=!0,je({method:"GET",uri:r,qs:{index:e,size:n,sort:a,field:t},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0}).then(function(e){if(e){var t=[],a=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;c.parsed=JSON.parse(c.block),Re.blockCache[c.hash]=c,Re.blockCache[c.height]=c,t.push(c)}}catch(u){n=!0,r=u}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}Re.letPageBlockCache[l]=t,o(null,t)}return delete Re.letPageBlockCachePending[l],!0}).catch(function(e){delete Re.letPageBlockCachePending[l],o(e,null)}),"loading")}},{key:"getAddress",value:function(t){t=t.toLowerCase();var a=Re.address[t];if(a)return a.parsed||(a.balanceInfo=JSON.parse(a.balanceInfo),a.parsed=!0),a;if(Re.pendingALoad[t])return"loading";var n=0===Object.keys(Re.cacheALoad).length;return Re.pendingALoad[t]=!0,Re.cacheALoad[t]=!0,n&&!Re.disableALoader&&setTimeout(e.executeLoadOfAddresses,1),"loading"}},{key:"doSearch",value:function(){var t=Object(Ne.a)(Pe.a.mark(function t(a){var n,o,r,i,l;return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"GET",uri:ze+"/search/"+a,qs:{},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0},t.prev=2,t.next=5,je(n);case 5:if(!(o=t.sent)){t.next=11;break}return o.address?(r=o.address[0]._id,e.setMenuPath("Addresses"),g.push("/Addresses/".concat(r))):o.block?(i=o.block[0].hash,e.setMenuPath("Blocks"),g.push("/Blocks/".concat(i))):o.transaction&&(l=o.transaction[0].hash,e.setMenuPath("Transactions"),g.push("/Transactions/".concat(l))),t.abrupt("return",!0);case 11:return window.alert("no items found"),t.abrupt("return",!1);case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(2),window.alert("unable to talk to server"),t.abrupt("return",!1);case 19:case"end":return t.stop()}},t,this,[[2,15]])}));return function(e){return t.apply(this,arguments)}}()},{key:"executeLoadOfAddresses",value:function(t){var a=ze+"/balances/ts";if(!t){var n=Object.keys(Re.cacheALoad);n.length>20&&(n=n.slice(0,20));var o=!0,r=!1,i=void 0;try{for(var l,s=n[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value;delete Re.cacheALoad[c]}}catch(f){r=!0,i=f}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}t=n}var u=t;if(0!==u.length){Re.disableALoader=!0;var d={method:"GET",uri:a,qs:{ts:u.join("-")},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0};return je(d).then(function(t){if(t){var a=!0,n=!1,o=void 0;try{for(var r,i=t[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var l=r.value;Re.address[l._id]=l,delete Re.pendingALoad[l._id]}}catch(f){n=!0,o=f}finally{try{a||null==i.return||i.return()}finally{if(n)throw o}}Re.disableALoader=!1,We.emit("addressesLoaded",Re,!1),Object.keys(Re.cacheALoad).length&&setTimeout(e.executeLoadOfAddresses,1)}return!0}).catch(function(t){console.log("Fetch next addresses API call error:",t),setTimeout(function(){Re.disableALoader=!1,e.executeLoadOfAddresses(u)},1e3)})}}},{key:"generateAssetList",value:function(e,t,a,n,o){var r=ze+"/assets/all",i={index:e,sortField:t,direction:a},l=JSON.stringify(i);return Re.letPageAssetCache[l]?Re.letPageAssetCache[l]:Re.letPageAssetCachePending[l]?"loading":(Re.letPageAssetCachePending[l]=!0,je({method:"GET",uri:r,qs:{index:e,size:n,sort:a,field:t},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0}).then(function(e){if(e){var t=[],a=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;Re.asset[c.commandExtra]=c,t.push(c.commandExtra)}}catch(u){n=!0,r=u}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}Re.letPageAssetCache[l]=t,o(null,Re.letPageAssetCache[l])}return delete Re.letPageAssetCachePending[l],!0}).catch(function(e){delete Re.letPageAssetCachePending[l],o(e,null)}),"loading")}},{key:"getAsset",value:function(t){t=t.toLowerCase();var a=Re.asset[t];if(a)return a;if(Re.pendingAsLoad[t])return"loading";var n=0===Object.keys(Re.cacheAsLoad).length;return Re.pendingAsLoad[t]=!0,Re.cacheAsLoad[t]=!0,n&&!Re.disableAsLoader&&setTimeout(e.executeLoadOfAssets,1),"loading"}},{key:"executeLoadOfAssets",value:function(t){var a=ze+"/assets/ts",n=t||Object.keys(Re.cacheAsLoad);if(t||(Re.cacheAsLoad={}),0!==n.length){Re.disableAsLoader=!0;var o={method:"GET",uri:a,qs:{ts:n.join("-")},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0};return je(o).then(function(e){if(e){var t=!0,a=!1,n=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var i=o.value;Re.asset[i.commandExra]=i,delete Re.pendingAsLoad[i.commandExra]}}catch(l){a=!0,n=l}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}Re.disableAsLoader=!1,We.emit("assetsLoaded",Re,!1)}return!0}).catch(function(t){console.log("Fetch next addresses API call error:",t),setTimeout(function(){e.executeLoadOfAssets(n)},1e3)})}}},{key:"datablock",get:function(){return Re}}]),e}(),Ke=new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),He=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.a,{onPress:function(){e.props.onPress()}},r.a.createElement(h.a,{style:{width:48,marginRight:8,marginTop:8,height:36,borderRadius:3,borderWidth:1,borderColor:w.orderGrey,backgroundColor:this.props.active?w.textBlue:w.white}},r.a.createElement(y.a,{style:[Ue.bigButtonText,{color:this.props.active?w.white:w.textBlue}]},this.props.text)))}}]),t}(o.Component),Ye=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={stakeVal:5e3,ticketVal:4,cmd:"30d",PFSN_Amount:"-",FSN_Amount:"-",PFSN_Return:"-",FSN_Return:"-",Total_Amount:"-",Total_Return:"-",width:parseInt(Oe.a.get("window").width),ticketNumber:Ve.datablock.ticketNumber},a.calcDisplay=a.calcDisplay.bind(Object(Y.a)(Object(Y.a)(a))),a.calcTicketDisplay=a.calcTicketDisplay.bind(Object(Y.a)(Object(Y.a)(a))),a.ticketNumberChanged=a.ticketNumberChanged.bind(Object(Y.a)(Object(Y.a)(a))),a.updateDimensions=a.updateDimensions.bind(Object(Y.a)(Object(Y.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"calcTicketDisplay",value:function(e){var t=e;if(t=parseInt(t),isNaN(t)||t<=0||0===e.length){var a=Object.assign({},this.state);return a.stakeVal=0,a.ticketVal=e,a.PFSN_Amount="-",a.FSN_Amount="-",a.PFSN_Return="-",a.FSN_Return="-",a.Total_Amount="-",a.Total_Return="-",void this.setState(a)}this.calcDisplay(""+5e3*t)}},{key:"calcDisplay",value:function(e,t){var a=e||this.state.stakeVal,n=Object.assign({},this.state),o=t||this.state.cmd,r=parseInt(this.state.ticketNumber);if(a=parseInt(a),isNaN(a)||a<=0||isNaN(r)||!t&&(!e||0===e.length))return n.stakeVal=e,n.ticketVal=0,n.PFSN_Amount="-",n.FSN_Amount="-",n.PFSN_Return="-",n.FSN_Return="-",n.Total_Amount="-",n.Total_Return="-",n.cmd=o,void this.setState(n);e||(e=a);var i=30;switch(o){default:case"30d":i=30;break;case"60d":i=60;break;case"90d":i=90;break;case"180d":i=180;break;case"1y":i=365}var l=r,s=a,c=Math.floor(s/5e3),u=c/(l+c),d=i*u*14400,f=d/s,h=i*u*3600,m=h/s,g=d+h,y=g/s;n.PFSN_Amount=Ke.format(d),n.FSN_Amount=Ke.format(h),n.PFSN_Return=100*f,n.FSN_Return=100*m,n.Total_Amount=Ke.format(g),n.Total_Return=Ke.format(100*y),n.stakeVal=""+e,n.ticketVal=parseInt(c),n.cmd=o,this.setState(n)}},{key:"ticketNumberChanged",value:function(e){this.setState({ticketNumber:e}),this.calcDisplay(this.state.stakeVal)}},{key:"componentDidMount",value:function(){var e=this;this.intervalTimer=setInterval(function(){e.updateDimensions()},250),window.addEventListener("resize",this.updateDimensions),this.calcDisplay("1000"),this.mounted=!0,Ve.on("ticketNumber",this.ticketNumberChanged)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.updateDimensions),Ve.removeEventListener("ticketNumber",this.ticketNumberChanged),this.intervalTimer&&(clearInterval(this.intervalTimer),this.intervalTimer=void 0)}},{key:"updateDimensions",value:function(){var e=parseInt(Oe.a.get("window").width);e!==this.state.width&&this.setState({width:e})}},{key:"render",value:function(){var e=this,t=this.state.cmd;return this.state.width<640?(this.stacked=!0,this.widthToUse=this.state.width-64):(this.stacked=!1,this.widthToUse=585),r.a.createElement(h.a,{style:Ue.container},r.a.createElement(h.a,{style:Ue.innerContainer},r.a.createElement(h.a,{style:{width:320,height:280,backgroundColor:w.tagGrey,paddingTop:16,paddingBottom:16,paddingLeft:24,paddingRight:24,boxShadow:"0 6px 12px 0 rgba(0, 15, 33, 0.04)",overflow:"visible"}},r.a.createElement(h.a,{style:{backgroundColor:w.tagGrey}},r.a.createElement(h.a,{style:Ue.youStakeRowText},r.a.createElement(y.a,{style:Ue.youStakeText},"Active Tickets: "+this.state.ticketNumber," ")),r.a.createElement(h.a,{style:Ue.youStakeRowText},r.a.createElement(y.a,{style:Ue.youStakeText},"Your Stake")),r.a.createElement(h.a,{style:Ue.youStakeRow},r.a.createElement(h.a,null,r.a.createElement(h.a,{style:{width:125,borderRadius:3,backgroundColor:"white",borderWidth:1,height:36,flex:1,flexBasis:"auto",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderColor:w.orderGrey}},r.a.createElement(b.a,{style:[Ue.stakeQuantityInput],placeholder:"0",autoCorrect:!1,placeholderTextColor:w.orderGrey,maxLength:10,value:""+(this.state.stakeVal||""),onChangeText:function(t){e.calcDisplay(t)}}),r.a.createElement(y.a,{style:Ue.inputLabel},"FSN"))),r.a.createElement(y.a,{style:{marginTop:8,marginRight:8,marginLeft:8}},"="),r.a.createElement(h.a,null,r.a.createElement(h.a,{style:{width:125,borderRadius:3,backgroundColor:"white",borderWidth:1,height:36,flex:"1 0 0",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderColor:w.orderGrey,marginRight:16}},r.a.createElement(b.a,{style:[Ue.stakeQuantityInput],placeholder:"0",autoCorrect:!1,placeholderTextColor:w.orderGrey,maxLength:10,value:""+(this.state.ticketVal||""),onChangeText:function(t){e.calcTicketDisplay(t)}}),r.a.createElement(y.a,{style:Ue.inputLabel},"Tickets")))),r.a.createElement(h.a,{style:{marginTop:32}},r.a.createElement(y.a,{style:Ue.youStakeForText},"Staking Time"),r.a.createElement(h.a,{style:{height:8}}),r.a.createElement(h.a,{style:{flex:1,flexDirection:"row",justifyContent:"flex-start"}},r.a.createElement(He,{text:"30d",active:"30d"===t,onPress:function(){e.calcDisplay(void 0,"30d")}}),r.a.createElement(He,{text:"60d",active:"60d"===t,onPress:function(){e.calcDisplay(void 0,"60d")}}),r.a.createElement(He,{text:"90d",active:"90d"===t,onPress:function(){e.calcDisplay(void 0,"90d")}}),r.a.createElement(He,{text:"180d",active:"180d"===t,onPress:function(){e.calcDisplay(void 0,"180d")}}),r.a.createElement(He,{text:"1y",active:"1y"===t,onPress:function(){e.calcDisplay(void 0,"1y")}})),r.a.createElement(h.a,{style:{height:32}})))),r.a.createElement(h.a,{style:{width:320,height:280,backgroundColor:w.white,paddingTop:16,paddingBottom:16,paddingLeft:24,paddingRight:24,boxShadow:"0 6px 12px 0 rgba(0, 15, 33, 0.04)",overflow:"visible"}},r.a.createElement(h.a,{style:{backgroundColor:"white"}},r.a.createElement(y.a,{style:[Ue.youReceiveText,{marginTop:this.stacked?24:0}]},"Your Estimated Return"),r.a.createElement(h.a,{style:{height:16}}),r.a.createElement(h.a,{style:Ue.simpleRow},r.a.createElement(y.a,{style:Ue.calcAmountText},this.state.PFSN_Amount),r.a.createElement(y.a,{style:Ue.smallLabelText},"FSN"),r.a.createElement(h.a,{style:{width:32}}),r.a.createElement(y.a,{style:Ue.calcReturnText},L.formatPercent(this.state.PFSN_Return)),r.a.createElement(y.a,{style:Ue.smallLabelText},"ROR")),r.a.createElement(h.a,{style:{height:48}})))))}}]),t}(o.Component);Ue=x.a.create({container:{flex:1,flexGrow:0,flexShrink:0,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:w.white},innerContainer:{flex:1,flexGrow:0,flexShrink:0,flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",backgroundColor:w.white,flexWrap:"wrap",marginTop:32},youStakeRowText:{flex:1,flexDirection:"row",justifyContent:"flex-start",marginBottom:16},youStakeText:{fontFamily:T.fontFamily,fontSize:18,color:w.textBlue,width:240,fontWeight:T.regularFont},titleText:{fontFamily:T.fontFamily,fontSize:22,color:w.textBlue,width:240,fontWeight:T.mediumFont},youStakeForText:{fontFamily:T.fontFamily,fontSize:13,color:w.texBlue,fontWeight:T.regularFont},youReceiveText:{fontFamily:T.fontFamily,fontSize:18,color:w.textBlue,fontWeight:T.regularFont},smallLabelText:{fontFamily:T.fontFamily,fontSize:12,color:w.textBlue,fontWeight:T.mediumFont,paddingTop:9},simpleRow:{marginTop:16,flexDirection:"row",flex:1,justifyContent:"flex-start"},plusText:{fontFamily:T.fontFamily,fontSize:24,color:w.textBlue,fontWeight:T.boldFont},calcLabelText:{fontFamily:T.fontFamily,fontSize:24,color:w.textBlue,fontWeight:T.mediumFont,width:100},calcAmountText:{fontFamily:T.fontFamily,fontSize:22,color:w.textBlue,fontWeight:T.mediumFont,marginRight:4,textAlign:"left"},calcReturnText:{fontFamily:T.fontFamily,fontSize:14,color:w.textBlue,fontWeight:T.mediumFont,marginRight:4,textAlign:"left",paddingTop:7},youStakeRow:{flex:1,flexDirection:"row",justifyContent:"flex-start"},stakeQuantityInput:{width:80,fontSize:14,fontStyle:T.mediumFont,fontFamily:T.fontFamily,color:w.textBlue,height:36,textAlign:"left",paddingRight:4,paddingLeft:8,outline:"none"},inputLabel:{marginTop:8,fontFamily:T.fontFamily,fontSize:12,color:w.textBlue,fontWeight:T.regularFont,width:45,height:20,paddingRight:4,textAlign:"right",whiteSpace:"nowrap"},sectionTitle:{fontSize:28,color:"rgba(22,22,22, .5)"},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},bigButtonText:{fontFamily:T.fontFamily,fontSize:14,fontWeight:T.regularFont,color:w.textBlue,textAlign:"center",paddingTop:10},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"}});var Qe,qe=a(642),Je=a(640),Xe=a(136),Ze=L.getServer(),$e=a(622),et=a(623),tt=a(624),at=new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),nt=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.a,{onPress:function(){e.props.onPress()}},r.a.createElement(h.a,{style:{width:110,marginLeft:4,marginRight:4,height:36,overflow:"visible",borderRadius:3,boxShadow:"0 6px 12px 0 rgba(189, 196, 206, 0.2)",backgroundColor:this.props.active?w.primaryBlue:w.white}},r.a.createElement(y.a,{style:[Qe.bigButtonText,{color:this.props.active?w.white:w.textBlue}]},this.props.text)))}}]),t}(o.Component),ot=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={loading:!0,thisMonth:[],lastMonth:[],lastYear:[],cmd:"Year To Date",width:parseInt(Oe.a.get("window").width)},a.updateDimensions=a.updateDimensions.bind(Object(Y.a)(Object(Y.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.error,o=t.cmd;return this.state.width<640?(this.stacked=!0,this.widthToUse=parseInt(Oe.a.get("window").width)-64):(this.stacked=!1,this.widthToUse=585),a?r.a.createElement(h.a,{style:{flex:1,flexDirection:"row",marginTop:32,marginLeft:32}},r.a.createElement(he.a,{size:"small",color:w.primaryBlue}),r.a.createElement(y.a,{style:[Qe.titleText,{marginTop:12,marginLeft:16}]},"Loading...")):n?r.a.createElement(h.a,null,r.a.createElement(y.a,{style:Qe.titleText},n)):r.a.createElement(h.a,{style:Qe.container},r.a.createElement(h.a,{style:Qe.subContainer},r.a.createElement(y.a,{style:Qe.titleText},"Staking Leaderboard"),r.a.createElement(h.a,{style:{flex:1,flexDirection:"row",marginBottom:16}},r.a.createElement(nt,{text:"Current Month",active:"Current Month"===o,onPress:function(){e.setState({cmd:"Current Month"})}}),r.a.createElement(nt,{text:"Prior Month",active:"Prior Month"===o,onPress:function(){e.setState({cmd:"Prior Month"})}}),r.a.createElement(nt,{text:"Year To Date",active:"Year To Date"===o,onPress:function(){e.setState({cmd:"Year To Date"})}})),this.renderTop3(),r.a.createElement(h.a,{style:{height:20}}),r.a.createElement(h.a,{style:{boxShadow:"0 6px 12px 0 rgba(189, 196, 206, 0.2)",overflow:"visible",paddingTop:0,paddingRight:this.stacked?16:32,paddingLeft:this.stacked?16:32,paddingBottom:32,borderWidth:1,borderColor:w.tagGrey}},this.renderTitle(),this.renderTable())))}},{key:"renderTitle",value:function(){if(!this.stacked)return r.a.createElement(h.a,{style:{flex:1,flexDirection:"row",justifyContent:"flex-start",marginTop:16,marginBottom:4}},r.a.createElement(y.a,{style:[Qe.headerText,{width:32}]},"#"),r.a.createElement(y.a,{style:[Qe.headerText,{width:372,marginRight:4}]},"Address"),r.a.createElement(y.a,{style:[Qe.headerText,{textAlign:"right",width:90,marginRight:4}]},"P-FSN"),r.a.createElement(y.a,{style:[Qe.headerText,{textAlign:"right",width:90,marginRight:4}]},"FSN Earned"))}},{key:"renderTop3",value:function(){var e,t=this,a=[];switch(this.state.cmd){case"Prior Month":e=this.state.lastMonth;break;case"Current Month":e=this.state.thisMonth;break;default:e=this.state.lastYear}for(var n=[e[1],e[0],e[2]],o=[134,146,134],i=[12,0,12],l=[tt,et,$e],s=[52,64,40],c=[64,52,40],u=[et,tt,$e],d=function(d){var f=t.stacked?e[d]:n[d],m=void 0,g=void 0;f&&f.miner?(m=f["count(miner)"],g=f.miner.toLowerCase()):f={count:m=0,miner:g="0x000000000000000000000"},t.stacked?a.push(r.a.createElement(h.a,{key:"sep1"+d,style:{width:t.widthToUse+32,height:104,paddingRight:0,paddingLeft:0,flexDirection:"row",boxShadow:"0 6px 12px 0 rgba(189, 196, 206, 0.2)",overflow:"visible",borderWidth:1,borderColor:w.tagGrey,marginBottom:2===d?8:12}},r.a.createElement(h.a,{style:{height:104,width:96,justifyContent:"center",alignItems:"center"}},r.a.createElement(k.a,{source:u[d],resizeMode:"contain",style:{width:c[d],height:c[d]}})),r.a.createElement(h.a,{key:"sep1b"+d,style:{width:t.widthToUse-96,height:104,justifyContent:"center",alignItems:"flex-start",marginTop:28}},r.a.createElement(p.a,{onPress:function(){window.open("https://blocks.fusionnetwork.io/Addresses/"+g)}},r.a.createElement(y.a,{style:[Qe.rowText,{color:w.linkBlue,marginBottom:4}]},L.midHashDisplay(g))),r.a.createElement(h.a,{style:{flex:1,flexDirection:"row"}},r.a.createElement(y.a,{style:[Qe.top3Number]},t.pfsnEarned(m),r.a.createElement(y.a,{style:[Qe.top3Text]},"PFSN")),r.a.createElement(y.a,{style:[Qe.top3Number]},t.fsnEarned(m),r.a.createElement(y.a,{style:[Qe.top3Text]},"FSN")))))):a.push(r.a.createElement(h.a,{key:"sep1"+d,style:{width:190,height:200,flex:1,justifyContent:"flex-start",alignItems:"center",overflow:"visible",marginRight:1===d?30:0,marginLeft:1===d?30:0}},r.a.createElement(h.a,{style:{zIndex:1,height:32+i[d],flex:1,justifyContent:"flex-end",alignItems:"center",position:"relative",top:s[d]/2}},r.a.createElement(k.a,{source:l[d],resizeMode:"contain",style:{width:s[d],height:s[d]}})),r.a.createElement(h.a,{key:"sep1"+f.miner,style:{width:190,height:o[d],justifyContent:"center",borderWidth:1,borderColor:w.tagGrey,alignItems:"center",boxShadow:"0 6px 12px 0 rgba(189, 196, 206, 0.2)",overflow:"visible",alignSelf:"flex-end",marginTop:8}},r.a.createElement(p.a,{onPress:function(){window.open("https://blocks.fusionnetwork.io/Addresses/"+g)}},r.a.createElement(y.a,{style:[Qe.rowText,{color:w.linkBlue,marginBottom:4}]},L.midHashDisplay(g))),r.a.createElement(y.a,{style:[Qe.top3Number]},t.pfsnEarned(m),r.a.createElement(y.a,{style:[Qe.top3Text]},"PFSN")),r.a.createElement(y.a,{style:[Qe.top3Number]},t.fsnEarned(m),r.a.createElement(y.a,{style:[Qe.top3Text]},"FSN")))))},f=0;f<3;f++)d(f);return r.a.createElement(h.a,{key:"top3",style:{flex:1,flexDirection:this.stacked?"column":"row"}},a)}},{key:"renderTable",value:function(){var e,t=this,a=[];switch(this.state.cmd){case"Prior Month":e=this.state.lastMonth;break;case"Current Month":e=this.state.thisMonth;break;default:e=this.state.lastYear}var n=1,o=!0,i=!1,l=void 0;try{for(var s,c=function(){var e=s.value;if(n<4)return n++,"continue";var o=void 0,i=void 0;e&&e.miner?(o=e["count(miner)"],i=e.miner.toLowerCase()):e={count:o=0,miner:i="0x000000000000000000000"},!t.stacked|n>4?a.push(r.a.createElement(h.a,{key:"sep"+n,style:{marginTop:8,marginBottom:8,width:t.widthToUse,height:1,backgroundColor:"#bdc4ce"}})):a.push(r.a.createElement(h.a,{key:"sep1"+n,style:{marginTop:8,marginBottom:8,width:t.widthToUse,height:1}})),a.push(r.a.createElement(h.a,{key:"se11m"+n,style:{flex:1,flexDirection:t.stacked?"column":"row",justifyContent:"flex-start",marginBottom:4}},r.a.createElement(h.a,{style:{flex:1,flexDirection:"row"}},r.a.createElement(y.a,{style:[Qe.headerText,{width:32}]},n),r.a.createElement(p.a,{onPress:function(){window.open("https://blocks.fusionnetwork.io/Addresses/"+i)}},r.a.createElement(y.a,{style:[Qe.rowText,{color:w.linkBlue,width:340,marginRight:4}]},i))),r.a.createElement(y.a,{style:[Qe.rowText,{textAlign:t.stacked?"left":"right",width:t.stacked?300:90,marginRight:4,marginLeft:t.stacked?32:0}]},t.pfsnEarned(o),t.stacked&&r.a.createElement(y.a,{style:[Qe.headerText,{textAlign:"left"}]},"P-FSN")),r.a.createElement(y.a,{style:[Qe.rowText,{textAlign:t.stacked?"left":"right",width:t.stacked?300:90,marginRight:4,marginLeft:t.stacked?32:0}]},t.fsnEarned(o),t.stacked&&r.a.createElement(y.a,{style:[Qe.headerText,{textAlign:"left"}]},"FSN Earned")))),n++},u=e[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c()}catch(d){i=!0,l=d}finally{try{o||null==u.return||u.return()}finally{if(i)throw l}}return a}},{key:"pfsnEarned",value:function(e){return at.format(2.5*e)}},{key:"fsnEarned",value:function(e){return at.format(.625*e)}},{key:"componentDidMount",value:function(){var e=this;this.intervalTimer=setInterval(function(){e.updateDimensions()},250),window.addEventListener("resize",this.updateDimensions),this.mounted=!0,Xe({method:"GET",uri:Ze+"/leaderboard",qs:{},headers:{"X-Content-Type-Options":"nosniff"},json:!0,gzip:!0}).then(function(t){t&&e.mounted&&e.setState({loading:!1,lastMonth:t.lastMonth,lastYear:t.lastYear,thisMonth:t.thisMonth})}).catch(function(t){console.log("API call error:",t.message),e.setState({error:"Unable to load, please refresh the page",loading:!1})})}},{key:"updateDimensions",value:function(){var e=parseInt(Oe.a.get("window").width);e!==this.state.width&&this.setState({width:e})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.updateDimensions),this.intervalTimer&&(clearInterval(this.intervalTimer),this.intervalTimer=void 0)}}]),t}(o.Component);Qe=x.a.create({container:{flex:1,flexGrow:0,flexShrink:0,flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:w.white,padding:32,height:"100%",width:"100%"},subContainer:{flex:1,flexGrow:0,flexShrink:0,flexDirection:"column",justifyContent:"flex-start",alignItems:"center",backgroundColor:w.white},titleText:{fontFamily:T.fontFamily,fontSize:32,color:w.textBlue,fontWeight:T.boldFont,marginBottom:16},headerText:{fontFamily:T.fontFamily,fontSize:13,color:w.labelGrey,fontWeight:T.mediumFont,backgroundColor:w.white,padding:4},rowText:{fontFamily:T.fontFamily,fontSize:14,color:w.labelGrey,fontWeight:T.mediumFont,backgroundColor:w.white,padding:4},top3Number:{fontFamily:T.fontFamily,fontSize:16,color:w.darkBlue,fontWeight:T.boldFont,padding:4},top3Text:{fontFamily:T.fontFamily,fontSize:12,color:w.darkBlue,fontWeight:T.mediumFont,padding:4},youStakeRowText:{flex:1,flexDirection:"row",justifyContent:"flex-start",marginBottom:16},youStakeText:{fontFamily:T.fontFamily,fontSize:20,color:w.white,width:240,fontWeight:T.mediumFont},youStakeForText:{fontFamily:T.fontFamily,fontSize:20,color:w.white,fontWeight:T.mediumFont},youReceiveText:{fontFamily:T.fontFamily,fontSize:18,color:w.white,fontWeight:T.mediumFont},smallLabelText:{fontFamily:T.fontFamily,fontSize:12,color:w.white,fontWeight:T.mediumFont},simpleRow:{marginTop:16,flexDirection:"row",flex:1,justifyContent:"flex-start"},plusText:{fontFamily:T.fontFamily,fontSize:24,color:w.white,fontWeight:T.boldFont},calcLabelText:{fontFamily:T.fontFamily,fontSize:24,color:w.white,fontWeight:T.mediumFont,width:200},calcAmountText:{fontFamily:T.fontFamily,fontSize:24,color:w.white,fontWeight:T.mediumFont,width:200},calcReturnText:{fontFamily:T.fontFamily,fontSize:24,color:w.white,fontWeight:T.mediumFont},youStakeRow:{flex:1,flexDirection:"row",justifyContent:"flex-start"},stakeQuantityInput:{width:200,borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,fontSize:18,fontFamily:T.mediumFont,color:w.labelGrey,height:48,textAlign:"right",paddingRight:4,paddingLeft:4,outline:"none",alignSelf:"flex-start"},sectionTitle:{fontSize:28,color:"rgba(22,22,22, .5)"},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},bigButtonText:{fontFamily:T.fontFamily,fontSize:14,fontWeight:T.regularFont,color:w.textBlue,textAlign:"center",padding:8},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"}});var rt=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return window.location.href.toLowerCase().indexOf("staking")>0?r.a.createElement(Ye,null):window.location.href.toLowerCase().indexOf("leaderboard")>0?r.a.createElement(ot,null):r.a.createElement(h.a,null,r.a.createElement(xe,{title:"Auto Buy Stake",titleWidth:150,version:"2.00.00",nodeSelect:!0}),r.a.createElement(qe.a,{history:g},r.a.createElement("div",null,r.a.createElement(Je.a,{exact:!0,path:"/",component:K}),r.a.createElement(Je.a,{path:"/Status",component:fe})," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(Je.a,{path:"/UnlockAccount",component:K}),r.a.createElement(Je.a,{path:"/PurchaseTicket",component:ne}),r.a.createElement(Je.a,{path:"/Block/:blockNumber",component:re}),r.a.createElement(Je.a,{path:"/Staking",component:Ye}))),r.a.createElement(Le,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(rt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[266,2,1]]]);
//# sourceMappingURL=main.bc0770cd.chunk.js.map