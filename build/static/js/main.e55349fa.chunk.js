(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e,t,a){e.exports=a(482)},232:function(e,t,a){},271:function(e,t){},273:function(e,t){},300:function(e,t){},345:function(e,t){},422:function(e,t,a){e.exports=a.p+"static/media/radioOn.0ef10e99.svg"},423:function(e,t,a){e.exports=a.p+"static/media/radioOff.53ea8205.svg"},435:function(e,t,a){e.exports=a.p+"static/media/checkboxOn.70a8f228.svg"},436:function(e,t,a){e.exports=a.p+"static/media/check_off.f24d3320.svg"},47:function(e,t,a){},478:function(e,t,a){e.exports=a.p+"static/media/lineGraph.c0fc5779.svg"},479:function(e,t,a){e.exports=a.p+"static/media/times.a3c0a79b.svg"},480:function(e,t,a){e.exports=a.p+"static/media/explorer-logo.516c3873.svg"},482:function(e,t,a){"use strict";a.r(t);var n,r=a(1),o=a.n(r),i=a(29),l=a.n(i),s=(a(232),a(5)),c=a(6),u=a(18),d=a(19),f=a(20),m=a(98),h=(a(47),a(207)),y=a.n(h)()(),g=a(490),k=a(493),b=a(494),p=a(497),x=a(16),w=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"textBlue",get:function(){return"#062144"}},{key:"primaryBlue",get:function(){return"#2a65b0"}},{key:"backgroundGrey",get:function(){return"#f5f7fa"}},{key:"white",get:function(){return"#ffffff"}},{key:"grey",get:function(){return"#e4e9f0"}},{key:"disabledBlue",get:function(){return"#94b2d7"}},{key:"disabledGrey",get:function(){return"#a6a9ad"}},{key:"coolGrey",get:function(){return"#a6a9ad"}},{key:"orderGrey",get:function(){return"#bec5cf"}},{key:"linkBlue",get:function(){return"#2b99ff"}},{key:"textGreen",get:function(){return"#5fa11a"}},{key:"successGreen",get:function(){return"#7ed321"}},{key:"lightSuccessGreen",get:function(){return"#e5f6d3"}},{key:"errorRed",get:function(){return"#d0021b"}},{key:"labelGrey",get:function(){return"#6a6f75"}},{key:"tagGrey",get:function(){return"#e4e9f0"}},{key:"textGrey",get:function(){return"#4a4a4a"}},{key:"sexyPurple",get:function(){return"#462ab0;"}},{key:"tagPurple",get:function(){return"#dad4ef"}}]),e}(),E=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"boldFont",get:function(){return"700"}},{key:"mediumFont",get:function(){return"500"}},{key:"regularFont",get:function(){return"400"}},{key:"fontFamily",get:function(){return"Roboto, san-serif"}}]),e}(),T=a(60),B=a.n(T),S=a(81),F=a.n(S),v=a(73),C=a.n(v),D=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"displayNumber2",value:function(e){var t=e;if(e>=1e3){for(var a=Math.floor((""+e).length/3),n="",r=2;r>=1;r--){if(((n=parseFloat((0!==a?e/Math.pow(1e3,a):e).toPrecision(r)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}n%1!==0&&(n=n.toFixed(2)),t=n+["","K","M","B","T"][a]}return t}},{key:"insert",value:function(e,t,a){return e.substr(0,t)+a+e.substr(t)}},{key:"formatWei",value:function(t){"object"===typeof t&&(t=t.toString());var a=t.length;return a<18&&(t="0".repeat(18-a)+t,a=18),t=18===a?"."+t:e.insert(t,t.length-18,"."),"."===(t=e.removeZeros(t,!0,!0,!0)).charAt(0)?"0"+t:0===t.length?0:t}},{key:"removeZeros",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r="",o="";return r=e,o=a?r.replace(/^[0]+/,""):r,t&&o.indexOf(".")>-1&&(o=o.replace(/[0]+$/,"")),n&&(o=o.replace(/[.]$/,"")),o}},{key:"displayNumber",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=" K M G T P E Z Y".split(" ");if(t<0)return"-"+e.displayNumber(Math.abs(t));if(t<1)return t+r[0];var o=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),r.length-1),i=""+(t/Math.pow(1e3,o)).toFixed(a);return n&&(i=e.removeZeros(i)),i+r[o]}},{key:"displayPercent",value:function(e){return(e*=100).toFixed(2)}},{key:"midHashDisplay",value:function(e){return e.substr(0,9)+"..."+e.substr(e.length-10,9)}},{key:"toAscii",value:function(e){var t="",a=0,n=e.length;for("0x"===e.substring(0,2)&&(a=2);a<n;a+=2){var r=parseInt(e.substr(a,2),16);t+=String.fromCharCode(r)}return t}}]),e}(),L=a(419),N=function(){function e(){Object(s.a)(this,e),this.eventEmitter=new C.a,this._web3=null,this.provider=null,this.connectedOnce=!1,this.lastNodeAddress="",this.attempForMonitor=0,this.lastBlock={},this._walletAddress="",this.setupMonitor=this.setupMonitor.bind(this),this.monitoringBlocks={}}return Object(c.a)(e,[{key:"setDataStore",value:function(e){n=e}},{key:"setNodeAddress",value:function(e){var t,a=this;if(console.log("Attempting connect"),this.connectedOnce&&e!==this.lastNodeAddress&&(this.connectedOnce=!1),this.lastNodeAddress=e,this.nextMonitorCall&&(clearTimeout(this.nextMonitorCall),this.nextMonitorCall=null),this.subscriptionFSNCallAddress&&(this.subscriptionFSNCallAddress.unsubscribe(function(e){}),this.subscriptionFSNCallAddress=null),0===e.indexOf("ws")){try{this.provider=new F.a.providers.WebsocketProvider(e)}catch(o){return void setTimeout(function(){a.emit("connectstatus",["error"],o)},1)}t=!1,this.provider.on("connect",function(){console.log("blockchain connected"),a.connectedOnce=!0,a.emit("connectstatus",["connected"],null),a.mustGetOneBalance=!0,a.setupMonitor()})}else this.provider=new F.a.providers.HttpProvider(e),t=!0;if(this._web3)this._web3.setProvider(this.provider);else{var n=new F.a(this.provider),r=L.extend(n);this._web3=r}t?this._web3.eth.getBlockNumber().then(function(e){a.emit("connectstatus",["connected",e],null),a.setupMonitor()}).catch(function(e){console.log("error web3api connect ",e),a.emit("connectstatus",["error"],e)}):(this.provider.on("error",function(e){console.error("Blockchain WS Error",e),a.emit("connectstatus",["error"],e)}),this.provider.on("end",function(t){a._web3=null,console.log("Blockchain disconnected will try to reconnect in 15 seconds"),setTimeout(function(){a.emit("connectstatus",["disconnected"],null),!0===a.connectedOnce&&a.setNodeAddress(e)},1)}))}},{key:"getBlock",value:function(e,t,a){var n=this,r=this.monitoringBlocks[t],o=!!r&&Object.keys(r).length>1;e?this.on("block"+t,a):this.removeEventListener("block"+t,a),o?a(r):(this.monitoringBlocks[r]={getting:!0},this._web3.eth.getBlock(t).then(function(e){n.monitoringBlocks[t]=e,n.emit("block"+t,e)}).catch(function(e){n.monitoringBlocks[t]={error:!0,errObject:e},n.emit("block"+t,n.monitoringBlocks[t])}))}},{key:"startFilterEngine",value:function(){}},{key:"setupMonitor",value:function(){var e=this;this.subscriptionFSNCallAddress||this.startFilterEngine();var t=this._walletAddress;this.attempForMonitor+=1;var a=this.attempForMonitor;console.log("checking connection "),this._web3.eth.getBlock("latest").then(function(a){if(e.emit("connectstatus",["stillgood"],!1),e.lastBlock.number!==a.number||e.mustGetOneBalance)return e.mustGetOneBalance=!1,e.lastBlock=a,console.log(a),e.emit("latestBlock",a),!t||t!==e._walletAddress||e._web3.fsn.getAllBalances(t).then(function(e){return console.log("all balances",e),e}).then(function(a){return e._web3.fsn.allTicketsByAddress(t).then(function(e){return console.log("all tickets",e),{allBalances:a,allTickets:e}})}).then(function(t){return e._web3.fsn.ticketPrice().then(function(e){return Object.assign(t,{ticketPrice:e})})}).then(function(t){return e._web3.eth.getGasPrice().then(function(e){return Object.assign(t,{gasPrice:e})})}).then(function(t){return e._web3.fsn.totalNumberOfTickets().then(function(e){return Object.assign(t,{totalTickets:e,latestBlock:a})})}).then(function(t){e.emit("balanceInfo",t,!1)})}).then(function(t){setTimeout(function(){e.setupMonitor()},5e3)}).catch(function(t){console.log("monitor error ",t),e.attempForMonitor===a&&(e.emit("connectstatus",["error"],t),setTimeout(function(){e.setupMonitor()},7e3))})}},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:"emit",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.eventEmitter.emit(e,t,a)}},{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"stopTicketPurchase",value:function(){n.data.ticketPurchasing.activeTicketPurchase=!1,this.lastTicketCheckTimer&&(clearTimeout(this.lastTicketCheckTimer),n.data.lastStatus="Completed",n.data.lastCall="purchaseCompleted",this.emit("purchaseCompleted",n))}},{key:"buyTickets",value:function(e){var t,a=this;n.data.ticketPurchasing=e,e.purchaseStarted=!0,e.activeTicketPurchase=!0,e.ticketsPurchased=0,e.startBlock=this.lastBlock.number,e.lastStatus="",this.lastTicketCheckTimer&&(clearTimeout(this.lastTicketCheckTimer),this.lastTicketCheckTimer=null);var r=function(){a.lastTicketCheckTimer=null,e.startBlock<a.lastBlock.number?a.purchaseOneTicket(e,t):(e.lastStatus="Wait for new block...",e.lastCall="purchaseWaitForNewBlock",a.emit("purchaseWaitForNewBlock",e),a.lastTicketCheckTimer=setTimeout(r,1e3))};r=r.bind(this),t=(t=function(t,n){t||(e.ticketsPurchased+=1),e.lastStatus=n,e.activeTicketPurchase&&e.ticketsPurchased<e.ticketQuantity?(t||(e.lastStatus="Purchase next ticket"),e.lastCall="purchaseAgain",a.emit("purchaseAgain",e),a.lastTicketCheckTimer=setTimeout(r,1e3)):(e.lastStatus="Completed",e.activeTicketPurchase=!1,e.lastCall="purchaseCompleted",a.emit("purchaseCompleted",e))}).bind(this),this.purchaseOneTicket(e,t),e.lastCall="purchaseStarted",this.emit("purchaseStarted",e)}},{key:"purchaseOneTicket",value:function(e,t){var a=this;this._web3.fsntx.buildBuyTicketTx({from:this._walletAddress}).then(function(e){return a._web3.fsn.signAndTransmit(e,n.data.signInfo.signTransaction)}).then(function(n){return e.activeTicketPurchase?(e.lastStatus="Pending Tx:"+D.midHashDisplay(n),e.lastCall="purchaseSubmitTicket",a.emit("purchaseSubmitTicket",e),a.waitForTransactionToComplete(n,e).then(function(e){e.status?t(null,"Ticket bought"):t(new Error("failed to buy"),"Failed to buy ticket will retry")}).catch(function(e){t(e,"Error waiting for ticket to complete")})):(t(null,"asked to leave"),!0)}).catch(function(e){t(e,"unknown err")})}},{key:"waitForTransactionToComplete",value:function(e,t){var a=this;return this._web3.eth.getTransactionReceipt(e).then(function(n){if(!n){if(!t.activeTicketPurchase)throw Error("asked to stop purchasing");return a.waitForTransactionToComplete(e,t)}return n}).catch(function(e){throw e})}},{key:"walletAddress",set:function(e){e!==this._walletAddress&&(this._walletAddress=e,this.mustGetOneBalance=!0,n.data.ticketPurchasing={})},get:function(){return this._walletAddress}}],[{key:"web3",get:function(){return this._web3||(this._web3=new F.a),this._web3}}]),e}(),R=new N,W=N.web3.utils.BN,O={web3api:R,BN:W,latestBlock:{},accountUnlocked:!0,autoBuyOn:!1,balanceOfFSN:0,numberOfTicketsToPurchase:0,numberOfTickets:0,autoBuy:!1,autoReinvestReward:!1,totalTickets:0,rewardsToDate:new W("678"+"0".repeat(18)),lastUpdateTime:new Date,signInfo:{address:"0x4A5a7Aa4130e407d3708dE56db9000F059200C62"},gasPrice:new W("0"),ticketPrice:new W("200"+"0".repeat(18)),walletBalance:new W("0"),autoBuyStopTime:B()("20190214","YYYYMMDD"),lastTicketExpires:B()("20190101","YYYYMMDD")};console.log("WE",O.walletBalance.toString());var A=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"setBalanceInfo",value:function(e){console.log("balance info ",e),O.lastUpdateTime=new Date,e.ticketPrice&&(O.ticketPrice=new W(e.ticketPrice)),e.allBalances&&(O.walletBalance=new W(e.allBalances["0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"])),e.gasPrice&&(O.gasPrice=new W(e.gasPrice)),e.totalTickets&&(O.totalTickets=e.totalTickets),e.allTickets&&(O.numberOfTickets=Object.keys(e.allTickets).length,O.allTickets=e.allTickets),e.latestBlock&&(O.latestBlock=e.latestBlock)}},{key:"BN",get:function(){return W}},{key:"web3api",get:function(){return R}},{key:"data",get:function(){return O}}]),e}();R.setDataStore(A);var G,P,j,z=a(208),I=a.n(z),M=(a(92),A.web3api),_=a(422),V=a(423),K=I()("selectFiles")(function(e){var t,a=e.selectFiles;return j=a,"Wallet File Valid"===P&&(t=o.a.createElement("i",{key:"c11",className:"fa fa-check-circle",style:{color:w.successGreen,marginRight:4}})),o.a.createElement(g.a,{key:P,style:G.selectWalletFileText},t,P)}),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={accessViaPrivateKey:!1,secureEntry:!0,password:""},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.accessViaPrivateKey,a=G.unlockWalletButtonDisabled,n=!1;return t&&this.state.privateKeyOK?(a=G.unlockWalletButton,n=!0):!t&&this.state.keyData&&this.state.privateKeyOK&&(a=G.unlockWalletButton,n=!0),o.a.createElement(m.a,{style:G.container},o.a.createElement(m.a,{style:G.innerContainer},o.a.createElement(g.a,{style:G.title},"Access Your Wallet")),o.a.createElement(m.a,{style:G.accessBox},o.a.createElement(g.a,{style:G.textHowToAccess},"How would you like to access your wallet?"),o.a.createElement(m.a,{style:{flexDirection:"row"}},o.a.createElement(k.a,{onPress:function(){e.setState({unlockError:!1,keyData:null,privateKeyOK:!1,password:null,accessViaPrivateKey:!t})}},o.a.createElement(m.a,{style:{flexDirection:"row"}},o.a.createElement(b.a,{source:t?V:_,resizeMode:"contain",style:{width:14,height:14}}),o.a.createElement(g.a,{style:G.radioSelectionText},"Keystore / JSON File"))),o.a.createElement(k.a,{onPress:function(){e.setState({unlockError:!1,keyData:null,privateKeyOK:!1,password:null,accessViaPrivateKey:!t})}},o.a.createElement(m.a,{style:{flexDirection:"row"}},o.a.createElement(b.a,{source:t?_:V,resizeMode:"contain",style:{width:14,height:14}}),o.a.createElement(g.a,{style:G.radioSelectionText},"Private Key")))),o.a.createElement(m.a,{style:G.selectionBox},t?this.privateKeyRender():this.keyStoreRender()),o.a.createElement(k.a,{disabled:!n,onPress:function(){if(e.state.accessViaPrivateKey)A.data.accountUnlocked=!0,A.data.signInfo=M._web3.eth.accounts.privateKeyToAccount(e.state.password),M.walletAddress=A.data.signInfo.address;else try{var t=e.state.keyData,a=t.Crypto||t.crypto;A.data.accountUnlocked=!0,A.data.signInfo=M._web3.eth.accounts.decrypt({crypto:a,version:t.version},e.state.password),M.walletAddress=A.data.signInfo.address}catch(n){return void e.setState({unlockError:!0})}y.push("/Status")}},o.a.createElement(m.a,null,o.a.createElement(g.a,{style:a},"Unlock Wallet")))))}},{key:"keyStoreRender",value:function(){var e=this,t=w.white,a=this.state.unlockError?w.errorRed:w.orderGrey;return P=this.state.keyData?"Wallet File Valid":"Select a Wallet File...",o.a.createElement(m.a,{key:"accek"},o.a.createElement(g.a,{style:G.textHowToAccess},"Select your wallet file and enter your password. Please ensure that the above URL is correct before loading wallets or entering passwords."),o.a.createElement(k.a,{onPress:function(){j({multiple:!1}).then(function(t){if(console.log(t),1===t.length){var a=new FileReader;a.onload=function(t){var a=t.target.result;a||e.setState({error:"Unable to read file",keyData:null});try{var n=JSON.parse(a);console.log(n),n.address?e.setState({error:null,keyData:n}):e.setState({error:"Invalid key store file ",keyData:null})}catch(r){e.setState({error:"Unable to read file",keyData:null})}console.log(t.target.result)},a.onerror=function(t){e.setState({error:"Unable to read file",keyData:null})},a.readAsText(t[0])}})}},o.a.createElement(m.a,{style:[G.selectWalletBox,{backgroundColor:t}]},o.a.createElement(K,null))),this.state.error&&o.a.createElement(g.a,{style:G.errorText},this.state.error),o.a.createElement(g.a,{style:G.labelText},"Enter Your Password"),o.a.createElement(m.a,{style:[G.passwordInputBox,{borderColor:a}]},o.a.createElement(p.a,{style:G.passwordInput,placeholder:"Password",autoCorrect:!1,autoComplete:"current-password",secureTextEntry:this.state.secureEntry,placeholderTextColor:w.orderGrey,maxLength:128,value:this.state.password,onChangeText:function(t){e.setState({unlockError:!1,password:t,privateKeyOK:t&&t.length})}}),o.a.createElement(m.a,{style:{width:1,height:36,backgroundColor:w.orderGrey}}),o.a.createElement(k.a,{onPress:function(){e.setState({secureEntry:!e.state.secureEntry})}},o.a.createElement(m.a,{style:{backgroundColor:w.backgroundGrey,width:32,flex:1,justifyContent:"center",alignItems:"center"}},this.state.secureEntry?o.a.createElement("i",{className:"fa fa-eye"}):o.a.createElement("i",{className:"fa fa-eye-slash"})))),this.state.unlockError&&o.a.createElement(m.a,null,o.a.createElement(m.a,{style:{height:4,width:3}}),o.a.createElement(g.a,{style:G.errorText},"The password provided is invalid.")))}},{key:"privateKeyRender",value:function(){var e=this;return o.a.createElement(m.a,{key:"prik"},o.a.createElement(g.a,{style:G.textHowToAccess},"Enter your private keys. Please ensure that the above URL is correct before loading wallets or entering passwords."),o.a.createElement(m.a,{style:{height:8,width:1}}),o.a.createElement(g.a,{style:G.labelText},"Enter Your Private Key"),o.a.createElement(m.a,{style:G.passwordInputBox},o.a.createElement(p.a,{style:G.passwordInput,placeholder:"Private Key - starts with 0x",autoCorrect:!1,autoComplete:"current-password",secureTextEntry:this.state.secureEntry,placeholderTextColor:w.orderGrey,maxLength:66,value:this.state.password,onChangeText:function(t){t.length<66?e.setState({privateKeyOK:!1,password:t}):e.setState({privateKeyOK:M.web3.utils.isHexStrict(t),password:t})}}),o.a.createElement(m.a,{style:{width:1,height:36,backgroundColor:w.orderGrey}}),o.a.createElement(k.a,{onPress:function(){e.setState({secureEntry:!e.state.secureEntry})}},o.a.createElement(m.a,{style:{backgroundColor:w.backgroundGrey,width:32,flex:1,justifyContent:"center",alignItems:"center"}},this.state.secureEntry?o.a.createElement("i",{class:"fa fa-eye"}):o.a.createElement("i",{class:"fa fa-eye-slash"})))),o.a.createElement(m.a,{style:{height:32,width:1}}))}}]),t}(r.Component);G=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",width:"100%"},innerContainer:{width:620,flexGrow:1,flex:1,flexShrink:0,justifyContent:"center",alignItems:"flex-start"},title:{fontSize:24,fontFamily:E.fontFamily,fontWeight:E.boldFont,color:w.textBlue,marginTop:35,alignSelf:"flex-start",marginBottom:16},textHowToAccess:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.textBlue,alignSelf:"flex-start",marginBottom:16},radioSelectionText:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.textBlue,marginRight:16,marginLeft:8},accessBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,alignItems:"flex-start",width:620,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)",paddingTop:24,paddingBottom:24,paddingLeft:32,paddingRight:32},selectWalletBox:{borderColor:w.orderGrey,borderRadius:4,backgroundColor:"white",borderWidth:1,width:516,height:48,overflow:"visible",flex:1,flexBasis:"100%",justifyContent:"center",alignItems:"center",marginBottom:16},passwordInputBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",justifyContent:"flex-end",height:36,width:512,marginTop:4},passwordInput:{fontSize:13,color:w.textBlue,fontFamily:E.fontFamily,fontWeight:E.regularFont,width:482,paddingLeft:6},selectionBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:w.backgroundGrey,borderWidth:1,width:556,alignItems:"flex-start",paddingTop:16,paddingBottom:16,paddingLeft:20,paddingRight:20,marginTop:20},labelText:{fontSize:12,color:w.labelGrey,fontFamily:E.fontFamily,fontWeight:E.regularFont},selectWalletFileText:{fontSize:16,color:w.textBlue,fontFamily:E.fontFamily,fontWeight:E.mediumFont,textAlign:"center"},errorText:{fontSize:12,color:w.errorRed,fontFamily:E.fontFamily,fontWeight:E.regularFont,marginBottom:8},unlockWalletButtonDisabled:{fontSize:16,width:556,borderRadius:3,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.white,backgroundColor:w.disabledBlue,textAlign:"center",padding:12,marginTop:20},unlockWalletButton:{fontSize:16,width:556,borderRadius:3,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.white,backgroundColor:w.linkBlue,textAlign:"center",padding:12,marginTop:20}});var H,Q=a(17),Y=a(491),Z=a(435),q=a(436),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={textWidth:a.props.textWidth||620},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(m.a,{style:[H.container,{width:this.state.textWidth,opacity:this.props.disabled?.4:1}]},o.a.createElement(m.a,{style:H.containerInner},o.a.createElement(k.a,{disabled:this.props.disabled,onPress:function(){e.props.onPress(!e.props.on)}},o.a.createElement(b.a,{source:this.props.on?Z:q,style:H.checkOn})),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:H.questionText},this.props.text),this.props.subText&&o.a.createElement(g.a,{style:[H.questionSubText,{width:this.state.textWidth}]},this.props.subText),this.props.children)))}}]),t}(r.Component);H=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginTop:10},containerInner:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent"},checkOn:{marginRight:15,width:20,height:20},questionText:{fontSize:14,color:w.textBlue,fontFamily:E.fontFamily,fontWeight:E.mediumFont,marginBottom:6},questionSubText:{fontSize:14,color:w.labelGrey,fontFamily:E.fontFamily,fontWeight:E.mediumFont,marginBottom:16}});var $,X=a(226),ee=(a(476),A.data.BN),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this))).state={ticketQuantity:void 0,daysQuantity:"30",totalCost:0,daysError:!1,totalCostString:"0",autoBuyTickets:!1,reinvestReward:!1,autoBuyStopDate:!1,totalPrice:new ee(0),error:!1,repaintKey:0,date:new Date((new Date).getTime()+864e5)},a.onChangeDate=a.onChangeDate.bind(Object(Q.a)(Object(Q.a)(a))),a.balanceListener=a.balanceListener.bind(Object(Q.a)(Object(Q.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"totalStake",value:function(e){return e.numberOfTickets*e.ticketPrice}},{key:"balanceListener",value:function(e){A.setBalanceInfo(e),this.calcDisplay(A.data,this.state.ticketQuantity),this.setState({repaintKey:this.state.repaintKey+1})}},{key:"componentDidMount",value:function(){A.web3api.on("balanceInfo",this.balanceListener)}},{key:"componentWillUnmount",value:function(){A.web3api.removeEventListener("balanceInfo",this.balanceListener)}},{key:"render",value:function(){var e,t,a=this,n=A.data,r=$.purchaseTicketButtonDisabled,i=!1,l="Purchase Tickets";n.accountUnlocked&&(n.web3api.walletAddress=n.signInfo.address),this.state.ticketQuantity>0&&(r=$.purchaseTicketButton,i=!0,l=1===this.state.ticketQuantity?"Purchase 1 Ticket":"Purchase ".concat(this.state.ticketQuantity," Tickets")),this.state.error?(i=!1,r=$.purchaseTicketButtonDisabled,e=w.errorRed):e=w.textBlue,this.state.daysError?(i=!1,r=$.purchaseTicketButtonDisabled,t=w.errorRed):t=w.textBlue;var s=n.totalTickets>0?D.displayPercent(n.numberOfTickets/n.totalTickets):"0.00";if("0.00"===s&&n.numberOfTickets>0&&(s="< 0.01"),!n.accountUnlocked)return o.a.createElement(m.a,{style:{padding:15}},o.a.createElement(g.a,{style:$.Auto_Buy_Stake_Monit},"You Account Must be unlocked to use this screen."),o.a.createElement(k.a,{style:{width:100},onPress:function(){y.push("/UnlockAccount")}},o.a.createElement(g.a,{style:$.activeButton},"Select An Account")));var c=this.state.error?w.errorRed:w.orderGrey;return o.a.createElement(m.a,{style:{marginLeft:30,backgroundColor:w.backgroundGrey}},o.a.createElement(m.a,{style:$.container},o.a.createElement(g.a,{style:$.Auto_Buy_Stake_Monit},"Purchase Staking Tickets"),o.a.createElement(m.a,{style:$.walletBox},o.a.createElement(g.a,{style:$.walletLabel},"Wallet Address"),o.a.createElement(k.a,{onPress:function(){Y.a.setString(n.signInfo.address)}},o.a.createElement(g.a,{style:$.walletLabelAddress},n.signInfo.address,o.a.createElement("i",{style:{marginLeft:4},className:"fa fa-copy"})))),o.a.createElement(m.a,{style:$.stakeDetailBox},o.a.createElement(g.a,{style:$.infoText},"Earn rewards by purchasing staking tickets. You will earn a reward of 2.5 FSN per selected ticket. If your ticket is not selected, your FSN will be returned when the ticket expires (30 days after purchase). NOTE: Only one ticket at a time can be purchased per block for an address.",o.a.createElement(k.a,{onPress:function(){window.open("https://fusion.org")}},o.a.createElement(g.a,{style:[$.infoTextLink,{marginLeft:4}]},"Learn More"))),o.a.createElement(m.a,{style:{height:20}}),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:[$.fundsDetailRow,{backgroundColor:w.backgroundGrey}]},o.a.createElement(g.a,{style:$.labelLineText},"Funds Available"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.statText},D.formatWei(n.walletBalance),o.a.createElement(g.a,{style:$.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:$.stakeDetailRow},o.a.createElement(g.a,{style:$.labelLineText},"Ticket Price"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.valText},D.formatWei(n.ticketPrice),o.a.createElement(g.a,{style:$.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:$.stakeDetailRow},o.a.createElement(g.a,{style:$.labelLineText},"Gas Price"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.valText},D.formatWei(n.gasPrice),o.a.createElement(g.a,{style:$.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:[$.stakeDetailRow,{height:78}]},o.a.createElement(g.a,{style:$.labelLineText},"Ticket Quantity"),o.a.createElement(m.a,null,o.a.createElement(m.a,{style:{flex:1,flexDirection:"row"}},this.state.error&&o.a.createElement(m.a,{style:$.errorForFundsBox},o.a.createElement(g.a,{style:$.errorForFunds},"You don't have enough FSN"),o.a.createElement("i",{style:{position:"relative",left:-1,color:w.errorRed},className:"fa fa-caret-right"})),o.a.createElement(p.a,{style:[$.ticketQuantityInput,{borderColor:c}],placeholder:"0",autoCorrect:!1,placeholderTextColor:w.orderGrey,maxLength:10,value:""+(this.state.ticketQuantity||""),onChangeText:function(e){a.calcDisplay(n,e)}})),o.a.createElement(k.a,{onPress:function(){var e=new ee(n.gasPrice),t=new ee(n.ticketPrice);t=t.add(e);var r=n.walletBalance.div(t);a.calcDisplay(n,r.toNumber())}},o.a.createElement(g.a,{style:$.maxIt},"Max Quantity")))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:[$.stakeDetailRow,{height:78}]},o.a.createElement(g.a,{style:$.labelLineText},"Ticket Days"),o.a.createElement(m.a,null,o.a.createElement(m.a,{style:{flex:1,flexDirection:"row"}},o.a.createElement(p.a,{style:[$.ticketQuantityInput,{color:t,borderColor:this.state.daysError?w.errorRed:w.orderGrey}],placeholder:"30",autoCorrect:!1,placeholderTextColor:w.orderGrey,maxLength:10,value:""+(this.state.daysQuantity||""),onChangeText:function(e){var t=parseInt(e);isNaN(t)||t<1||t>100?a.setState({daysQuantity:e,daysError:!0}):a.setState({daysQuantity:t,daysError:!1})}})),o.a.createElement(g.a,{style:[$.maxIt,{color:w.orderGrey}]},"(1-100)"))),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:{height:16,width:1}}),o.a.createElement(m.a,{style:[$.stakeDetailRow,{height:30}]},o.a.createElement(g.a,{style:$.labelLineText},"Total Cost"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.costCalcLineText},"Ticket Cost ",this.state.ticketQuantity||"0"," x"," ",D.formatWei(n.ticketPrice)," FSN"))),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:$.costCalcLineText},"Gas Cost ",this.state.ticketQuantity||"0"," x"," ",D.formatWei(n.gasPrice)," FSN"),o.a.createElement(m.a,{style:{height:16,width:1}}),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:[$.stakeTextVal,{color:e}]},this.state.totalCostString,o.a.createElement(g.a,{style:$.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:{height:20,width:1}}),o.a.createElement(m.a,{style:$.orderBorder}),o.a.createElement(m.a,{style:{height:16,width:1}}),o.a.createElement(J,{textWidth:512,onPress:function(){var e={autoBuyTickets:!a.state.autoBuyTickets};e.autoBuyTickets||(e.autoBuyStopDate=!1),a.setState(e)},on:this.state.autoBuyTickets,text:"Auto Buy Tickets",subText:"Tickets will be repurchased when they expire or when they win rewards"}),o.a.createElement(J,{textWidth:512,onPress:function(){a.setState({reinvestReward:!a.state.reinvestReward})},on:this.state.reinvestReward,text:"Reinvest Reward",subText:"Rewards that are won will be reinvested to purchase more tickets when enough rewards are collected."}),o.a.createElement(J,{textWidth:512,disabled:!this.state.autoBuyTickets,onPress:function(){a.setState({autoBuyStopDate:!a.state.autoBuyStopDate})},on:this.state.autoBuyStopDate,text:"Auto Buy Stop Date",subText:"Auto Buy will stop on desired date"},this.state.autoBuyStopDate&&o.a.createElement(X.a,{onChange:this.onChangeDate,selected:this.state.date,minDate:new Date((new Date).getTime()+864e5),showTimeSelect:!0,dateFormat:"Pp"})),o.a.createElement(k.a,{disabled:!i,onPress:function(){a.purchaseTicket()}},o.a.createElement(m.a,null,o.a.createElement(g.a,{style:r},l))),o.a.createElement(m.a,{style:{height:16,width:1}}),o.a.createElement(g.a,{style:$.footerText},"Funds used to purchase tickets will be sent back after tickets have expired. Tickets expire 30 days after date of purchase. Your browser window must remain open to continue autobuy."))))}},{key:"purchaseTicket",value:function(){A.web3api.buyTickets(this.state),this.setState({purchasingTicket:!0}),y.push("/Status")}},{key:"onChangeDate",value:function(e){var t=new Date((new Date).getTime()+864e5);e.getTime()<t.getTime()&&(e=t),this.setState({date:e})}},{key:"calcDisplay",value:function(e,t){var a=parseInt(t);!a&&(0!==a||a<0)&&(a=0);var n=new ee(a);n=n.mul(e.gasPrice);var r=new ee(a);r=r.mul(e.ticketPrice),n=n.add(r);var o=D.formatWei(n.toString());this.setState({ticketQuantity:a,totalPrice:n,totalCostString:o,error:n.gt(e.walletBalance)})}}]),t}(r.Component);$=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",marginTop:15,marginLeft:15,backgroundColor:w.backgroundGrey},sectionTitle:{fontSize:24,lineHeight:32,fontFamily:"Roboto, san-serif",fontWeight:E.boldFont,color:w.textBlue},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"},Auto_Buy_Stake_Monit:{fontSize:24,lineHeight:32,fontFamily:E.fontFamily,fontWeight:E.boldFont,color:w.textBlue,marginBottom:4},lastUpdated:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.labelGrey},labelLineText:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.labelGrey},simpleLineText:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.textBlue},activeButton:{color:w.textGreen,fontSize:14,backgroundColor:w.lightSuccessGreen,fontFamily:E.fontFamily,padding:8,fontWeight:E.regularFont},stopAutoBuyButton:{padding:8,fontSize:14,color:w.errorRed,fontWeight:E.regularFont},startAutoBuyButton:{color:w.textBlue,padding:8,fontSize:14,fontWeight:E.regularFont},inActiveButton:{color:w.textBlue,fontSize:14,backgroundColor:w.backgroundGrey,fontFamily:E.fontFamily,padding:8,fontWeight:E.regularFont},stakingMonitorActive:{fontSize:32,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.boldFont,marginTop:8,marginBottom:4},stakingMonitorActivePercent:{fontSize:32,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.boldFont,marginTop:4,marginBottom:4,marginLeft:1},largeMetricBox:{flex:1,flexBasis:"100%",flexDirection:"row",justifyContent:"space-between",marginTop:20,width:620},stakeTextFSN:{fontFamily:E.fontFamily,fontSize:12,fontWeight:E.regularFont,marginLeft:4},viewTicketDetails:{fontFamily:E.fontFamily,fontSize:12,fontWeight:E.regularFont,color:w.linkBlue},maxIt:{fontFamily:E.fontFamily,fontSize:12,fontWeight:E.mediumFont,color:w.linkBlue,alignSelf:"flex-end"},stakeTextVal:{fontSize:18,fontFamily:E.fontFamily,fontWeight:E.boldFont,color:w.textBlue,alignSelf:"flex-end"},valText:{fontSize:18,fontFamily:E.fontFamily,fontWeight:E.mediumFont,color:w.textBlue,alignSelf:"flex-end"},dateValue:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.textBlue},statText:{fontSize:18,fontFamily:E.fontFamily,fontWeight:E.mediumFont,color:w.textBlue},infoText:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.mediumFont,color:w.textGrey,lineHeight:"1.71"},infoTextLink:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.mediumFont,color:w.linkBlue},orderBorder:{backgroundColor:w.orderGrey,height:1,width:556},rewardsGivenBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:200,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rewardHolderView:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:388,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rwcTextViewbox:{marginBottom:16},rewardHolderViewText:{width:227,marginLeft:32,flex:1,flexBasis:"100%",justifyContent:"center"},rewardHolderViewGradient:{backgroundImage:"linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0))",width:40,marginLeft:32,position:"absolute",height:130,left:138},rewardGivenBoxTextHolder:{marginLeft:32,paddingTop:8},textNumberOfRewardsGivenType:{fontSize:12,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.regularFont,marginBottom:10,marginLeft:4},textNumberOfRewardsGivenTypeSmaller:{fontSize:12,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.regularFont,marginBottom:6,marginLeft:4},textNumberOfRewardsGiven:{fontSize:48,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.boldFont,marginTop:8},textNumberOfRewardsGivenSmaller:{fontSize:36,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.boldFont,marginTop:8},rewardsGivenBoxRewardCount:{flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",marginTop:-2},lineGraph:{width:216,height:126,position:"absolute",left:170,overflow:"visible"},walletBox:{backgroundColor:w.tagGrey,borderRadius:3,width:620,height:48,marginTop:20,flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},walletLabel:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,marginLeft:32,color:w.labelGrey},walletLabelAddress:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.regularFont,marginRight:32,color:w.textBlue},stakeDetailText:{color:w.textBlue,fontSize:18,fontFamily:E.fontFamily,fontWeight:E.boldFont},stakesPurchaseTicketButtton:{borderRadius:3,padding:8,backgroundColor:w.primaryBlue,color:w.white,fontSize:14,fontFamily:E.fontFamily,fontWeight:E.mediumFont},stakesStopAutoBuy:{borderColor:w.backgroundGrey,borderWidth:1,borderRadius:3,padding:8,backgroundColor:w.white},stakesStopAutoBuyText:{backgroundColor:w.white,color:w.errorRed,fontSize:14,fontFamily:E.fontFamily,fontWeight:E.mediumFont},stakeDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:56},fundsDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:44},errorForFunds:{fontSize:12,fontWeight:E.mediumFont,fontFamily:E.fontFamily,color:w.white,backgroundColor:w.errorRed,paddingTop:6,paddingBottom:6,paddingLeft:8,paddingRight:8,borderRadius:3,height:24,alignSelf:"center"},errorForFundsBox:{flex:1,flexDirection:"row",marginRight:6,alignItems:"center"},ticketQuantityInput:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,fontSize:14,fontFamily:E.mediumFont,color:w.labelGrey,height:36,width:110,marginTop:6,marginBottom:6,alignSelf:"flex-end",textAlign:"right",paddingRight:4,paddingLeft:4,outline:"none"},costCalcLineText:{fontFamily:E.fontFamily,fontSize:12,fontWeight:E.mediumFont,color:w.labelGrey,alignSelf:"flex-end"},purchaseTicketButtonDisabled:{fontSize:16,width:556,borderRadius:3,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.white,backgroundColor:w.disabledBlue,textAlign:"center",padding:12,marginTop:20},purchaseTicketButton:{fontSize:16,width:556,borderRadius:3,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.white,backgroundColor:w.linkBlue,textAlign:"center",padding:12,marginTop:20},footerText:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.mediumFont,color:w.disabledGrey}});var ae,ne=te,re=A.web3api,oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).lastestBlockListener=a.lastestBlockListener.bind(Object(Q.a)(Object(Q.a)(a))),a.state={},a.state.block=null,a.state.expand=!1,a.state.displayLeftRight=e.displayLeftRight,a.props.match&&a.props.match.params&&a.props.match.params.blockNumber&&(a.state.blockNumberToDisplay=a.props.match.params.blockNumber,a.state.expand=!0,a.state.displayLeftRight=!0),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.block||this.state.block;if(!t)return o.a.createElement(g.a,null,"Lastest Block Will Display Here");if(this.state.expand){var a=[];if(t.transactions&&t.transactions.length>0){var n=!0,r=!1,i=void 0;try{for(var l,s=t.transactions[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=l.value;a.push(o.a.createElement(m.a,{key:c},o.a.createElement(g.a,null,c)))}}catch(u){r=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}return o.a.createElement(m.a,{style:ie.stakeDetailBox},o.a.createElement(m.a,{style:{flex:1,flexDirection:"row"}},o.a.createElement(k.a,{onPress:function(){e.setState({expand:!1})}},o.a.createElement(g.a,null,"Latest Block Number = ",t.number,o.a.createElement("i",{style:{color:w.textBlue,marginLeft:4},className:"fa fa-caret-up"}))),this.state.displayLeftRight&&o.a.createElement(m.a,{style:{flex:1,flexDirection:"row"}},o.a.createElement(k.a,{onPress:function(){e.cleanupBlock(),e.setupBlock(t.number-1)}},o.a.createElement("i",{style:{color:w.textBlue,marginLeft:4,marginRight:8,fontSize:16},className:"fa fa-caret-left"})),o.a.createElement(k.a,{onPress:function(){e.setState({expand:!1})}},o.a.createElement("i",{style:{color:w.textBlue,marginLeft:4,fontSize:16},className:"fa fa-caret-right"})))),o.a.createElement(m.a,{style:{height:8,width:1}}),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Time Stamp"),o.a.createElement(g.a,{style:ie.stakeTextFSN},"(",t.timestamp,") ",new Date(1e3*t.timestamp).toString())),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Hash"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.hash)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Parent Hash"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.parentHash)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Miner"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.miner)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Nonce"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.nonce)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Size"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.size)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Gas Used:"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.gasUsed)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Gas Limit:"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.gasLimit)),o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Transactions #:"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.transactions.length)),a,o.a.createElement(m.a,{style:ie.orderBorder}),o.a.createElement(m.a,{style:ie.blockDetailRow},o.a.createElement(g.a,{style:ie.labelLineText},"Total Difficulty:"),o.a.createElement(g.a,{style:ie.stakeTextFSN},t.totalDifficulty)),o.a.createElement(m.a,{style:ie.orderBorder}))}return o.a.createElement(k.a,{onPress:function(){e.setState({expand:!0})}},o.a.createElement(m.a,{style:ie.stakeDetailSmall},o.a.createElement(g.a,null,"Latest Block Number = ",t.number,o.a.createElement("i",{style:{color:w.textBlue,marginLeft:4},className:"fa fa-caret-down"}))))}},{key:"lastestBlockListener",value:function(e){this.setState({block:e})}},{key:"setupBlock",value:function(e){var t=e||this.state.blockNumberToDisplay;this.props.block||(t?re.getBlock(!0,t,this.lastestBlockListener):re.on("latestBlock",this.lastestBlockListener)),void 0!==e&&this.setState({blockNumberToDisplay:e})}},{key:"cleanupBlock",value:function(){this.props.block||(this.state.blockNumberToDisplay?re.getBlock(!1,this.state.blockNumberToDisplay,this.lastestBlockListener):re.removeEventListener("latestBlock",this.lastestBlockListener))}},{key:"componentDidMount",value:function(){this.setupBlock()}},{key:"componentWillUnmount",value:function(){this.cleanupBlock()}}]),t}(r.Component),ie=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"flex-start",marginTop:15,marginLeft:15,backgroundColor:w.backgroundGrey},stakeDetailBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,paddingRight:32,paddingTop:12,paddingBottom:12,paddingLeft:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailSmall:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:12,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},labelLineText:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.labelGrey},stakeTextFSN:{fontFamily:E.fontFamily,fontSize:12,fontWeight:E.regularFont,marginLeft:4},stakeTextVal:{fontSize:18,fontFamily:E.fontFamily,fontWeight:E.boldFont,alignSelf:"flex-end",color:w.textBlue},blockDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:44},orderBorder:{backgroundColor:w.orderGrey,height:1,width:556}}),le=A.BN,se=a(478),ce=a(479),ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this))).state={paintKey:0,ticketDisplayOn:!1,lastTicketStatus:"",ticketStop:!1},a.balanceListener=a.balanceListener.bind(Object(Q.a)(Object(Q.a)(a))),a.purchaseTikStatus=a.purchaseTikStatus.bind(Object(Q.a)(Object(Q.a)(a))),a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"totalStake",value:function(e){return e.ticketPrice.mul(new le(e.numberOfTickets))}},{key:"balanceListener",value:function(e){A.setBalanceInfo(e),this.setState({paintKey:this.state.paintKey+1})}},{key:"purchaseTikStatus",value:function(e){this.setState({lastTicketStatus:e.lastCall,ticketStop:!1})}},{key:"componentDidMount",value:function(){A.web3api.on("balanceInfo",this.balanceListener),A.web3api.on("purchaseAgain",this.purchaseTikStatus),A.web3api.on("purchaseCompleted",this.purchaseTikStatus),A.web3api.on("purchaseStarted",this.purchaseTikStatus),A.web3api.on("purchaseWaitForNewBlock",this.purchaseTikStatus),A.web3api.on("purchaseSubmitTicket",this.purchaseTikStatus)}},{key:"componentWillUnmount",value:function(){A.web3api.removeEventListener("balanceInfo",this.balanceListener),A.web3api.removeEventListener("purchaseAgain",this.purchaseTikStatus),A.web3api.removeEventListener("purchaseCompleted",this.purchaseTikStatus),A.web3api.removeEventListener("purchaseStarted",this.purchaseTikStatus),A.web3api.removeEventListener("purchaseWaitForNewBlock",this.purchaseTikStatus),A.web3api.removeEventListener("purchaseSubmitTicket",this.purchaseTikStatus)}},{key:"render",value:function(){var e=this,t=A.data;le||(le=A.BN),t.accountUnlocked&&(t.web3api.walletAddress=t.signInfo.address);var a,n,r=D.formatWei(t.rewardsToDate),i=1===t.totalTickets?"Ticket":"Tickets";r.length<4?(a=ae.textNumberOfRewardsGiven,n=ae.textNumberOfRewardsGivenType):(n=ae.textNumberOfRewardsGivenTypeSmaller,a=ae.textNumberOfRewardsGivenSmaller);var l=t.totalTickets>0?D.displayPercent(t.numberOfTickets/t.totalTickets):"0.00";"0.00"===l&&t.numberOfTickets>0&&(l="< 0.01");var s,c=new B.a(t.lastUpdateTime),u=A.data.ticketPurchasing;void 0===u&&(u={activeTicketPurchase:!1});var d=u.lastStatus;if(u.activeTicketPurchase){var f=parseInt(224*(u.ticketsPurchased+1)/u.ticketQuantity);s=o.a.createElement(m.a,{key:"ticketPurchaseView",style:{width:224,height:24,alignItems:"flex-start",justifyContent:"flex-start"}},o.a.createElement(m.a,{style:{width:200,height:20}},o.a.createElement(m.a,{style:{width:224,height:20,backgroundColor:"transparent",position:"absolute",top:0,left:0,borderWidth:1,borderColor:w.orderGrey,borderRadius:3}}),o.a.createElement(m.a,{style:{width:f,height:20,backgroundColor:w.successGreen,position:"absolute",top:0,left:0,borderWidth:1,borderColor:"transparent",borderRadius:3}}),o.a.createElement(g.a,{style:[ae.labelLineText,{width:224,height:20,position:"absolute",textAlign:"center",top:4,left:0}]},"".concat(u.ticketsPurchased+1," of ").concat(u.ticketQuantity))),o.a.createElement(g.a,{style:[ae.labelLineText,{width:224,marginTop:4}]},d))}var h=c.toString();if(!t.accountUnlocked)return o.a.createElement(m.a,{style:{padding:15}},o.a.createElement(g.a,{style:ae.Auto_Buy_Stake_Monit},"You Account Must be unlocked to use this screen."),o.a.createElement(k.a,{style:{width:100},onPress:function(){y.push("/UnlockAccount")}},o.a.createElement(g.a,{style:ae.activeButton},"Select An Account")));if(this.state.ticketDisplayOn){for(var p=Object.keys(t.allTickets?t.allTickets:{}),x=[],E=0;E<p.length;E++){var T=p[E],S=t.allTickets[T],F=B()(new Date(1e3*S.ExpireTime)).format("L LT z");x.push(o.a.createElement(m.a,{key:""+S.ExpireTime},o.a.createElement(m.a,{style:ae.ticketDetailRow},o.a.createElement(g.a,{style:[ae.labelLineText,{width:120}]},F),o.a.createElement(g.a,{style:[ae.labelLineText,{textAlign:"center",width:60}]},D.formatWei(t.ticketPrice)),o.a.createElement(g.a,{style:[ae.labelLineText,{textAlign:"right",width:366,fontSize:10}]},S.ID)),o.a.createElement(m.a,{style:ae.orderBorder})))}return o.a.createElement(m.a,{style:ae.container},o.a.createElement(m.a,null,o.a.createElement(m.a,{style:ae.stakeDetailBox},o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.stakeDetailText},"Ticket Details",o.a.createElement(g.a,{style:ae.dateValue},"  "+t.numberOfTickets+(1===t.numberOfTickets?" Ticket":" Tickets")))),o.a.createElement(m.a,{style:ae.ticketDetailRow},o.a.createElement(g.a,{style:[ae.labelLineText,{width:120}]},"Expiration Time"),o.a.createElement(g.a,{style:[ae.labelLineText,{width:80}]},"Ticket Price"),o.a.createElement(g.a,{style:[ae.labelLineText,{textAlign:"right",width:340}]},"Ticket Hash"),o.a.createElement(m.a,null)),o.a.createElement(m.a,{style:ae.orderBorder}),x),o.a.createElement(k.a,{onPress:function(){e.setState({ticketDisplayOn:!1})},style:ae.closeButton},o.a.createElement(b.a,{resizeMode:"contain",source:ce,style:{width:14,height:14}}))))}return o.a.createElement(m.a,{style:{marginLeft:30,backgroundColor:w.backgroundGrey}},o.a.createElement(m.a,{style:ae.container},o.a.createElement(m.a,{style:ae.titleBox},o.a.createElement(g.a,{style:ae.Auto_Buy_Stake_Monit},"Auto Buy Stake Monitor"),o.a.createElement(k.a,null,o.a.createElement(g.a,{style:ae.lastUpdated},"Last Updated: ".concat(h)))),o.a.createElement(m.a,{style:ae.walletBox},o.a.createElement(g.a,{style:ae.walletLabel},"Wallet Address"),o.a.createElement(k.a,{onPress:function(){Y.a.setString(t.signInfo.address)}},o.a.createElement(g.a,{style:ae.walletLabelAddress},t.signInfo.address,o.a.createElement("i",{style:{marginLeft:4},className:"fa fa-copy"})))),o.a.createElement(m.a,{style:{height:10,width:1}}),o.a.createElement(oe,{block:t.latestBlock}),o.a.createElement(m.a,{style:{height:10,width:1}}),o.a.createElement(m.a,{style:ae.largeMetricBox},o.a.createElement(m.a,{style:ae.rewardHolderView},o.a.createElement(b.a,{resizeMode:"contain",source:se,style:ae.lineGraph}),o.a.createElement(m.a,{style:ae.rewardHolderViewGradient}),o.a.createElement(m.a,{style:ae.rewardHolderViewText},o.a.createElement(m.a,{style:ae.rwcTextViewbox},o.a.createElement(g.a,{style:ae.labelLineText},"Current Reward Probablity"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakingMonitorActive},l,o.a.createElement(g.a,{style:ae.stakingMonitorActivePercent},"%"))),o.a.createElement(g.a,{style:ae.simpleLineText},"".concat(t.numberOfTickets," of ").concat(D.displayNumber(t.totalTickets,t.totalTickets<1e3?0:2)," ").concat(i))))),o.a.createElement(m.a,{style:ae.rewardsGivenBox},o.a.createElement(m.a,{style:ae.rwcTextViewbox},o.a.createElement(m.a,{style:ae.rewardGivenBoxTextHolder},o.a.createElement(g.a,{style:ae.labelLineText},"Rewards to Date"),o.a.createElement(m.a,{style:ae.rewardsGivenBoxRewardCount},o.a.createElement(g.a,{style:a},r),o.a.createElement(g.a,{style:n},"FSN")))))),o.a.createElement(m.a,{style:ae.stakeDetailBox},o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.stakeDetailText},"Stake Details"),o.a.createElement(k.a,{disabled:this.state.ticketStop,onPress:function(){u.activeTicketPurchase?window.confirm("Are you sure you want to stop purchasing?")&&(e.setState({ticketStop:!0}),A.web3api.stopTicketPurchase()):y.push("/PurchaseTicket")}},this.handleStakeButtons(t,u))),o.a.createElement(m.a,{style:{height:20}}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Staking Status"),s,u.activeTicketPurchase?o.a.createElement(g.a,{key:"ab1",style:ae.activeButton},"Active"):o.a.createElement(g.a,{key:"ab1",style:ae.inActiveButton},"Inactive")),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Active Tickets"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},t.numberOfTickets,o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")),t.numberOfTickets>0&&o.a.createElement(k.a,{onPress:function(){e.setState({ticketDisplayOn:!0})}},o.a.createElement(g.a,{style:ae.viewTicketDetails},"View Ticket Details")))),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Rewards to Date"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},D.formatWei(t.rewardsToDate),o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"FSN Staked"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},D.formatWei(this.totalStake(t)),o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"FSN Available"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},D.formatWei(t.walletBalance),o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Total FSN"),o.a.createElement(m.a,null,o.a.createElement(g.a,{style:ae.stakeTextVal},D.formatWei(t.walletBalance.add(this.totalStake(t))),o.a.createElement(g.a,{style:ae.stakeTextFSN},"FSN")))),o.a.createElement(m.a,{style:ae.orderBorder}),t.autoBuyOn&&o.a.createElement(m.a,{key:"aaa"},o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Auto Buy Tickets"),o.a.createElement(g.a,{key:"ab1",style:ae.activeButton},"On")),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Auto Reinvest Reward"),o.a.createElement(g.a,{key:"ab1",style:t.autoReinvestReward?ae.activeButton:ae.inActiveButton},t.autoReinvestReward?"On":"Off")),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Auto Buy Stop Time"),o.a.createElement(g.a,{style:ae.dateValue},t.autoBuyStopTime?t.autoBuyStopTime.format("lll"):"Never")),o.a.createElement(m.a,{style:ae.orderBorder}),o.a.createElement(m.a,{style:ae.stakeDetailRow},o.a.createElement(g.a,{style:ae.labelLineText},"Last Ticket Expires"),o.a.createElement(g.a,{style:ae.dateValue},t.lastTicketExpires?t.lastTicketExpires.format("lll"):"----")),o.a.createElement(m.a,{style:ae.orderBorder})))))}},{key:"handleStakeButtons",value:function(e,t){return t.activeTicketPurchase?t.activeTicketPurchase?o.a.createElement(m.a,{style:{borderRadius:3,borderWidth:1,borderColor:this.state.ticketStop?w.errorRed:w.orderGrey}},o.a.createElement(g.a,{key:"ab1",style:ae.stopAutoBuyButton},this.state.ticketStop?"Stopping Purchasing":"Stop Purchasing")):o.a.createElement(m.a,{style:{borderRadius:3,borderWidth:1,borderColor:w.orderGrey}},o.a.createElement(g.a,{key:"ab1",style:ae.startAutoBuyButton},"Start Auto Buy")):o.a.createElement(g.a,{key:"ab1",style:ae.stakesPurchaseTicketButtton},"Purchase Staking Tickets")}}]),t}(r.Component);ae=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",marginTop:15,marginLeft:15,backgroundColor:w.backgroundGrey},sectionTitle:{fontSize:24,lineHeight:32,fontFamily:"Roboto, san-serif",fontWeight:E.boldFont,color:w.textBlue},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"},Auto_Buy_Stake_Monit:{fontSize:24,lineHeight:32,fontFamily:E.fontFamily,fontWeight:E.boldFont,color:w.textBlue,marginBottom:4,alignSelf:"flex-start"},lastUpdated:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.labelGrey,alignSelf:"flex-start"},labelLineText:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.labelGrey},simpleLineText:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.textBlue},activeButton:{color:w.textGreen,fontSize:14,backgroundColor:w.lightSuccessGreen,fontFamily:E.fontFamily,padding:8,fontWeight:E.regularFont},stopAutoBuyButton:{padding:8,fontSize:14,color:w.errorRed,fontWeight:E.regularFont},startAutoBuyButton:{color:w.textBlue,padding:8,fontSize:14,fontWeight:E.regularFont},inActiveButton:{color:w.textBlue,fontSize:14,backgroundColor:w.backgroundGrey,fontFamily:E.fontFamily,padding:8,fontWeight:E.regularFont},stakingMonitorActive:{fontSize:32,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.boldFont,marginTop:8,marginBottom:4},stakingMonitorActivePercent:{fontSize:32,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.boldFont,marginTop:4,marginBottom:4,marginLeft:1},largeMetricBox:{flex:1,flexBasis:"100%",flexDirection:"row",justifyContent:"space-between",marginTop:20,width:620},stakeTextFSN:{fontFamily:E.fontFamily,fontSize:12,fontWeight:E.regularFont,marginLeft:4},viewTicketDetails:{fontFamily:E.fontFamily,fontSize:12,fontWeight:E.regularFont,color:w.linkBlue},stakeTextVal:{fontSize:18,fontFamily:E.fontFamily,fontWeight:E.boldFont,alignSelf:"flex-end",color:w.textBlue},dateValue:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.textBlue},orderBorder:{backgroundColor:w.orderGrey,height:1,width:556},rewardsGivenBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:200,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailBox:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rewardHolderView:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:388,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rwcTextViewbox:{marginBottom:16},rewardHolderViewText:{width:227,marginLeft:32,flex:1,flexBasis:"100%",justifyContent:"center"},rewardHolderViewGradient:{backgroundImage:"linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0))",width:40,marginLeft:32,position:"absolute",height:130,left:138},rewardGivenBoxTextHolder:{marginLeft:32,paddingTop:8},textNumberOfRewardsGivenType:{fontSize:12,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.regularFont,marginBottom:10,marginLeft:4},textNumberOfRewardsGivenTypeSmaller:{fontSize:12,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.regularFont,marginBottom:6,marginLeft:4},textNumberOfRewardsGiven:{fontSize:48,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.boldFont,marginTop:8},textNumberOfRewardsGivenSmaller:{fontSize:36,fontFamily:E.fontFamily,color:w.textBlue,fontWeight:E.boldFont,marginTop:8},rewardsGivenBoxRewardCount:{flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",marginTop:-2},lineGraph:{width:216,height:126,position:"absolute",left:170,overflow:"visible"},titleBox:{width:620},walletBox:{backgroundColor:w.tagGrey,borderRadius:3,width:620,height:48,marginTop:20,flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},walletLabel:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,marginLeft:32,color:w.labelGrey},walletLabelAddress:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.regularFont,marginRight:32,color:w.textBlue},stakeDetailText:{color:w.textBlue,fontSize:18,fontFamily:E.fontFamily,fontWeight:E.boldFont},stakesPurchaseTicketButtton:{borderRadius:3,padding:8,backgroundColor:w.primaryBlue,color:w.white,fontSize:14,fontFamily:E.fontFamily,fontWeight:E.mediumFont},stakesStopAutoBuy:{borderColor:w.backgroundGrey,borderWidth:1,borderRadius:3,padding:8,backgroundColor:w.white},stakesStopAutoBuyText:{backgroundColor:w.white,color:w.errorRed,fontSize:14,fontFamily:E.fontFamily,fontWeight:E.mediumFont},stakeDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:56},ticketDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:44,width:620},closeButton:{width:14,height:14,position:"absolute",right:18,top:24,padding:8}});var de,fe=ue,me=a(492),he=A.web3api,ye=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={initedNode:!1,currentNodeAddress:null,newNodeAddress:"",error:null,testing:!1},a.connectionListener=a.connectionListener.bind(Object(Q.a)(Object(Q.a)(a)));var n=window.localStorage.getItem("address2");return a.didOneUpdate?(n||(n="wss://gateway.fusionnetwork.io:10001"),a.setState({newNodeAddress:n,currentNodeAddress:n,initedNode:!0})):(n||(n="wss://gateway.fusionnetwork.io:10001"),a.state.currentNodeAddress=n,a.state.newNodeAddress=n,a.state.initedNode=!0),Object(u.a)(a)}return Object(f.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.didOneUpdate=!0}},{key:"connectionListener",value:function(e,t){console.log("CONNECTION EVENTS FIRING AWAY",e),this.state.testing?("error"===e[0]&&(alert("Unable to connect to "+this.state.newNodeAddress),this.setState({testing:!1})),"connected"===e[0]&&(this.setState({connectionError:!1,testing:!1,currentNodeAddress:this.state.newNodeAddress}),window.localStorage.setItem("address2",this.state.newNodeAddress))):"error"===e[0]?this.setState({connectionError:!0}):"stillgood"===e[0]&&this.state.connectionError&&this.setState({connectionError:!1})}},{key:"setNodeAddress",value:function(e){he.setNodeAddress(e)}},{key:"componentDidMount",value:function(){he.on("connectstatus",this.connectionListener),this.state.newNodeAddress&&!this.state.testing&&he.setNodeAddress(this.state.newNodeAddress)}},{key:"componentWillUnmount",value:function(){he.removeEventListener("connectstatus",this.connectionListener)}},{key:"render",value:function(){var e=this;if(this.state.testing){var t=this.state.newNodeAddress;return t.length>18&&(t=t.substr(0,15)+"..."),o.a.createElement(m.a,{style:de.testingBackground},o.a.createElement(m.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(g.a,{style:[de.testingNode,{marginRight:4}]},t),o.a.createElement(me.a,{animating:!0})))}if(this.state.error)return o.a.createElement(k.a,{onPress:function(){e.setState({error:void 0})}},o.a.createElement(m.a,{style:de.errorBackground},o.a.createElement(g.a,{adjustsFontSizeToFit:!0,style:de.errorText},this.state.error)));if(this.state.inputNodeMode)return o.a.createElement(m.a,{style:de.inputBackground},o.a.createElement(p.a,{style:de.nodeInput,placeholder:"http(s):// or ws(s):// address:port",autoCorrect:!1,placeholderTextColor:w.orderGrey,maxLength:128,value:this.state.newNodeAddress,clearButtonMode:"always",onChangeText:function(t){e.setState({newNodeAddress:t})},autoFocus:!0,onBlur:function(){e.setState({inputNodeMode:!1})},onKeyPress:function(t){13===t.charCode&&(e.state.newNodeAddress?(e.setState({testing:!0,connectionError:!1}),e.setNodeAddress(e.state.newNodeAddress)):e.setState({inputNodeMode:!1}))}}));if(!this.state.currentNodeAddress)return o.a.createElement(k.a,{onPress:function(){e.setState({inputNodeMode:!0})}},o.a.createElement(m.a,{style:de.inputBackground},o.a.createElement(g.a,{style:de.selectNode},"Select Node")));var a=this.state.currentNodeAddress;return a.length>26&&(a=a.substr(0,23)+"..."),o.a.createElement(k.a,{onPress:function(){e.setState({inputNodeMode:!0})}},o.a.createElement(m.a,{style:this.state.connectionError?de.errorBackground:de.standardBackground},o.a.createElement(m.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},!this.state.connectionError&&o.a.createElement("i",{key:"c11",className:"fa fa-check-circle",style:{color:w.successGreen,marginRight:4}}),o.a.createElement(g.a,{style:[de.standardNode,{marginRight:4}]},a))))}}]),t}(r.Component);de=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",width:"100%"},errorBackground:{width:180,height:44,borderRadius:3,backgroundColor:w.errorRed,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center"},errorText:{fontSize:12,fontFamily:E.mediumFont,color:w.white},nodeInput:{borderColor:w.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,fontSize:12,fontFamily:E.mediumFont,color:w.labelGrey,width:148,height:32,outline:"none",paddingLeft:2,paddingRight:2,paddingTop:4,paddingBottom:4},standardNode:{color:w.textBlue,fontSize:12,fontWeight:E.regularFont,fontFamily:E.fontFamily},standardBackground:{width:180,height:44,borderRadius:3,borderWidth:1,borderColor:w.orderGrey,backgroundColor:w.white,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center",overflow:"hidden"},inputBackground:{width:180,height:44,borderRadius:3,backgroundColor:w.linkBlue,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center",overflow:"hidden"},testingNode:{fontSize:12,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.black,textAlign:"center"},testingBackground:{width:180,height:44,borderRadius:3,backgroundColor:w.lightSuccessGreen,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",alignItems:"center",justifyContent:"center",overflow:"hidden"},selectNode:{fontSize:14,fontFamily:E.fontFamily,fontWeight:E.regularFont,color:w.white,backgroundColor:w.linkBlue,textAlign:"center"}});var ge=a(480),ke=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(m.a,{style:be.container},o.a.createElement(m.a,{style:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(b.a,{source:ge,resizeMode:"contain",style:{marginLeft:80,width:129,height:29}}),o.a.createElement(g.a,{style:be.titleAutoBuy},"Auto Buy Stake"),o.a.createElement(g.a,{style:be.programVersion},"1.00.00")),o.a.createElement(m.a,{style:be.nodeSelectBox},o.a.createElement(ye,null)))}}]),t}(r.Component),be=x.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexDirection:"row",flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",height:72,width:"100%",backgroundColor:w.white,overflow:"visible",boxShadow:"inset 0 -1px 0 0 #bdc4ce"},borderTitle:{width:.9,backgroundColor:w.grey,height:19,marginLeft:14,marginRight:14},titleAutoBuy:{fontFamily:E.fontFamily,fontSize:22,fontWeight:E.boldFont,marginLeft:15},programVersion:{fontFamily:E.fontFamily,fontSize:12,fontWeight:E.regularFont,color:w.textBlue,padding:1,marginLeft:8,backgroundColor:w.grey},nodeSelectBox:{alignSelf:"center",marginRight:32,marginLeft:32}}),pe=a(496),xe=a(495),we=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(m.a,null,o.a.createElement(ke,null),o.a.createElement(pe.a,{history:y},o.a.createElement("div",null,o.a.createElement(xe.a,{exact:!0,path:"/",component:U}),o.a.createElement(xe.a,{path:"/Status",component:fe})," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",o.a.createElement(xe.a,{path:"/UnlockAccount",component:U}),o.a.createElement(xe.a,{path:"/PurchaseTicket",component:ne}),o.a.createElement(xe.a,{path:"/Block/:blockNumber",component:oe}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[227,2,1]]]);
//# sourceMappingURL=main.e55349fa.chunk.js.map