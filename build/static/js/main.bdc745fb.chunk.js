(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e,t,a){e.exports=a(482)},232:function(e,t,a){},271:function(e,t){},273:function(e,t){},300:function(e,t){},345:function(e,t){},422:function(e,t,a){e.exports=a.p+"static/media/radioOn.0ef10e99.svg"},423:function(e,t,a){e.exports=a.p+"static/media/radioOff.53ea8205.svg"},435:function(e,t,a){e.exports=a.p+"static/media/checkboxOn.70a8f228.svg"},436:function(e,t,a){e.exports=a.p+"static/media/check_off.f24d3320.svg"},47:function(e,t,a){},478:function(e,t,a){e.exports=a.p+"static/media/lineGraph.c0fc5779.svg"},479:function(e,t,a){e.exports=a.p+"static/media/times.a3c0a79b.svg"},480:function(e,t,a){e.exports=a.p+"static/media/explorer-logo.516c3873.svg"},482:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(29),i=a.n(o),l=(a(232),a(5)),s=a(6),c=a(18),u=a(19),d=a(20),f=a(98),m=(a(47),a(207)),h=a.n(m)()(),y=a(490),g=a(493),k=a(494),b=a(497),p=a(16),x=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"textBlue",get:function(){return"#062144"}},{key:"primaryBlue",get:function(){return"#2a65b0"}},{key:"backgroundGrey",get:function(){return"#f5f7fa"}},{key:"white",get:function(){return"#ffffff"}},{key:"grey",get:function(){return"#e4e9f0"}},{key:"disabledBlue",get:function(){return"#94b2d7"}},{key:"disabledGrey",get:function(){return"#a6a9ad"}},{key:"coolGrey",get:function(){return"#a6a9ad"}},{key:"orderGrey",get:function(){return"#bec5cf"}},{key:"linkBlue",get:function(){return"#2b99ff"}},{key:"textGreen",get:function(){return"#5fa11a"}},{key:"successGreen",get:function(){return"#7ed321"}},{key:"lightSuccessGreen",get:function(){return"#e5f6d3"}},{key:"errorRed",get:function(){return"#d0021b"}},{key:"labelGrey",get:function(){return"#6a6f75"}},{key:"tagGrey",get:function(){return"#e4e9f0"}},{key:"textGrey",get:function(){return"#4a4a4a"}},{key:"sexyPurple",get:function(){return"#462ab0;"}},{key:"tagPurple",get:function(){return"#dad4ef"}}]),e}(),w=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"boldFont",get:function(){return"700"}},{key:"mediumFont",get:function(){return"500"}},{key:"regularFont",get:function(){return"400"}},{key:"fontFamily",get:function(){return"Roboto, san-serif"}}]),e}(),E=a(60),T=a.n(E),B=a(81),S=a.n(B),F=a(73),v=a.n(F),C=a(419),D=function(){function e(){Object(l.a)(this,e),this.eventEmitter=new v.a,this._web3=null,this.provider=null,this.connectedOnce=!1,this.lastNodeAddress="",this.attempForMonitor=0,this.lastBlock={},this.walletAddress="",this.setupMonitor=this.setupMonitor.bind(this),this.monitoringBlocks={},this.ticketPurchasing={}}return Object(s.a)(e,[{key:"setNodeAddress",value:function(e){var t,a=this;if(console.log("Attempting connect"),this.connectedOnce&&e!==this.lastNodeAddress&&(this.connectedOnce=!1),this.lastNodeAddress=e,this.nextMonitorCall&&(clearTimeout(this.nextMonitorCall),this.nextMonitorCall=null),this.subscriptionFSNCallAddress&&(this.subscriptionFSNCallAddress.unsubscribe(function(e){}),this.subscriptionFSNCallAddress=null),0===e.indexOf("ws")){try{this.provider=new S.a.providers.WebsocketProvider(e)}catch(o){return void setTimeout(function(){a.emit("connectstatus",["error"],o)},1)}t=!1,this.provider.on("connect",function(){console.log("blockchain connected"),a.connectedOnce=!0,a.emit("connectstatus",["connected"],null),a.mustGetOneBalance=!0,a.setupMonitor()})}else this.provider=new S.a.providers.HttpProvider(e),t=!0;if(this._web3)this._web3.setProvider(this.provider);else{var n=new S.a(this.provider),r=C.extend(n);this._web3=r}t?this._web3.eth.getBlockNumber().then(function(e){a.emit("connectstatus",["connected",e],null),a.setupMonitor()}).catch(function(e){console.log("error web3api connect ",e),a.emit("connectstatus",["error"],e)}):(this.provider.on("error",function(e){console.error("Blockchain WS Error",e),a.emit("connectstatus",["error"],e)}),this.provider.on("end",function(t){a._web3=null,console.log("Blockchain disconnected will try to reconnect in 15 seconds"),setTimeout(function(){a.emit("connectstatus",["disconnected"],null),!0===a.connectedOnce&&a.setNodeAddress(e)},1)}))}},{key:"getBlock",value:function(e,t,a){var n=this,r=this.monitoringBlocks[t],o=!!r&&Object.keys(r).length>1;e?this.on("block"+t,a):this.removeEventListener("block"+t,a),o?a(r):(this.monitoringBlocks[r]={getting:!0},this._web3.eth.getBlock(t).then(function(e){n.monitoringBlocks[t]=e,n.emit("block"+t,e)}).catch(function(e){n.monitoringBlocks[t]={error:!0,errObject:e},n.emit("block"+t,n.monitoringBlocks[t])}))}},{key:"startFilterEngine",value:function(){}},{key:"setupMonitor",value:function(){var e=this;this.subscriptionFSNCallAddress||this.startFilterEngine();var t=this._walletAddress;this.attempForMonitor+=1;var a=this.attempForMonitor;console.log("checking connection "),this._web3.eth.getBlock("latest").then(function(a){if(e.emit("connectstatus",["stillgood"],!1),e.lastBlock.number!==a.number||e.mustGetOneBalance)return e.mustGetOneBalance=!1,e.lastBlock=a,console.log(a),e.emit("latestBlock",a),!t||t!==e._walletAddress||e._web3.fsn.getAllBalances(t).then(function(e){return console.log("all balances",e),e}).then(function(a){return e._web3.fsn.allTicketsByAddress(t).then(function(e){return console.log("all tickets",e),{allBalances:a,allTickets:e}})}).then(function(t){return e._web3.fsn.ticketPrice().then(function(e){return Object.assign(t,{ticketPrice:e})})}).then(function(t){return e._web3.eth.getGasPrice().then(function(e){return Object.assign(t,{gasPrice:e})})}).then(function(t){return e._web3.fsn.totalNumberOfTickets().then(function(e){return Object.assign(t,{totalTickets:e,latestBlock:a})})}).then(function(t){e.emit("balanceInfo",t,!1)})}).then(function(t){setTimeout(function(){e.setupMonitor()},5e3)}).catch(function(t){console.log("monitor error ",t),e.attempForMonitor===a&&(e.emit("connectstatus",["error"],t),setTimeout(function(){e.setupMonitor()},7e3))})}},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:"emit",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.eventEmitter.emit(e,t,a)}},{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"buyTickets",value:function(e){var t,a=this;G.data.ticketPurchasing=e,e.purchaseStarted=!0,e.activeTicketPurchase=!0,e.ticketsPurchased=0,e.startBlock=this.lastBlock.number,e.lastStatus="",this.lastTicketCheckTimer&&(clearTimeout(this.lastTicketCheckTimer),this.lastTicketCheckTimer=null);var n=function(){a.lastTicketCheckTimer=null,e.startBlock<a.lastBlock.number?a.purchaseOneTicket(e,t):(e.lastStatus="Wait for new block...",e.lastCall="purchaseWaitForNewBlock",a.emit("purchaseWaitForNewBlock",e),a.lastTicketCheckTimer=setTimeout(n,1e3))};n=n.bind(this),t=(t=function(t,r){t||(e.ticketsPurchased+=1),e.lastStatus=r,e.ticketsPurchased<e.ticketQuantity?(t||(e.lastStatus="Purchase next ticket"),e.lastCall="purchaseAgain",a.emit("purchaseAgain",e),a.lastTicketCheckTimer=setTimeout(n,1e3)):(e.lastStatus="Completed",e.activeTicketPurchase=!1,e.lastCall="purchaseCompleted",a.emit("purchaseCompleted",e))}).bind(this),this.purchaseOneTicket(e,t),e.lastCall="purchaseStarted",this.emit("purchaseStarted",e)}},{key:"purchaseOneTicket",value:function(e,t){var a=this;this._web3.fsntx.buildBuyTicketTx({from:this._walletAddress}).then(function(e){return a._web3.fsn.signAndTransmit(e,G.data.signInfo.signTransaction)}).then(function(n){return e.lastStatus="Submitted:"+n,e.lastCall="purchaseSubmitTicket",a.emit("purchaseSubmitTicket",e),a.waitForTransactionToComplete(n).then(function(e){e.status?t(null,"Ticket bought"):t(new Error("failed to buy"),"Failed to buy ticket will retry")}).catch(function(e){t(e,"Error waiting for ticket to complete")})}).catch(function(e){t(e,"unknown")})}},{key:"waitForTransactionToComplete",value:function(e){var t=this;return this._web3.eth.getTransactionReceipt(e).then(function(a){return a||t.waitForTransactionToComplete(e)}).catch(function(e){throw e})}},{key:"walletAddress",set:function(e){this._walletAddress=e,this.mustGetOneBalance=!0},get:function(){return this._walletAddress}}],[{key:"web3",get:function(){return this._web3||(this._web3=new S.a),this._web3}}]),e}(),L=new D,N=D.web3.utils.BN,W={web3api:L,BN:N,latestBlock:{},accountUnlocked:!0,autoBuyOn:!1,balanceOfFSN:0,numberOfTicketsToPurchase:0,numberOfTickets:0,autoBuy:!1,autoReinvestReward:!1,totalTickets:0,rewardsToDate:new N("678"+"0".repeat(18)),lastUpdateTime:new Date,signInfo:{address:"0x4A5a7Aa4130e407d3708dE56db9000F059200C62"},gasPrice:new N("0"),ticketPrice:new N("200"+"0".repeat(18)),walletBalance:new N("0"),autoBuyStopTime:T()("20190214","YYYYMMDD"),lastTicketExpires:T()("20190101","YYYYMMDD")};console.log("WE",W.walletBalance.toString());var R,O,A,G=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"setBalanceInfo",value:function(e){console.log("balance info ",e),W.lastUpdateTime=new Date,e.ticketPrice&&(W.ticketPrice=new N(e.ticketPrice)),e.allBalances&&(W.walletBalance=new N(e.allBalances["0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"])),e.gasPrice&&(W.gasPrice=new N(e.gasPrice)),e.totalTickets&&(W.totalTickets=e.totalTickets),e.allTickets&&(W.numberOfTickets=Object.keys(e.allTickets).length,W.allTickets=e.allTickets),e.latestBlock&&(W.latestBlock=e.latestBlock)}},{key:"BN",get:function(){return N}},{key:"web3api",get:function(){return L}},{key:"data",get:function(){return W}}]),e}(),P=a(208),j=a.n(P),z=(a(92),G.web3api),I=a(422),M=a(423),_=j()("selectFiles")(function(e){var t,a=e.selectFiles;return A=a,"Wallet File Valid"===O&&(t=r.a.createElement("i",{key:"c11",className:"fa fa-check-circle",style:{color:x.successGreen,marginRight:4}})),r.a.createElement(y.a,{key:O,style:R.selectWalletFileText},t,O)}),V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={accessViaPrivateKey:!1,secureEntry:!0,password:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.accessViaPrivateKey,a=R.unlockWalletButtonDisabled,n=!1;return t&&this.state.privateKeyOK?(a=R.unlockWalletButton,n=!0):!t&&this.state.keyData&&this.state.privateKeyOK&&(a=R.unlockWalletButton,n=!0),r.a.createElement(f.a,{style:R.container},r.a.createElement(f.a,{style:R.innerContainer},r.a.createElement(y.a,{style:R.title},"Access Your Wallet")),r.a.createElement(f.a,{style:R.accessBox},r.a.createElement(y.a,{style:R.textHowToAccess},"How would you like to access your wallet?"),r.a.createElement(f.a,{style:{flexDirection:"row"}},r.a.createElement(g.a,{onPress:function(){e.setState({unlockError:!1,keyData:null,privateKeyOK:!1,password:null,accessViaPrivateKey:!t})}},r.a.createElement(f.a,{style:{flexDirection:"row"}},r.a.createElement(k.a,{source:t?M:I,resizeMode:"contain",style:{width:14,height:14}}),r.a.createElement(y.a,{style:R.radioSelectionText},"Keystore / JSON File"))),r.a.createElement(g.a,{onPress:function(){e.setState({unlockError:!1,keyData:null,privateKeyOK:!1,password:null,accessViaPrivateKey:!t})}},r.a.createElement(f.a,{style:{flexDirection:"row"}},r.a.createElement(k.a,{source:t?I:M,resizeMode:"contain",style:{width:14,height:14}}),r.a.createElement(y.a,{style:R.radioSelectionText},"Private Key")))),r.a.createElement(f.a,{style:R.selectionBox},t?this.privateKeyRender():this.keyStoreRender()),r.a.createElement(g.a,{disabled:!n,onPress:function(){if(e.state.accessViaPrivateKey)G.data.accountUnlocked=!0,G.data.signInfo=z._web3.eth.accounts.privateKeyToAccount(e.state.password),z.walletAddress=G.data.signInfo.address;else try{var t=e.state.keyData,a=t.Crypto||t.crypto;G.data.accountUnlocked=!0,G.data.signInfo=z._web3.eth.accounts.decrypt({crypto:a,version:t.version},e.state.password),z.walletAddress=G.data.signInfo.address}catch(n){return void e.setState({unlockError:!0})}h.push("/Status")}},r.a.createElement(f.a,null,r.a.createElement(y.a,{style:a},"Unlock Wallet")))))}},{key:"keyStoreRender",value:function(){var e=this,t=x.white,a=this.state.unlockError?x.errorRed:x.orderGrey;return O=this.state.keyData?"Wallet File Valid":"Select a Wallet File...",r.a.createElement(f.a,{key:"accek"},r.a.createElement(y.a,{style:R.textHowToAccess},"Select your wallet file and enter your password. Please ensure that the above URL is correct before loading wallets or entering passwords."),r.a.createElement(g.a,{onPress:function(){A({multiple:!1}).then(function(t){if(console.log(t),1===t.length){var a=new FileReader;a.onload=function(t){var a=t.target.result;a||e.setState({error:"Unable to read file",keyData:null});try{var n=JSON.parse(a);console.log(n),n.address?e.setState({error:null,keyData:n}):e.setState({error:"Invalid key store file ",keyData:null})}catch(r){e.setState({error:"Unable to read file",keyData:null})}console.log(t.target.result)},a.onerror=function(t){e.setState({error:"Unable to read file",keyData:null})},a.readAsText(t[0])}})}},r.a.createElement(f.a,{style:[R.selectWalletBox,{backgroundColor:t}]},r.a.createElement(_,null))),this.state.error&&r.a.createElement(y.a,{style:R.errorText},this.state.error),r.a.createElement(y.a,{style:R.labelText},"Enter Your Password"),r.a.createElement(f.a,{style:[R.passwordInputBox,{borderColor:a}]},r.a.createElement(b.a,{style:R.passwordInput,placeholder:"Password",autoCorrect:!1,autoComplete:"current-password",secureTextEntry:this.state.secureEntry,placeholderTextColor:x.orderGrey,maxLength:128,value:this.state.password,onChangeText:function(t){e.setState({unlockError:!1,password:t,privateKeyOK:t&&t.length})}}),r.a.createElement(f.a,{style:{width:1,height:36,backgroundColor:x.orderGrey}}),r.a.createElement(g.a,{onPress:function(){e.setState({secureEntry:!e.state.secureEntry})}},r.a.createElement(f.a,{style:{backgroundColor:x.backgroundGrey,width:32,flex:1,justifyContent:"center",alignItems:"center"}},this.state.secureEntry?r.a.createElement("i",{className:"fa fa-eye"}):r.a.createElement("i",{className:"fa fa-eye-slash"})))),this.state.unlockError&&r.a.createElement(f.a,null,r.a.createElement(f.a,{style:{height:4,width:3}}),r.a.createElement(y.a,{style:R.errorText},"The password provided is invalid.")))}},{key:"privateKeyRender",value:function(){var e=this;return r.a.createElement(f.a,{key:"prik"},r.a.createElement(y.a,{style:R.textHowToAccess},"Enter your private keys. Please ensure that the above URL is correct before loading wallets or entering passwords."),r.a.createElement(f.a,{style:{height:8,width:1}}),r.a.createElement(y.a,{style:R.labelText},"Enter Your Private Key"),r.a.createElement(f.a,{style:R.passwordInputBox},r.a.createElement(b.a,{style:R.passwordInput,placeholder:"Private Key - starts with 0x",autoCorrect:!1,autoComplete:"current-password",secureTextEntry:this.state.secureEntry,placeholderTextColor:x.orderGrey,maxLength:66,value:this.state.password,onChangeText:function(t){t.length<66?e.setState({privateKeyOK:!1,password:t}):e.setState({privateKeyOK:z.web3.utils.isHexStrict(t),password:t})}}),r.a.createElement(f.a,{style:{width:1,height:36,backgroundColor:x.orderGrey}}),r.a.createElement(g.a,{onPress:function(){e.setState({secureEntry:!e.state.secureEntry})}},r.a.createElement(f.a,{style:{backgroundColor:x.backgroundGrey,width:32,flex:1,justifyContent:"center",alignItems:"center"}},this.state.secureEntry?r.a.createElement("i",{class:"fa fa-eye"}):r.a.createElement("i",{class:"fa fa-eye-slash"})))),r.a.createElement(f.a,{style:{height:32,width:1}}))}}]),t}(n.Component);R=p.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",width:"100%"},innerContainer:{width:620,flexGrow:1,flex:1,flexShrink:0,justifyContent:"center",alignItems:"flex-start"},title:{fontSize:24,fontFamily:w.fontFamily,fontWeight:w.boldFont,color:x.textBlue,marginTop:35,alignSelf:"flex-start",marginBottom:16},textHowToAccess:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.textBlue,alignSelf:"flex-start",marginBottom:16},radioSelectionText:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.textBlue,marginRight:16,marginLeft:8},accessBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,alignItems:"flex-start",width:620,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)",paddingTop:24,paddingBottom:24,paddingLeft:32,paddingRight:32},selectWalletBox:{borderColor:x.orderGrey,borderRadius:4,backgroundColor:"white",borderWidth:1,width:516,height:48,overflow:"visible",flex:1,flexBasis:"100%",justifyContent:"center",alignItems:"center",marginBottom:16},passwordInputBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",justifyContent:"flex-end",height:36,width:512,marginTop:4},passwordInput:{fontSize:13,color:x.textBlue,fontFamily:w.fontFamily,fontWeight:w.regularFont,width:482,paddingLeft:6},selectionBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:x.backgroundGrey,borderWidth:1,width:556,alignItems:"flex-start",paddingTop:16,paddingBottom:16,paddingLeft:20,paddingRight:20,marginTop:20},labelText:{fontSize:12,color:x.labelGrey,fontFamily:w.fontFamily,fontWeight:w.regularFont},selectWalletFileText:{fontSize:16,color:x.textBlue,fontFamily:w.fontFamily,fontWeight:w.mediumFont,textAlign:"center"},errorText:{fontSize:12,color:x.errorRed,fontFamily:w.fontFamily,fontWeight:w.regularFont,marginBottom:8},unlockWalletButtonDisabled:{fontSize:16,width:556,borderRadius:3,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.white,backgroundColor:x.disabledBlue,textAlign:"center",padding:12,marginTop:20},unlockWalletButton:{fontSize:16,width:556,borderRadius:3,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.white,backgroundColor:x.linkBlue,textAlign:"center",padding:12,marginTop:20}});var K,U=a(17),H=a(491),Q=a(435),Y=a(436),Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={textWidth:a.props.textWidth||620},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{style:[K.container,{width:this.state.textWidth,opacity:this.props.disabled?.4:1}]},r.a.createElement(f.a,{style:K.containerInner},r.a.createElement(g.a,{disabled:this.props.disabled,onPress:function(){e.props.onPress(!e.props.on)}},r.a.createElement(k.a,{source:this.props.on?Q:Y,style:K.checkOn})),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:K.questionText},this.props.text),this.props.subText&&r.a.createElement(y.a,{style:[K.questionSubText,{width:this.state.textWidth}]},this.props.subText),this.props.children)))}}]),t}(n.Component);K=p.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginTop:10},containerInner:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent"},checkOn:{marginRight:15,width:20,height:20},questionText:{fontSize:14,color:x.textBlue,fontFamily:w.fontFamily,fontWeight:w.mediumFont,marginBottom:6},questionSubText:{fontSize:14,color:x.labelGrey,fontFamily:w.fontFamily,fontWeight:w.mediumFont,marginBottom:16}});var q,J=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"displayNumber2",value:function(e){var t=e;if(e>=1e3){for(var a=Math.floor((""+e).length/3),n="",r=2;r>=1;r--){if(((n=parseFloat((0!==a?e/Math.pow(1e3,a):e).toPrecision(r)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}n%1!==0&&(n=n.toFixed(2)),t=n+["","K","M","B","T"][a]}return t}},{key:"insert",value:function(e,t,a){return e.substr(0,t)+a+e.substr(t)}},{key:"formatWei",value:function(t){"object"===typeof t&&(t=t.toString());var a=t.length;return a<18&&(t="0".repeat(18-a)+t,a=18),t=18===a?"."+t:e.insert(t,t.length-18,"."),"."===(t=e.removeZeros(t,!0,!0,!0)).charAt(0)?"0"+t:0===t.length?0:t}},{key:"removeZeros",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r="",o="";return r=e,o=a?r.replace(/^[0]+/,""):r,t&&o.indexOf(".")>-1&&(o=o.replace(/[0]+$/,"")),n&&(o=o.replace(/[.]$/,"")),o}},{key:"displayNumber",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=" K M G T P E Z Y".split(" ");if(t<0)return"-"+e.displayNumber(Math.abs(t));if(t<1)return t+r[0];var o=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),r.length-1),i=""+(t/Math.pow(1e3,o)).toFixed(a);return n&&(i=e.removeZeros(i)),i+r[o]}},{key:"displayPercent",value:function(e){return(e*=100).toFixed(2)}}]),e}(),$=a(226),X=(a(476),G.data.BN),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).state={ticketQuantity:void 0,daysQuantity:"30",totalCost:0,daysError:!1,totalCostString:"0",autoBuyTickets:!1,reinvestReward:!1,autoBuyStopDate:!1,totalPrice:new X(0),error:!1,repaintKey:0,date:new Date((new Date).getTime()+864e5)},a.onChangeDate=a.onChangeDate.bind(Object(U.a)(Object(U.a)(a))),a.balanceListener=a.balanceListener.bind(Object(U.a)(Object(U.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"totalStake",value:function(e){return e.numberOfTickets*e.ticketPrice}},{key:"balanceListener",value:function(e){G.setBalanceInfo(e),this.calcDisplay(G.data,this.state.ticketQuantity),this.setState({repaintKey:this.state.repaintKey+1})}},{key:"componentDidMount",value:function(){G.web3api.on("balanceInfo",this.balanceListener)}},{key:"componentWillUnmount",value:function(){G.web3api.removeEventListener("balanceInfo",this.balanceListener)}},{key:"render",value:function(){var e,t,a=this,n=G.data,o=q.purchaseTicketButtonDisabled,i=!1,l="Purchase Tickets";n.accountUnlocked&&(n.web3api.walletAddress=n.signInfo.address),this.state.ticketQuantity>0&&(o=q.purchaseTicketButton,i=!0,l=1===this.state.ticketQuantity?"Purchase 1 Ticket":"Purchase ".concat(this.state.ticketQuantity," Tickets")),this.state.error?(i=!1,o=q.purchaseTicketButtonDisabled,e=x.errorRed):e=x.textBlue,this.state.daysError?(i=!1,o=q.purchaseTicketButtonDisabled,t=x.errorRed):t=x.textBlue;var s=n.totalTickets>0?J.displayPercent(n.numberOfTickets/n.totalTickets):"0.00";if("0.00"===s&&n.numberOfTickets>0&&(s="< 0.01"),!n.accountUnlocked)return r.a.createElement(f.a,{style:{padding:15}},r.a.createElement(y.a,{style:q.Auto_Buy_Stake_Monit},"You Account Must be unlocked to use this screen."),r.a.createElement(g.a,{style:{width:100},onPress:function(){h.push("/UnlockAccount")}},r.a.createElement(y.a,{style:q.activeButton},"Select An Account")));var c=this.state.error?x.errorRed:x.orderGrey;return r.a.createElement(f.a,{style:{marginLeft:30,backgroundColor:x.backgroundGrey}},r.a.createElement(f.a,{style:q.container},r.a.createElement(y.a,{style:q.Auto_Buy_Stake_Monit},"Purchase Staking Tickets"),r.a.createElement(f.a,{style:q.walletBox},r.a.createElement(y.a,{style:q.walletLabel},"Wallet Address"),r.a.createElement(g.a,{onPress:function(){H.a.setString(n.signInfo.address)}},r.a.createElement(y.a,{style:q.walletLabelAddress},n.signInfo.address,r.a.createElement("i",{style:{marginLeft:4},className:"fa fa-copy"})))),r.a.createElement(f.a,{style:q.stakeDetailBox},r.a.createElement(y.a,{style:q.infoText},"Earn rewards by purchasing staking tickets. You will earn a reward of 2.5 FSN per selected ticket. If your ticket is not selected, your FSN will be returned when the ticket expires (30 days after purchase). NOTE: Only one ticket at a time can be purchased per block for an address.",r.a.createElement(g.a,{onPress:function(){window.open("https://fusion.org")}},r.a.createElement(y.a,{style:[q.infoTextLink,{marginLeft:4}]},"Learn More"))),r.a.createElement(f.a,{style:{height:20}}),r.a.createElement(f.a,{style:q.orderBorder}),r.a.createElement(f.a,{style:[q.fundsDetailRow,{backgroundColor:x.backgroundGrey}]},r.a.createElement(y.a,{style:q.labelLineText},"Funds Available"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:q.statText},J.formatWei(n.walletBalance),r.a.createElement(y.a,{style:q.stakeTextFSN},"FSN")))),r.a.createElement(f.a,{style:q.orderBorder}),r.a.createElement(f.a,{style:q.stakeDetailRow},r.a.createElement(y.a,{style:q.labelLineText},"Ticket Price"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:q.valText},J.formatWei(n.ticketPrice),r.a.createElement(y.a,{style:q.stakeTextFSN},"FSN")))),r.a.createElement(f.a,{style:q.orderBorder}),r.a.createElement(f.a,{style:q.stakeDetailRow},r.a.createElement(y.a,{style:q.labelLineText},"Gas Price"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:q.valText},J.formatWei(n.gasPrice),r.a.createElement(y.a,{style:q.stakeTextFSN},"FSN")))),r.a.createElement(f.a,{style:q.orderBorder}),r.a.createElement(f.a,{style:[q.stakeDetailRow,{height:78}]},r.a.createElement(y.a,{style:q.labelLineText},"Ticket Quantity"),r.a.createElement(f.a,null,r.a.createElement(f.a,{style:{flex:1,flexDirection:"row"}},this.state.error&&r.a.createElement(f.a,{style:q.errorForFundsBox},r.a.createElement(y.a,{style:q.errorForFunds},"You don't have enough FSN"),r.a.createElement("i",{style:{position:"relative",left:-1,color:x.errorRed},className:"fa fa-caret-right"})),r.a.createElement(b.a,{style:[q.ticketQuantityInput,{borderColor:c}],placeholder:"0",autoCorrect:!1,placeholderTextColor:x.orderGrey,maxLength:10,value:""+(this.state.ticketQuantity||""),onChangeText:function(e){a.calcDisplay(n,e)}})),r.a.createElement(g.a,{onPress:function(){var e=new X(n.gasPrice),t=new X(n.ticketPrice);t=t.add(e);var r=n.walletBalance.div(t);a.calcDisplay(n,r.toNumber())}},r.a.createElement(y.a,{style:q.maxIt},"Max Quantity")))),r.a.createElement(f.a,{style:q.orderBorder}),r.a.createElement(f.a,{style:[q.stakeDetailRow,{height:78}]},r.a.createElement(y.a,{style:q.labelLineText},"Ticket Days"),r.a.createElement(f.a,null,r.a.createElement(f.a,{style:{flex:1,flexDirection:"row"}},r.a.createElement(b.a,{style:[q.ticketQuantityInput,{color:t,borderColor:this.state.daysError?x.errorRed:x.orderGrey}],placeholder:"30",autoCorrect:!1,placeholderTextColor:x.orderGrey,maxLength:10,value:""+(this.state.daysQuantity||""),onChangeText:function(e){var t=parseInt(e);isNaN(t)||t<1||t>100?a.setState({daysQuantity:e,daysError:!0}):a.setState({daysQuantity:t,daysError:!1})}})),r.a.createElement(y.a,{style:[q.maxIt,{color:x.orderGrey}]},"(1-100)"))),r.a.createElement(f.a,{style:q.orderBorder}),r.a.createElement(f.a,{style:{height:16,width:1}}),r.a.createElement(f.a,{style:[q.stakeDetailRow,{height:30}]},r.a.createElement(y.a,{style:q.labelLineText},"Total Cost"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:q.costCalcLineText},"Ticket Cost ",this.state.ticketQuantity||"0"," x"," ",J.formatWei(n.ticketPrice)," FSN"))),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:q.costCalcLineText},"Gas Cost ",this.state.ticketQuantity||"0"," x"," ",J.formatWei(n.gasPrice)," FSN"),r.a.createElement(f.a,{style:{height:16,width:1}}),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:[q.stakeTextVal,{color:e}]},this.state.totalCostString,r.a.createElement(y.a,{style:q.stakeTextFSN},"FSN")))),r.a.createElement(f.a,{style:{height:20,width:1}}),r.a.createElement(f.a,{style:q.orderBorder}),r.a.createElement(f.a,{style:{height:16,width:1}}),r.a.createElement(Z,{textWidth:512,onPress:function(){var e={autoBuyTickets:!a.state.autoBuyTickets};e.autoBuyTickets||(e.autoBuyStopDate=!1),a.setState(e)},on:this.state.autoBuyTickets,text:"Auto Buy Tickets",subText:"Tickets will be repurchased when they expire or when they win rewards"}),r.a.createElement(Z,{textWidth:512,onPress:function(){a.setState({reinvestReward:!a.state.reinvestReward})},on:this.state.reinvestReward,text:"Reinvest Reward",subText:"Rewards that are won will be reinvested to purchase more tickets when enough rewards are collected."}),r.a.createElement(Z,{textWidth:512,disabled:!this.state.autoBuyTickets,onPress:function(){a.setState({autoBuyStopDate:!a.state.autoBuyStopDate})},on:this.state.autoBuyStopDate,text:"Auto Buy Stop Date",subText:"Auto Buy will stop on desired date"},this.state.autoBuyStopDate&&r.a.createElement($.a,{onChange:this.onChangeDate,selected:this.state.date,minDate:new Date((new Date).getTime()+864e5),showTimeSelect:!0,dateFormat:"Pp"})),r.a.createElement(g.a,{disabled:!i,onPress:function(){a.purchaseTicket()}},r.a.createElement(f.a,null,r.a.createElement(y.a,{style:o},l))),r.a.createElement(f.a,{style:{height:16,width:1}}),r.a.createElement(y.a,{style:q.footerText},"Funds used to purchase tickets will be sent back after tickets have expired. Tickets expire 30 days after date of purchase. Your browser window must remain open to continue autobuy."))))}},{key:"purchaseTicket",value:function(){G.web3api.buyTickets(this.state),this.setState({purchasingTicket:!0}),h.push("/Status")}},{key:"onChangeDate",value:function(e){var t=new Date((new Date).getTime()+864e5);e.getTime()<t.getTime()&&(e=t),this.setState({date:e})}},{key:"calcDisplay",value:function(e,t){var a=parseInt(t);!a&&(0!==a||a<0)&&(a=0);var n=new X(a);n=n.mul(e.gasPrice);var r=new X(a);r=r.mul(e.ticketPrice),n=n.add(r);var o=J.formatWei(n.toString());this.setState({ticketQuantity:a,totalPrice:n,totalCostString:o,error:n.gt(e.walletBalance)})}}]),t}(n.Component);q=p.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",marginTop:15,marginLeft:15,backgroundColor:x.backgroundGrey},sectionTitle:{fontSize:24,lineHeight:32,fontFamily:"Roboto, san-serif",fontWeight:w.boldFont,color:x.textBlue},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"},Auto_Buy_Stake_Monit:{fontSize:24,lineHeight:32,fontFamily:w.fontFamily,fontWeight:w.boldFont,color:x.textBlue,marginBottom:4},lastUpdated:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.labelGrey},labelLineText:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.labelGrey},simpleLineText:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.textBlue},activeButton:{color:x.textGreen,fontSize:14,backgroundColor:x.lightSuccessGreen,fontFamily:w.fontFamily,padding:8,fontWeight:w.regularFont},stopAutoBuyButton:{padding:8,fontSize:14,color:x.errorRed,fontWeight:w.regularFont},startAutoBuyButton:{color:x.textBlue,padding:8,fontSize:14,fontWeight:w.regularFont},inActiveButton:{color:x.textBlue,fontSize:14,backgroundColor:x.backgroundGrey,fontFamily:w.fontFamily,padding:8,fontWeight:w.regularFont},stakingMonitorActive:{fontSize:32,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.boldFont,marginTop:8,marginBottom:4},stakingMonitorActivePercent:{fontSize:32,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.boldFont,marginTop:4,marginBottom:4,marginLeft:1},largeMetricBox:{flex:1,flexBasis:"100%",flexDirection:"row",justifyContent:"space-between",marginTop:20,width:620},stakeTextFSN:{fontFamily:w.fontFamily,fontSize:12,fontWeight:w.regularFont,marginLeft:4},viewTicketDetails:{fontFamily:w.fontFamily,fontSize:12,fontWeight:w.regularFont,color:x.linkBlue},maxIt:{fontFamily:w.fontFamily,fontSize:12,fontWeight:w.mediumFont,color:x.linkBlue,alignSelf:"flex-end"},stakeTextVal:{fontSize:18,fontFamily:w.fontFamily,fontWeight:w.boldFont,color:x.textBlue,alignSelf:"flex-end"},valText:{fontSize:18,fontFamily:w.fontFamily,fontWeight:w.mediumFont,color:x.textBlue,alignSelf:"flex-end"},dateValue:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.textBlue},statText:{fontSize:18,fontFamily:w.fontFamily,fontWeight:w.mediumFont,color:x.textBlue},infoText:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.mediumFont,color:x.textGrey,lineHeight:"1.71"},infoTextLink:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.mediumFont,color:x.linkBlue},orderBorder:{backgroundColor:x.orderGrey,height:1,width:556},rewardsGivenBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:200,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rewardHolderView:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:388,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rwcTextViewbox:{marginBottom:16},rewardHolderViewText:{width:227,marginLeft:32,flex:1,flexBasis:"100%",justifyContent:"center"},rewardHolderViewGradient:{backgroundImage:"linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0))",width:40,marginLeft:32,position:"absolute",height:130,left:138},rewardGivenBoxTextHolder:{marginLeft:32,paddingTop:8},textNumberOfRewardsGivenType:{fontSize:12,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.regularFont,marginBottom:10,marginLeft:4},textNumberOfRewardsGivenTypeSmaller:{fontSize:12,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.regularFont,marginBottom:6,marginLeft:4},textNumberOfRewardsGiven:{fontSize:48,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.boldFont,marginTop:8},textNumberOfRewardsGivenSmaller:{fontSize:36,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.boldFont,marginTop:8},rewardsGivenBoxRewardCount:{flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",marginTop:-2},lineGraph:{width:216,height:126,position:"absolute",left:170,overflow:"visible"},walletBox:{backgroundColor:x.tagGrey,borderRadius:3,width:620,height:48,marginTop:20,flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},walletLabel:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,marginLeft:32,color:x.labelGrey},walletLabelAddress:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.regularFont,marginRight:32,color:x.textBlue},stakeDetailText:{color:x.textBlue,fontSize:18,fontFamily:w.fontFamily,fontWeight:w.boldFont},stakesPurchaseTicketButtton:{borderRadius:3,padding:8,backgroundColor:x.primaryBlue,color:x.white,fontSize:14,fontFamily:w.fontFamily,fontWeight:w.mediumFont},stakesStopAutoBuy:{borderColor:x.backgroundGrey,borderWidth:1,borderRadius:3,padding:8,backgroundColor:x.white},stakesStopAutoBuyText:{backgroundColor:x.white,color:x.errorRed,fontSize:14,fontFamily:w.fontFamily,fontWeight:w.mediumFont},stakeDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:56},fundsDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:44},errorForFunds:{fontSize:12,fontWeight:w.mediumFont,fontFamily:w.fontFamily,color:x.white,backgroundColor:x.errorRed,paddingTop:6,paddingBottom:6,paddingLeft:8,paddingRight:8,borderRadius:3,height:24,alignSelf:"center"},errorForFundsBox:{flex:1,flexDirection:"row",marginRight:6,alignItems:"center"},ticketQuantityInput:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,fontSize:14,fontFamily:w.mediumFont,color:x.labelGrey,height:36,width:110,marginTop:6,marginBottom:6,alignSelf:"flex-end",textAlign:"right",paddingRight:4,paddingLeft:4,outline:"none"},costCalcLineText:{fontFamily:w.fontFamily,fontSize:12,fontWeight:w.mediumFont,color:x.labelGrey,alignSelf:"flex-end"},purchaseTicketButtonDisabled:{fontSize:16,width:556,borderRadius:3,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.white,backgroundColor:x.disabledBlue,textAlign:"center",padding:12,marginTop:20},purchaseTicketButton:{fontSize:16,width:556,borderRadius:3,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.white,backgroundColor:x.linkBlue,textAlign:"center",padding:12,marginTop:20},footerText:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.mediumFont,color:x.disabledGrey}});var te,ae=ee,ne=G.web3api,re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).lastestBlockListener=a.lastestBlockListener.bind(Object(U.a)(Object(U.a)(a))),a.state={},a.state.block=null,a.state.expand=!1,a.state.displayLeftRight=e.displayLeftRight,a.props.match&&a.props.match.params&&a.props.match.params.blockNumber&&(a.state.blockNumberToDisplay=a.props.match.params.blockNumber,a.state.expand=!0,a.state.displayLeftRight=!0),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.block||this.state.block;if(!t)return r.a.createElement(y.a,null,"Lastest Block Will Display Here");if(this.state.expand){var a=[];if(t.transactions&&t.transactions.length>0){var n=!0,o=!1,i=void 0;try{for(var l,s=t.transactions[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=l.value;a.push(r.a.createElement(f.a,{key:c},r.a.createElement(y.a,null,c)))}}catch(u){o=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}return r.a.createElement(f.a,{style:oe.stakeDetailBox},r.a.createElement(f.a,{style:{flex:1,flexDirection:"row"}},r.a.createElement(g.a,{onPress:function(){e.setState({expand:!1})}},r.a.createElement(y.a,null,"Latest Block Number = ",t.number,r.a.createElement("i",{style:{color:x.textBlue,marginLeft:4},className:"fa fa-caret-up"}))),this.state.displayLeftRight&&r.a.createElement(f.a,{style:{flex:1,flexDirection:"row"}},r.a.createElement(g.a,{onPress:function(){e.cleanupBlock(),e.setupBlock(t.number-1)}},r.a.createElement("i",{style:{color:x.textBlue,marginLeft:4,marginRight:8,fontSize:16},className:"fa fa-caret-left"})),r.a.createElement(g.a,{onPress:function(){e.setState({expand:!1})}},r.a.createElement("i",{style:{color:x.textBlue,marginLeft:4,fontSize:16},className:"fa fa-caret-right"})))),r.a.createElement(f.a,{style:{height:8,width:1}}),r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Time Stamp"),r.a.createElement(y.a,{style:oe.stakeTextFSN},"(",t.timestamp,") ",new Date(1e3*t.timestamp).toString())),r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Hash"),r.a.createElement(y.a,{style:oe.stakeTextFSN},t.hash)),r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Parent Hash"),r.a.createElement(y.a,{style:oe.stakeTextFSN},t.parentHash)),r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Miner"),r.a.createElement(y.a,{style:oe.stakeTextFSN},t.miner)),r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Nonce"),r.a.createElement(y.a,{style:oe.stakeTextFSN},t.nonce)),r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Size"),r.a.createElement(y.a,{style:oe.stakeTextFSN},t.size)),r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Gas Used:"),r.a.createElement(y.a,{style:oe.stakeTextFSN},t.gasUsed)),r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Gas Limit:"),r.a.createElement(y.a,{style:oe.stakeTextFSN},t.gasLimit)),r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Transactions #:"),r.a.createElement(y.a,{style:oe.stakeTextFSN},t.transactions.length)),a,r.a.createElement(f.a,{style:oe.orderBorder}),r.a.createElement(f.a,{style:oe.blockDetailRow},r.a.createElement(y.a,{style:oe.labelLineText},"Total Difficulty:"),r.a.createElement(y.a,{style:oe.stakeTextFSN},t.totalDifficulty)),r.a.createElement(f.a,{style:oe.orderBorder}))}return r.a.createElement(g.a,{onPress:function(){e.setState({expand:!0})}},r.a.createElement(f.a,{style:oe.stakeDetailSmall},r.a.createElement(y.a,null,"Latest Block Number = ",t.number,r.a.createElement("i",{style:{color:x.textBlue,marginLeft:4},className:"fa fa-caret-down"}))))}},{key:"lastestBlockListener",value:function(e){this.setState({block:e})}},{key:"setupBlock",value:function(e){var t=e||this.state.blockNumberToDisplay;this.props.block||(t?ne.getBlock(!0,t,this.lastestBlockListener):ne.on("latestBlock",this.lastestBlockListener)),void 0!==e&&this.setState({blockNumberToDisplay:e})}},{key:"cleanupBlock",value:function(){this.props.block||(this.state.blockNumberToDisplay?ne.getBlock(!1,this.state.blockNumberToDisplay,this.lastestBlockListener):ne.removeEventListener("latestBlock",this.lastestBlockListener))}},{key:"componentDidMount",value:function(){this.setupBlock()}},{key:"componentWillUnmount",value:function(){this.cleanupBlock()}}]),t}(n.Component),oe=p.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"flex-start",marginTop:15,marginLeft:15,backgroundColor:x.backgroundGrey},stakeDetailBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,paddingRight:32,paddingTop:12,paddingBottom:12,paddingLeft:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailSmall:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:12,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},labelLineText:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.labelGrey},stakeTextFSN:{fontFamily:w.fontFamily,fontSize:12,fontWeight:w.regularFont,marginLeft:4},stakeTextVal:{fontSize:18,fontFamily:w.fontFamily,fontWeight:w.boldFont,alignSelf:"flex-end",color:x.textBlue},blockDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:44},orderBorder:{backgroundColor:x.orderGrey,height:1,width:556}}),ie=G.BN,le=a(478),se=a(479),ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).state={paintKey:0,ticketDisplayOn:!1,lastTicketStatus:""},a.balanceListener=a.balanceListener.bind(Object(U.a)(Object(U.a)(a))),a.purchaseTikStatus=a.purchaseTikStatus.bind(Object(U.a)(Object(U.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"totalStake",value:function(e){return e.ticketPrice.mul(new ie(e.numberOfTickets))}},{key:"balanceListener",value:function(e){G.setBalanceInfo(e),this.setState({paintKey:this.state.paintKey+1})}},{key:"purchaseTikStatus",value:function(e){this.setState({lastTicketStatus:e.lastCall})}},{key:"componentDidMount",value:function(){G.web3api.on("balanceInfo",this.balanceListener),G.web3api.on("purchaseAgain",this.purchaseTikStatus),G.web3api.on("purchaseCompleted",this.purchaseTikStatus),G.web3api.on("purchaseStarted",this.purchaseTikStatus),G.web3api.on("purchaseWaitForNewBlock",this.purchaseTikStatus),G.web3api.on("purchaseSubmitTicket",this.purchaseTikStatus)}},{key:"componentWillUnmount",value:function(){G.web3api.removeEventListener("balanceInfo",this.balanceListener),G.web3api.removeEventListener("purchaseAgain",this.purchaseTikStatus),G.web3api.removeEventListener("purchaseCompleted",this.purchaseTikStatus),G.web3api.removeEventListener("purchaseStarted",this.purchaseTikStatus),G.web3api.removeEventListener("purchaseWaitForNewBlock",this.purchaseTikStatus),G.web3api.removeEventListener("purchaseSubmitTicket",this.purchaseTikStatus)}},{key:"render",value:function(){var e=this,t=G.data;ie||(ie=G.BN),t.accountUnlocked&&(t.web3api.walletAddress=t.signInfo.address);var a,n,o=J.formatWei(t.rewardsToDate),i=1===t.totalTickets?"Ticket":"Tickets";o.length<4?(a=te.textNumberOfRewardsGiven,n=te.textNumberOfRewardsGivenType):(n=te.textNumberOfRewardsGivenTypeSmaller,a=te.textNumberOfRewardsGivenSmaller);var l=t.totalTickets>0?J.displayPercent(t.numberOfTickets/t.totalTickets):"0.00";"0.00"===l&&t.numberOfTickets>0&&(l="< 0.01");var s,c=new T.a(t.lastUpdateTime),u=G.data.ticketPurchasing;void 0===u&&(u={activeTicketPurchase:!1});var d=u.lastTicketStatus;u.activeTicketPurchase&&(s=r.a.createElement(f.a,{key:"ticketPurchaseView"},r.a.createElement(y.a,null,"".concat(u.ticketsPurchased," of ").concat(u.ticketQuantity)),r.a.createElement(y.a,null,d)));var m=c.toString();if(!t.accountUnlocked)return r.a.createElement(f.a,{style:{padding:15}},r.a.createElement(y.a,{style:te.Auto_Buy_Stake_Monit},"You Account Must be unlocked to use this screen."),r.a.createElement(g.a,{style:{width:100},onPress:function(){h.push("/UnlockAccount")}},r.a.createElement(y.a,{style:te.activeButton},"Select An Account")));if(this.state.ticketDisplayOn){for(var b=Object.keys(t.allTickets?t.allTickets:{}),p=[],w=0;w<b.length;w++){var E=b[w],B=t.allTickets[E],S=T()(new Date(1e3*B.ExpireTime)).format("L LT z");p.push(r.a.createElement(f.a,{key:""+B.ExpireTime},r.a.createElement(f.a,{style:te.ticketDetailRow},r.a.createElement(y.a,{style:[te.labelLineText,{width:120}]},S),r.a.createElement(y.a,{style:[te.labelLineText,{textAlign:"center",width:60}]},J.formatWei(t.ticketPrice)),r.a.createElement(y.a,{style:[te.labelLineText,{textAlign:"right",width:366,fontSize:10}]},B.ID)),r.a.createElement(f.a,{style:te.orderBorder})))}return r.a.createElement(f.a,{style:te.container},r.a.createElement(f.a,null,r.a.createElement(f.a,{style:te.stakeDetailBox},r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.stakeDetailText},"Ticket Details",r.a.createElement(y.a,{style:te.dateValue},"  "+t.numberOfTickets+(1===t.numberOfTickets?" Ticket":" Tickets")))),r.a.createElement(f.a,{style:te.ticketDetailRow},r.a.createElement(y.a,{style:[te.labelLineText,{width:120}]},"Expiration Time"),r.a.createElement(y.a,{style:[te.labelLineText,{width:80}]},"Ticket Price"),r.a.createElement(y.a,{style:[te.labelLineText,{textAlign:"right",width:340}]},"Ticket Hash"),r.a.createElement(f.a,null)),r.a.createElement(f.a,{style:te.orderBorder}),p),r.a.createElement(g.a,{onPress:function(){e.setState({ticketDisplayOn:!1})},style:te.closeButton},r.a.createElement(k.a,{resizeMode:"contain",source:se,style:{width:14,height:14}}))))}return r.a.createElement(f.a,{style:{marginLeft:30,backgroundColor:x.backgroundGrey}},r.a.createElement(f.a,{style:te.container},r.a.createElement(f.a,{style:te.titleBox},r.a.createElement(y.a,{style:te.Auto_Buy_Stake_Monit},"Auto Buy Stake Monitor"),r.a.createElement(g.a,null,r.a.createElement(y.a,{style:te.lastUpdated},"Last Updated: ".concat(m)))),r.a.createElement(f.a,{style:te.walletBox},r.a.createElement(y.a,{style:te.walletLabel},"Wallet Address"),r.a.createElement(g.a,{onPress:function(){H.a.setString(t.signInfo.address)}},r.a.createElement(y.a,{style:te.walletLabelAddress},t.signInfo.address,r.a.createElement("i",{style:{marginLeft:4},className:"fa fa-copy"})))),r.a.createElement(f.a,{style:{height:10,width:1}}),r.a.createElement(re,{block:t.latestBlock}),r.a.createElement(f.a,{style:{height:10,width:1}}),r.a.createElement(f.a,{style:te.largeMetricBox},r.a.createElement(f.a,{style:te.rewardHolderView},r.a.createElement(k.a,{resizeMode:"contain",source:le,style:te.lineGraph}),r.a.createElement(f.a,{style:te.rewardHolderViewGradient}),r.a.createElement(f.a,{style:te.rewardHolderViewText},r.a.createElement(f.a,{style:te.rwcTextViewbox},r.a.createElement(y.a,{style:te.labelLineText},"Current Reward Probablity"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:te.stakingMonitorActive},l,r.a.createElement(y.a,{style:te.stakingMonitorActivePercent},"%"))),r.a.createElement(y.a,{style:te.simpleLineText},"".concat(t.numberOfTickets," of ").concat(J.displayNumber(t.totalTickets,t.totalTickets<1e3?0:2)," ").concat(i))))),r.a.createElement(f.a,{style:te.rewardsGivenBox},r.a.createElement(f.a,{style:te.rwcTextViewbox},r.a.createElement(f.a,{style:te.rewardGivenBoxTextHolder},r.a.createElement(y.a,{style:te.labelLineText},"Rewards to Date"),r.a.createElement(f.a,{style:te.rewardsGivenBoxRewardCount},r.a.createElement(y.a,{style:a},o),r.a.createElement(y.a,{style:n},"FSN")))))),r.a.createElement(f.a,{style:te.stakeDetailBox},r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.stakeDetailText},"Stake Details"),r.a.createElement(g.a,{onPress:function(){t.autoBuyOn||0!==t.numberOfTicketsToPurchase?alert("do something"):h.push("/PurchaseTicket")}},this.handleStakeButtons(t,u))),r.a.createElement(f.a,{style:{height:20}}),r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"Staking Status"),s,u.activeTicketPurchase?r.a.createElement(y.a,{key:"ab1",style:te.activeButton},"Active"):r.a.createElement(y.a,{key:"ab1",style:te.inActiveButton},"Inactive")),r.a.createElement(f.a,{style:te.orderBorder}),r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"Active Tickets"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:te.stakeTextVal},t.numberOfTickets,r.a.createElement(y.a,{style:te.stakeTextFSN},"FSN")),t.numberOfTickets>0&&r.a.createElement(g.a,{onPress:function(){e.setState({ticketDisplayOn:!0})}},r.a.createElement(y.a,{style:te.viewTicketDetails},"View Ticket Details")))),r.a.createElement(f.a,{style:te.orderBorder}),r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"Rewards to Date"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:te.stakeTextVal},J.formatWei(t.rewardsToDate),r.a.createElement(y.a,{style:te.stakeTextFSN},"FSN")))),r.a.createElement(f.a,{style:te.orderBorder}),r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"FSN Staked"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:te.stakeTextVal},J.formatWei(this.totalStake(t)),r.a.createElement(y.a,{style:te.stakeTextFSN},"FSN")))),r.a.createElement(f.a,{style:te.orderBorder}),r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"FSN Available"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:te.stakeTextVal},J.formatWei(t.walletBalance),r.a.createElement(y.a,{style:te.stakeTextFSN},"FSN")))),r.a.createElement(f.a,{style:te.orderBorder}),r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"Total FSN"),r.a.createElement(f.a,null,r.a.createElement(y.a,{style:te.stakeTextVal},J.formatWei(t.walletBalance.add(this.totalStake(t))),r.a.createElement(y.a,{style:te.stakeTextFSN},"FSN")))),r.a.createElement(f.a,{style:te.orderBorder}),t.autoBuyOn&&r.a.createElement(f.a,{key:"aaa"},r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"Auto Buy Tickets"),r.a.createElement(y.a,{key:"ab1",style:te.activeButton},"On")),r.a.createElement(f.a,{style:te.orderBorder}),r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"Auto Reinvest Reward"),r.a.createElement(y.a,{key:"ab1",style:t.autoReinvestReward?te.activeButton:te.inActiveButton},t.autoReinvestReward?"On":"Off")),r.a.createElement(f.a,{style:te.orderBorder}),r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"Auto Buy Stop Time"),r.a.createElement(y.a,{style:te.dateValue},t.autoBuyStopTime?t.autoBuyStopTime.format("lll"):"Never")),r.a.createElement(f.a,{style:te.orderBorder}),r.a.createElement(f.a,{style:te.stakeDetailRow},r.a.createElement(y.a,{style:te.labelLineText},"Last Ticket Expires"),r.a.createElement(y.a,{style:te.dateValue},t.lastTicketExpires?t.lastTicketExpires.format("lll"):"----")),r.a.createElement(f.a,{style:te.orderBorder})))))}},{key:"handleStakeButtons",value:function(e,t){return t.activeTicketPurchase?t.activeTicketPurchase?r.a.createElement(f.a,{style:{borderRadius:3,borderWidth:1,borderColor:x.orderGrey}},r.a.createElement(y.a,{key:"ab1",style:te.stopAutoBuyButton},"Stop Purchasing")):r.a.createElement(f.a,{style:{borderRadius:3,borderWidth:1,borderColor:x.orderGrey}},r.a.createElement(y.a,{key:"ab1",style:te.startAutoBuyButton},"Start Auto Buy")):r.a.createElement(y.a,{key:"ab1",style:te.stakesPurchaseTicketButtton},"Purchase Staking Tickets")}}]),t}(n.Component);te=p.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",marginTop:15,marginLeft:15,backgroundColor:x.backgroundGrey},sectionTitle:{fontSize:24,lineHeight:32,fontFamily:"Roboto, san-serif",fontWeight:w.boldFont,color:x.textBlue},sectionNumberTitle:{fontSize:18,color:"rgb(22,22,22)",marginTop:30,marginBottom:10},info:{fontSize:16,color:"rgba(22,22,22, .5)"},imageUploadSection:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:"transparent",marginLeft:35,marginTop:15},actionButtonDisabled:{backgroundColor:"#20C0FF",height:35,width:130,opacity:.5,boxShadow:"5px 10px 18px #888888"},actionButtonTextDisabled:{color:"#7f7f7f",fontSize:19,marginTop:7,textAlign:"center"},actionButton:{backgroundColor:"#20C0FF",height:35,width:130,boxShadow:"5px 10px 18px #888888"},actionButtonText:{color:"#FFFFFF",fontSize:19,marginTop:7,textAlign:"center"},label:{fontSize:14,color:"rgba(22,22,22,.5)",width:160,marginBottom:5},balanceBox:{width:160,marginBottom:5,flex:1,flexDirection:"row",justifyContent:"flex-start",flexBasis:"100%"},Auto_Buy_Stake_Monit:{fontSize:24,lineHeight:32,fontFamily:w.fontFamily,fontWeight:w.boldFont,color:x.textBlue,marginBottom:4,alignSelf:"flex-start"},lastUpdated:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.labelGrey,alignSelf:"flex-start"},labelLineText:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.labelGrey},simpleLineText:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.textBlue},activeButton:{color:x.textGreen,fontSize:14,backgroundColor:x.lightSuccessGreen,fontFamily:w.fontFamily,padding:8,fontWeight:w.regularFont},stopAutoBuyButton:{padding:8,fontSize:14,color:x.errorRed,fontWeight:w.regularFont},startAutoBuyButton:{color:x.textBlue,padding:8,fontSize:14,fontWeight:w.regularFont},inActiveButton:{color:x.textBlue,fontSize:14,backgroundColor:x.backgroundGrey,fontFamily:w.fontFamily,padding:8,fontWeight:w.regularFont},stakingMonitorActive:{fontSize:32,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.boldFont,marginTop:8,marginBottom:4},stakingMonitorActivePercent:{fontSize:32,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.boldFont,marginTop:4,marginBottom:4,marginLeft:1},largeMetricBox:{flex:1,flexBasis:"100%",flexDirection:"row",justifyContent:"space-between",marginTop:20,width:620},stakeTextFSN:{fontFamily:w.fontFamily,fontSize:12,fontWeight:w.regularFont,marginLeft:4},viewTicketDetails:{fontFamily:w.fontFamily,fontSize:12,fontWeight:w.regularFont,color:x.linkBlue},stakeTextVal:{fontSize:18,fontFamily:w.fontFamily,fontWeight:w.boldFont,alignSelf:"flex-end",color:x.textBlue},dateValue:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.textBlue},orderBorder:{backgroundColor:x.orderGrey,height:1,width:556},rewardsGivenBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:200,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},stakeDetailBox:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,width:620,padding:32,flex:1,flexBasis:"100%",marginTop:24,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rewardHolderView:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,flexDirection:"row",alignItems:"center",width:388,height:132,overflow:"visible",boxShadow:"0 2px 0 0 rgba(189, 196, 206, 0.2)"},rwcTextViewbox:{marginBottom:16},rewardHolderViewText:{width:227,marginLeft:32,flex:1,flexBasis:"100%",justifyContent:"center"},rewardHolderViewGradient:{backgroundImage:"linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0))",width:40,marginLeft:32,position:"absolute",height:130,left:138},rewardGivenBoxTextHolder:{marginLeft:32,paddingTop:8},textNumberOfRewardsGivenType:{fontSize:12,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.regularFont,marginBottom:10,marginLeft:4},textNumberOfRewardsGivenTypeSmaller:{fontSize:12,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.regularFont,marginBottom:6,marginLeft:4},textNumberOfRewardsGiven:{fontSize:48,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.boldFont,marginTop:8},textNumberOfRewardsGivenSmaller:{fontSize:36,fontFamily:w.fontFamily,color:x.textBlue,fontWeight:w.boldFont,marginTop:8},rewardsGivenBoxRewardCount:{flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",marginTop:-2},lineGraph:{width:216,height:126,position:"absolute",left:170,overflow:"visible"},titleBox:{width:620},walletBox:{backgroundColor:x.tagGrey,borderRadius:3,width:620,height:48,marginTop:20,flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},walletLabel:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,marginLeft:32,color:x.labelGrey},walletLabelAddress:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.regularFont,marginRight:32,color:x.textBlue},stakeDetailText:{color:x.textBlue,fontSize:18,fontFamily:w.fontFamily,fontWeight:w.boldFont},stakesPurchaseTicketButtton:{borderRadius:3,padding:8,backgroundColor:x.primaryBlue,color:x.white,fontSize:14,fontFamily:w.fontFamily,fontWeight:w.mediumFont},stakesStopAutoBuy:{borderColor:x.backgroundGrey,borderWidth:1,borderRadius:3,padding:8,backgroundColor:x.white},stakesStopAutoBuyText:{backgroundColor:x.white,color:x.errorRed,fontSize:14,fontFamily:w.fontFamily,fontWeight:w.mediumFont},stakeDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:56},ticketDetailRow:{flex:1,flexBasis:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:44,width:620},closeButton:{width:14,height:14,position:"absolute",right:18,top:24,padding:8}});var ue,de=ce,fe=a(492),me=G.web3api,he=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={initedNode:!1,currentNodeAddress:null,newNodeAddress:"",error:null,testing:!1},a.connectionListener=a.connectionListener.bind(Object(U.a)(Object(U.a)(a)));var n=window.localStorage.getItem("address2");return a.didOneUpdate?(n||(n="wss://gateway.fusionnetwork.io:10001"),a.setState({newNodeAddress:n,currentNodeAddress:n,initedNode:!0})):(n||(n="wss://gateway.fusionnetwork.io:10001"),a.state.currentNodeAddress=n,a.state.newNodeAddress=n,a.state.initedNode=!0),Object(c.a)(a)}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){this.didOneUpdate=!0}},{key:"connectionListener",value:function(e,t){console.log("CONNECTION EVENTS FIRING AWAY",e),this.state.testing?("error"===e[0]&&(alert("Unable to connect to "+this.state.newNodeAddress),this.setState({testing:!1})),"connected"===e[0]&&(this.setState({connectionError:!1,testing:!1,currentNodeAddress:this.state.newNodeAddress}),window.localStorage.setItem("address2",this.state.newNodeAddress))):"error"===e[0]?this.setState({connectionError:!0}):"stillgood"===e[0]&&this.state.connectionError&&this.setState({connectionError:!1})}},{key:"setNodeAddress",value:function(e){me.setNodeAddress(e)}},{key:"componentDidMount",value:function(){me.on("connectstatus",this.connectionListener),this.state.newNodeAddress&&!this.state.testing&&me.setNodeAddress(this.state.newNodeAddress)}},{key:"componentWillUnmount",value:function(){me.removeEventListener("connectstatus",this.connectionListener)}},{key:"render",value:function(){var e=this;if(this.state.testing){var t=this.state.newNodeAddress;return t.length>18&&(t=t.substr(0,15)+"..."),r.a.createElement(f.a,{style:ue.testingBackground},r.a.createElement(f.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(y.a,{style:[ue.testingNode,{marginRight:4}]},t),r.a.createElement(fe.a,{animating:!0})))}if(this.state.error)return r.a.createElement(g.a,{onPress:function(){e.setState({error:void 0})}},r.a.createElement(f.a,{style:ue.errorBackground},r.a.createElement(y.a,{adjustsFontSizeToFit:!0,style:ue.errorText},this.state.error)));if(this.state.inputNodeMode)return r.a.createElement(f.a,{style:ue.inputBackground},r.a.createElement(b.a,{style:ue.nodeInput,placeholder:"http(s):// or ws(s):// address:port",autoCorrect:!1,placeholderTextColor:x.orderGrey,maxLength:128,value:this.state.newNodeAddress,clearButtonMode:"always",onChangeText:function(t){e.setState({newNodeAddress:t})},autoFocus:!0,onBlur:function(){e.setState({inputNodeMode:!1})},onKeyPress:function(t){13===t.charCode&&(e.state.newNodeAddress?(e.setState({testing:!0,connectionError:!1}),e.setNodeAddress(e.state.newNodeAddress)):e.setState({inputNodeMode:!1}))}}));if(!this.state.currentNodeAddress)return r.a.createElement(g.a,{onPress:function(){e.setState({inputNodeMode:!0})}},r.a.createElement(f.a,{style:ue.inputBackground},r.a.createElement(y.a,{style:ue.selectNode},"Select Node")));var a=this.state.currentNodeAddress;return a.length>26&&(a=a.substr(0,23)+"..."),r.a.createElement(g.a,{onPress:function(){e.setState({inputNodeMode:!0})}},r.a.createElement(f.a,{style:this.state.connectionError?ue.errorBackground:ue.standardBackground},r.a.createElement(f.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},!this.state.connectionError&&r.a.createElement("i",{key:"c11",className:"fa fa-check-circle",style:{color:x.successGreen,marginRight:4}}),r.a.createElement(y.a,{style:[ue.standardNode,{marginRight:4}]},a))))}}]),t}(n.Component);ue=p.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",width:"100%"},errorBackground:{width:180,height:44,borderRadius:3,backgroundColor:x.errorRed,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center"},errorText:{fontSize:12,fontFamily:w.mediumFont,color:x.white},nodeInput:{borderColor:x.orderGrey,borderRadius:3,backgroundColor:"white",borderWidth:1,fontSize:12,fontFamily:w.mediumFont,color:x.labelGrey,width:148,height:32,outline:"none",paddingLeft:2,paddingRight:2,paddingTop:4,paddingBottom:4},standardNode:{color:x.textBlue,fontSize:12,fontWeight:w.regularFont,fontFamily:w.fontFamily},standardBackground:{width:180,height:44,borderRadius:3,borderWidth:1,borderColor:x.orderGrey,backgroundColor:x.white,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center",overflow:"hidden"},inputBackground:{width:180,height:44,borderRadius:3,backgroundColor:x.linkBlue,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",justifyContent:"center",alignItems:"center",overflow:"hidden"},testingNode:{fontSize:12,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.black,textAlign:"center"},testingBackground:{width:180,height:44,borderRadius:3,backgroundColor:x.lightSuccessGreen,flex:1,flexGrow:1,flexShrink:0,flexBasis:"auto",alignItems:"center",justifyContent:"center",overflow:"hidden"},selectNode:{fontSize:14,fontFamily:w.fontFamily,fontWeight:w.regularFont,color:x.white,backgroundColor:x.linkBlue,textAlign:"center"}});var ye=a(480),ge=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{style:ke.container},r.a.createElement(f.a,{style:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}},r.a.createElement(k.a,{source:ye,resizeMode:"contain",style:{marginLeft:80,width:129,height:29}}),r.a.createElement(y.a,{style:ke.titleAutoBuy},"Auto Buy Stake"),r.a.createElement(y.a,{style:ke.programVersion},"1.00.00")),r.a.createElement(f.a,{style:ke.nodeSelectBox},r.a.createElement(he,null)))}}]),t}(n.Component),ke=p.a.create({container:{flex:1,flexGrow:1,flexShrink:0,flexDirection:"row",flexBasis:"auto",justifyContent:"flex-start",alignItems:"center",height:72,width:"100%",backgroundColor:x.white,overflow:"visible",boxShadow:"inset 0 -1px 0 0 #bdc4ce"},borderTitle:{width:.9,backgroundColor:x.grey,height:19,marginLeft:14,marginRight:14},titleAutoBuy:{fontFamily:w.fontFamily,fontSize:22,fontWeight:w.boldFont,marginLeft:15},programVersion:{fontFamily:w.fontFamily,fontSize:12,fontWeight:w.regularFont,color:x.textBlue,padding:1,marginLeft:8,backgroundColor:x.grey},nodeSelectBox:{alignSelf:"center",marginRight:32,marginLeft:32}}),be=a(496),pe=a(495),xe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(ge,null),r.a.createElement(be.a,{history:h},r.a.createElement("div",null,r.a.createElement(pe.a,{exact:!0,path:"/",component:V}),r.a.createElement(pe.a,{path:"/Status",component:de})," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(pe.a,{path:"/UnlockAccount",component:V}),r.a.createElement(pe.a,{path:"/PurchaseTicket",component:ae}),r.a.createElement(pe.a,{path:"/Block/:blockNumber",component:re}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[227,2,1]]]);
//# sourceMappingURL=main.bdc745fb.chunk.js.map